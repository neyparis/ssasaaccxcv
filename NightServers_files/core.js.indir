(function(e){function t(t){for(var n,r,o=t[0],s=t[1],a=0,c=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);h&&h(t);while(c.length)c.shift()()}var n={},r={core:0},i={core:0};function o(e){return s.p+"widget/js/"+({brokers:"brokers","vendors~widget-ui":"vendors~widget-ui","widget-ui":"widget-ui","lazy-iwc":"lazy-iwc","lazy-modules":"lazy-modules","vendors~widget-sc-client":"vendors~widget-sc-client","widget-sc-client":"widget-sc-client"}[e]||e)+".js?ebf4f08c"}function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],n={"widget-ui":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var i="widget/css/widget.css?ebf4f08c",o=s.p+i,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],h=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(h===i||h===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],h=u.getAttribute("data-href");if(h===i||h===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var i=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete r[e],d.parentNode.removeChild(d),n(s)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=c);var u,h=document.createElement("script");h.charset="utf-8",h.timeout=120,s.nc&&h.setAttribute("nonce",s.nc),h.src=o(e);var l=new Error;u=function(t){h.onerror=h.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}i[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:h})}),12e4);h.onerror=h.onload=u,document.head.appendChild(h)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://static.arc.io/",s.oe=function(e){throw console.error(e),e};var a=window["arcWidgetJsonp"]=window["arcWidgetJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var h=c;s(s.s="20c9")})({0:function(e,t){},"01f9":function(e,t,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),c=n("41a0"),u=n("7f20"),h=n("38fd"),l=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",g="values",_=function(){return this};e.exports=function(e,t,n,m,y,b,w){c(n,t,m);var v,E,O,R=function(e){if(!d&&e in k)return k[e];switch(e){case p:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",S=y==g,I=!1,k=e.prototype,C=k[l]||k[f]||y&&k[y],A=C||R(y),x=y?S?R("entries"):A:void 0,P="Array"==t&&k.entries||C;if(P&&(O=h(P.call(new e)),O!==Object.prototype&&O.next&&(u(O,T,!0),r||"function"==typeof O[l]||s(O,l,_))),S&&C&&C.name!==g&&(I=!0,A=function(){return C.call(this)}),r&&!w||!d&&!I&&k[l]||s(k,l,A),a[t]=A,a[T]=_,y)if(v={values:S?A:R(g),keys:b?A:R(p),entries:x},w)for(E in v)E in k||o(k,E,v[E]);else i(i.P+i.F*(d||I),t,v);return v}},"02f4":function(e,t,n){var r=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"051a":function(e,t,n){(function(t){var r=n("34eb")("simple-peer"),i=n("de83"),o=n("11dc"),s=n("e372"),a=n("8712"),c=65536,u=5e3,h=5e3;function l(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function d(e,t){var n=new Error(e);return n.code=t,n}function f(e){console.warn(e)}class p extends s.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=o(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||o(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||p.channelConfig,this.config=Object.assign({},p.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||u,this.destroyed=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"===typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"===typeof window?d("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):d("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){return void a(()=>this.destroy(d(t,"ERR_PC_CONSTRUCTOR")))}this._isReactNativeWebrtc="number"===typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},this.initiator?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach(e=>{this.addStream(e)}),this._pc.ontrack=e=>{this._onTrack(e)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw d("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e=>{this._addIceCandidate(e)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(e=>{this.destroy(d(e,"ERR_SET_REMOTE_DESCRIPTION"))}),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(d("signal() called with invalid signal data","ERR_SIGNALING"))}_addIceCandidate(e){var t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(e=>{!t.address||t.address.endsWith(".local")?f("Ignoring unsupported ICE candidate."):this.destroy(d(e,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,t){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(n){this.destroy(d(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:t}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(t=>{this.addTrack(t,e)})}addTrack(e,t){this._debug("addTrack()");var n=this._senderMap.get(e)||new Map,r=n.get(t);if(r)throw r.removed?d("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED"):d("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}replaceTrack(e,t,n){this._debug("replaceTrack()");var r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw d("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(d("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){this._debug("removeSender()");var n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw d("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(i){"NS_ERROR_UNEXPECTED"===i.name?this._sendersAwaitingStable.push(r):this.destroy(d(i,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(t=>{this.removeTrack(t,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating||(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}destroy(e){this._destroy(e,()=>{})}_destroy(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()}}_setupData(e){if(!e.channel)return this.destroy(d("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"===typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=c),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{this.destroy(d(e,"ERR_DATA_CHANNEL"))};var t=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1},h)}_read(){}_write(e,t,n){if(this.destroyed)return n(d("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(r){return this.destroy(d(r,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>c?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=l(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){var t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})}},n=()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))},r=e=>{this.destroy(d(e,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(r)}).catch(e=>{this.destroy(d(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=l(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){var t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()}},n=()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))},r=e=>{this.destroy(d(e,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(n).catch(r)}).catch(e=>{this.destroy(d(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(d("Connection failed.","ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(d("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(d("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){const t=e=>{return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach(t=>{Object.assign(e,t)}),e};0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{var r=[];n.forEach(e=>{r.push(t(e))}),e(null,r)},t=>e(t)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(!this.destroyed){var r=[];n.result().forEach(e=>{var n={};e.names().forEach(t=>{n[t]=e.stat(t)}),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,r.push(t(n))}),e(null,r)}},t=>e(t)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats((t,n)=>{if(this.destroyed)return;t&&(n=[]);var r={},i={},o={},s=!1;n.forEach(e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(r[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(i[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(o[e.id]=e)});const a=e=>{s=!0;var t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"===typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var n=r[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"===typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(e=>{"transport"===e.type&&e.selectedCandidatePairId&&a(o[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&a(e)}),s||Object.keys(o).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(d(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var c=this._cb;this._cb=null,c(null)}"number"!==typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>c||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"!==this._pc.signalingState||this._firstStable||(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var n=e.data;n instanceof ArrayBuffer&&(n=t.from(n)),this.push(n)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some(e=>{return e.id===t.id})||(this._remoteStreams.push(t),a(()=>{this.emit("stream",t)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)}}p.WEBRTC_SUPPORT=!!i(),p.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},p.channelConfig={},e.exports=p}).call(this,n("b639").Buffer)},"0774":function(e,t,n){var r=n("42a7"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=r(i)},"0809":function(e,t,n){(function(t){const r=n("d05a"),i=n("8fe2"),o=n("d329"),s=n("34eb")("bittorrent-protocol"),a=n("11dc"),c=n("7b03"),u=n("e372"),h=4e5,l=55e3,d=t.from("BitTorrent protocol"),f=t.from([0,0,0,0]),p=t.from([0,0,0,1,0]),g=t.from([0,0,0,1,1]),_=t.from([0,0,0,1,2]),m=t.from([0,0,0,1,3]),y=[0,0,0,0,0,0,0,0],b=[0,0,0,3,9,0,0];class w{constructor(e,t,n,r){this.piece=e,this.offset=t,this.length=n,this.callback=r}}class v extends u.Duplex{constructor(){super(),this._debugId=a(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=null,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new o(0,{grow:h}),this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=c(),this.downloadSpeed=c(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this.once("finish",()=>this._onFinish()),this._parseHandshake()}setKeepAlive(e){this._debug("setKeepAlive %s",e),clearInterval(this._keepAliveInterval),!1!==e&&(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},l))}setTimeout(e,t){this._debug("setTimeout ms=%d unref=%s",e,t),this._clearTimeout(),this._timeoutMs=e,this._timeoutUnref=!!t,this._updateTimeout()}destroy(){this.destroyed||(this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end())}end(...e){this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...e)}use(e){const t=e.prototype.name;if(!t)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",t);const n=this._nextExt,r=new e(this);function i(){}"function"!==typeof r.onHandshake&&(r.onHandshake=i),"function"!==typeof r.onExtendedHandshake&&(r.onExtendedHandshake=i),"function"!==typeof r.onMessage&&(r.onMessage=i),this.extendedMapping[n]=t,this._ext[t]=r,this[t]=r,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(f)}handshake(e,n,r){let i,o;if("string"===typeof e?(e=e.toLowerCase(),i=t.from(e,"hex")):(i=e,e=i.toString("hex")),"string"===typeof n?o=t.from(n,"hex"):(o=n,n=o.toString("hex")),20!==i.length||20!==o.length)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",e,n,r);const s=t.from(y);s[5]|=16,r&&r.dht&&(s[7]|=1),this._push(t.concat([d,s,i,o])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const e=Object.assign({},this.extendedHandshake);e.m={};for(const t in this.extendedMapping){const n=this.extendedMapping[t];e.m[n]=Number(t)}this.extended(0,i.encode(e)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking){this.amChoking=!0,this._debug("choke");while(this.peerRequests.length)this.peerRequests.pop();this._push(p)}}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(g))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(_))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(m))}have(e){this._debug("have %d",e),this._message(4,[e],null)}bitfield(e){this._debug("bitfield"),t.isBuffer(e)||(e=e.buffer),this._message(5,[],e)}request(e,t,n,r){return r||(r=()=>{}),this._finished?r(new Error("wire is closed")):this.peerChoking?r(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",e,t,n),this.requests.push(new w(e,t,n,r)),this._updateTimeout(),void this._message(6,[e,t,n],null))}piece(e,t,n){this._debug("piece index=%d offset=%d",e,t),this.uploaded+=n.length,this.uploadSpeed(n.length),this.emit("upload",n.length),this._message(7,[e,t],n)}cancel(e,t,n){this._debug("cancel index=%d offset=%d length=%d",e,t,n),this._callback(this._pull(this.requests,e,t,n),new Error("request was cancelled"),null),this._message(8,[e,t,n],null)}port(e){this._debug("port %d",e);const n=t.from(b);n.writeUInt16BE(e,5),this._push(n)}extended(e,n){if(this._debug("extended ext=%s",e),"string"===typeof e&&this.peerExtendedMapping[e]&&(e=this.peerExtendedMapping[e]),"number"!==typeof e)throw new Error(`Unrecognized extension: ${e}`);{const r=t.from([e]),o=t.isBuffer(n)?n:i.encode(n);this._message(20,[],t.concat([r,o]))}}_read(){}_message(e,n,r){const i=r?r.length:0,o=t.allocUnsafe(5+4*n.length);o.writeUInt32BE(o.length+i-4,0),o[4]=e;for(let t=0;t<n.length;t++)o.writeUInt32BE(n[t],5+4*t);this._push(o),r&&this._push(r)}_push(e){if(!this._finished)return this.push(e)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onHandshake(e,t,n){const r=e.toString("hex"),i=t.toString("hex");let o;for(o in this._debug("got handshake i=%s p=%s exts=%o",r,i,n),this.peerId=i,this.peerIdBuffer=t,this.peerExtensions=n,this.emit("handshake",r,i,n),this._ext)this._ext[o].onHandshake(r,i,n);n.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){this.peerChoking=!0,this._debug("got choke"),this.emit("choke");while(this.requests.length)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(e){this.peerPieces.get(e)||(this._debug("got have %d",e),this.peerPieces.set(e,!0),this.emit("have",e))}_onBitField(e){this.peerPieces=new o(e),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(e,t,n){if(this.amChoking)return;this._debug("got request index=%d offset=%d length=%d",e,t,n);const r=(r,o)=>{if(i===this._pull(this.peerRequests,e,t,n))return r?this._debug("error satisfying request index=%d offset=%d length=%d (%s)",e,t,n,r.message):void this.piece(e,t,o)};var i=new w(e,t,n,r);this.peerRequests.push(i),this.emit("request",e,t,n,r)}_onPiece(e,t,n){this._debug("got piece index=%d offset=%d",e,t),this._callback(this._pull(this.requests,e,t,n.length),null,n),this.downloaded+=n.length,this.downloadSpeed(n.length),this.emit("download",n.length),this.emit("piece",e,t,n)}_onCancel(e,t,n){this._debug("got cancel index=%d offset=%d length=%d",e,t,n),this._pull(this.peerRequests,e,t,n),this.emit("cancel",e,t,n)}_onPort(e){this._debug("got port %d",e),this.emit("port",e)}_onExtended(e,t){if(0===e){let e,r;try{e=i.decode(t)}catch(n){this._debug("ignoring invalid extended handshake: %s",n.message||n)}if(!e)return;if(this.peerExtendedHandshake=e,"object"===typeof e.m)for(r in e.m)this.peerExtendedMapping[r]=Number(e.m[r].toString());for(r in this._ext)this.peerExtendedMapping[r]&&this._ext[r].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[e]&&(e=this.extendedMapping[e],this._ext[e]&&this._ext[e].onMessage(t)),this._debug("got extended message ext=%s",e),this.emit("extended",e,t)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(e,n,r){this._bufferSize+=e.length,this._buffer.push(e);while(this._bufferSize>=this._parserSize){const e=1===this._buffer.length?this._buffer[0]:t.concat(this._buffer);this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[e.slice(this._parserSize)]:[],this._parser(e.slice(0,this._parserSize))}r(null)}_callback(e,t,n){e&&(this._clearTimeout(),this.peerChoking||this._finished||this._updateTimeout(),e.callback(t,n))}_clearTimeout(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)}_updateTimeout(){this._timeoutMs&&this.requests.length&&!this._timeout&&(this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref())}_parse(e,t){this._parserSize=e,this._parser=t}_onMessageLength(e){const t=e.readUInt32BE(0);t>0?this._parse(t,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(e){switch(this._parse(4,this._onMessageLength),e[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(e.readUInt32BE(1));case 5:return this._onBitField(e.slice(1));case 6:return this._onRequest(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 7:return this._onPiece(e.readUInt32BE(1),e.readUInt32BE(5),e.slice(9));case 8:return this._onCancel(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 9:return this._onPort(e.readUInt16BE(1));case 20:return this._onExtended(e.readUInt8(1),e.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",e)}}_parseHandshake(){this._parse(1,e=>{const t=e.readUInt8(0);this._parse(t+48,e=>{const n=e.slice(0,t);if("BitTorrent protocol"!==n.toString())return this._debug("Error: wire not speaking BitTorrent protocol (%s)",n.toString()),void this.end();e=e.slice(t),this._onHandshake(e.slice(8,28),e.slice(28,48),{dht:!!(1&e[7]),extended:!!(16&e[5])}),this._parse(4,this._onMessageLength)})})}_onFinish(){this._finished=!0,this.push(null);while(this.read());clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});while(this.peerRequests.length)this.peerRequests.pop();while(this.requests.length)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...e){e[0]=`[${this._debugId}] ${e[0]}`,s(...e)}_pull(e,t,n,i){for(let o=0;o<e.length;o++){const s=e[o];if(s.piece===t&&s.offset===n&&s.length===i)return r(e,o),s}return null}}e.exports=v}).call(this,n("b639").Buffer)},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d21":function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},"0d31":function(e,t,n){"use strict";n("ac6a");var r=n("3835"),i=n("1da1"),o=n("ade3"),s=n("3d15"),a=n("faa1"),c=n.n(a),u=n("517b"),h=n("ad2b"),l=n.n(h),d=n("8c32"),f=n("a5a5"),p=n("81e8"),g=n("c4d1");const _=16,m="AES-CTR";function y(e){return b.apply(this,arguments)}function b(){return b=Object(i["a"])((function*(e){return crypto.subtle.importKey("raw",e,m,!1,["decrypt"])})),b.apply(this,arguments)}function w(e,t,n){return v.apply(this,arguments)}function v(){return v=Object(i["a"])((function*(e,t,n){const r=Math.floor(n/_),i=n%_,o=O(r),s={name:m,counter:o,length:128};if(i>0){const e=new ArrayBuffer(i);t=E(e,t)}let a=yield crypto.subtle.decrypt(s,e,t);return i>0&&(a=a.slice(i)),new Uint8Array(a)})),v.apply(this,arguments)}function E(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}function O(e){const t=new DataView(new ArrayBuffer(16));for(let n=15;n>=0;--n)t.setUint8(n,e%256),e>>=8;return t.buffer}var R={importSubtleKey:y,decrypt:w},T=n("d1a0"),S=n("5de4"),I=n("7f1b"),k=n("0ecd");n("72db");class C{constructor(e){this.storeAsync=e,this.mem=[]}get(e,t,n){var r=this;return Object(i["a"])((function*(){if("function"===typeof t)return r.get(e,null,t);const i=(null===t||void 0===t?void 0:t.offset)||0,o=(null===t||void 0===t?void 0:t.length)&&i+t.length,s=r.mem[e];if(s)return n(null,t?s.slice(i,o):s);(yield r.storeAsync).get(e,t,n)}))()}put(e,t,n){var r=this;return Object(i["a"])((function*(){r.mem[e]=t,(yield r.storeAsync).put(e,t,t=>{r.mem[e]=null,n&&n(t)})}))()}remove(e,t){var n=this;return Object(i["a"])((function*(){(yield n.storeAsync).remove(e,t)}))()}close(e){var t=this;return Object(i["a"])((function*(){(yield t.storeAsync).close(e)}))()}destroy(e){var t=this;return Object(i["a"])((function*(){(yield t.storeAsync).destroy(e)}))()}}var A=C;function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const N=n("34eb")("arc:p2p-client"),L=(console.log,64);c.a.defaultMaxListeners=1/0;class j{constructor(){Object(o["a"])(this,"nodeId",null),Object(o["a"])(this,"propertyId",null),Object(o["a"])(this,"broker",null),Object(o["a"])(this,"reporter",null),Object(o["a"])(this,"isViableSeeder",null),Object(o["a"])(this,"isDestroyed",!1),Object(o["a"])(this,"region",null),Object(o["a"])(this,"cleanupFns",[]),Object(p["a"])(),this._createTorrentClient()}_createTorrentClient(){var e;if(!l.a.WEBRTC_SUPPORT)throw new Error("No WebRTC support.");const t={dht:!1,tracker:{trickle:S["h"].isTruthy("trickle",!0),rtcConfig:{iceCandidatePoolSize:3},getAnnounceOpts(){return{numwant:S["h"].asNumber("numwant",10)}}},webSeeds:!0,maxConns:L};(null===(e=window.__arc__)||void 0===e?void 0:e.peerId)?t.peerId=window.__arc__.peerId:t.peerId=Object(d["e"])(),this.torrentClient=new l.a(t).on("error",e=>{N("Error",e),g["a"].captureException(e)})}get peerId(){return this.torrentClient.peerId}setNodeId(e){this.nodeId=e}setPropertyId(e){this.propertyId=e}setBroker(e){this.broker=e,this.setBrokerPromise(Promise.resolve(e))}setBrokerPromise(e){this.brokerPromise=e}setReporter(e){this.reporter=e}setOvermindClient(e){this.overmindClient=e}startTorrentingFile(e,t){var n=arguments,r=this;return Object(i["a"])((function*(){let i=n.length>2&&void 0!==n[2]?n[2]:{};const o=e.fid,s=e.torrentFileObj,a=e.cipherKey,c=void 0===a?null:a;let u;if(i.skipWaitingForBroker){const e=r.brokerPromise.then(e=>{return e.createStore(o,s)});u=new A(e)}else{const e=yield r.brokerPromise;u=yield e.createStore(o,s)}i=P({maxWebConns:6,store:function(){return u}},i),s.urlList=r._addQueryParamsToUrlList(s.urlList,{_arc_client:t,propertyId:r.propertyId}),s.announce=r._addQueryParamsToUrlList(s.announce,{peerId:r.torrentClient.peerId});let h=r.torrentClient.get(s);if(null!==h)return h;if(h=yield r._addTorrent(o,t,s,i),r.reporter&&r._addDataTransferReportHooks(o,h,t),c){const e=yield R.importSubtleKey(c);h._arc_decrypt=(t,n)=>{const r=n*h.pieceLength;return R.decrypt(e,t,r)}}return h}))()}_addTorrent(e,t,n,r){const i=this.torrentClient.add(n,r);i.on("upload",Object(u["a"])(()=>{const e=i.uploaded,t=i.uploadSpeed;N(`Uploaded ${e} @ ${t/1e3} kBps`)},250)).on("download",Object(u["a"])(()=>{const e=i.downloaded,t=i.downloadSpeed;N(`Downloaded ${e} @ ${t/1e3} kBps`)},250)).on("wire",(e,t)=>{e.once("download",()=>{const t="webSeed"===e.type?"http":"p2p";o.markOnce(`${t}_1st_byte`)})}).on("peer",e=>{}).on("invalidPeer",e=>{}).on("noPeers",e=>{o.markOnce("no_peers")}).on("error",e=>{N("Torrent error",e),g["a"].captureException(e)}).on("warning",e=>{N(`Torrent warning: ${e}`),/Cannot create so many PeerConnections/.test(e)||/failed verification/.test(e)}),i._arc_fid=e,i._arc_client=t,i._arc_isLocked=t!==f["m"];const o=new T["b"]({id:`torrent_${e}`,enabled:t!==f["m"]});return o.mark("add"),N("Torrent",e,i,r),new Promise(e=>{i.once("ready",()=>e(i))})}_addDataTransferReportHooks(e,t,n){const r=this.reporter;t.on("wire",i=>{if("webSeed"===i.type)return;t._rechoke();const o=t.client.peerId,s=t._peers[i.peerId].conn.channelName;function a(){r.reportDataTransfer(s,i.type,e,o,i.peerId,i.uploaded,i.downloaded,n)}i.on("upload",a),i.on("download",a),i.once("close",()=>r.closeDataTransfer(s))})}stopTorrentingFile(e){var t=this;return Object(i["a"])((function*(){return new Promise(n=>{t.torrentClient.remove(e,n)})}))()}_addQueryParamsToUrlList(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map(e=>{const n=new URL(e);for(const o of Object.entries(t)){var i=Object(r["a"])(o,2);const e=i[0],t=i[1];n.searchParams.set(e,t)}return n.href})}getProxiedFile(e,t,n){var r=this;return Object(i["a"])((function*(){const i=yield r.startTorrentingFile(e,t,n),o=Object.values(i._peers).find(e=>{return"webSeed"===e.type});if(o&&o.conn&&!o.conn._isMonkeyPatched){const e=o.conn;e._isMonkeyPatched=!0,e.httpRequest=(()=>{const t=e.httpRequest.bind(e);return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.pop(),o=(e,t)=>{e&&a.emit("webseedErr",e),i(e,t)};t(...n,o)}})()}const a=i.files[0];return a._isMonkeyPatched||(a._isMonkeyPatched=!0,a.createReadStream=(()=>{const e=a.createReadStream.bind(a);return function(){return s["b"](e(...arguments))}})()),s["b"](a)}))()}getStatusReport(){var e=this;return Object(i["a"])((function*(){var t;let n=[];try{n=yield Promise.all([e.broker.generateStorageReport(),e.broker.getCustomStorageEstimate(),e.broker.getBrokerIds(),e.broker.listPropertySessions()])}catch(m){N(m)}const i=n,o=Object(r["a"])(i,4),s=o[0],a=void 0===s?{}:s,c=o[1],u=void 0===c?{}:c,h=o[2],l=void 0===h?[]:h,p=o[3],g=void 0===p?[]:p;for(const r of e.torrentClient.torrents){const e=[];for(let t=0,n=r.pieces.length;t<n;++t)r.bitfield.get(t)&&e.push(t);a[r._arc_fid]={isSeeding:!r.paused,clientName:r._arc_client,uploaded:r.uploaded,downloaded:r.downloaded,hasTorrentFile:!0,chunkIndexes:e}}const _={nodeId:e.nodeId,isViableSeeder:e.isViableSeeder,files:Object(d["g"])(a),storageEstimate:u,widgetConfig:Object(k["c"])(),numTabs:l.length,propertySessions:g,url:location.href,userAgent:navigator.userAgent,gitHash:"ebf4f08c",perf:{timeOrigin:null===(t=T["c"].toJSON())||void 0===t?void 0:t.timeOrigin,entries:[]},actions:Object.values(f["d"])};return _}))()}performTask(e){var t=this;return Object(i["a"])((function*(){const n=f["d"];switch(e.action){case n.STORE_FILE:case n.STORE_CHUNKS:return t._storeChunks(e);case n.PURGE_FILE:return t._purgeFile(e);case n.PURGE_FILES:return t._purgeFiles(e);case n.PURGE_CHUNKS:return t._purgeChunks(e);case n.START_TORRENTING_FILE:break;case n.STOP_TORRENTING_FILE:{const n=e.data.fid,r=t.torrentClient.torrents,i=r.find(e=>e._arc_fid===n);i&&(yield t.stopTorrentingFile(i));break}case n.VERIFY_FILE:break;case n.RUN_CODE:return t._runCode(e);default:N("unknown task action!")}}))()}_storeChunks(e){var t=this;return Object(i["a"])((function*(){const n=e.data,i=n.fid,o=n.b64TorrentFile,s=n.chunkIndexes,a=Object(I["a"])(o),c={fid:i,torrentFileObj:a},u=yield t.startTorrentingFile(c,f["m"]),h=0;if(u.deselect(0,u.pieces.length-1,h),u.resume(),0===u.urlList.length){u.urlList=a.urlList.slice();for(const e of a.urlList)u.addWebSeed(e);yield new Promise(e=>u.once("wire",e))}const l=Object(S["a"])(s);for(const e of l){const t=Object(r["a"])(e,2),n=t[0],i=t[1];u.select(n,i)}if(!u.done)return new Promise((e,t)=>{u.once("done",e),u.once("error",t)})}))()}_purgeFiles(e){var t=this;return Object(i["a"])((function*(){const n=e.data.fids.map(e=>({data:{fid:e}}));for(const e of n)yield t._purgeFile(e)}))()}_purgeFile(e){var t=this;return Object(i["a"])((function*(){const n=e.data.fid,r=yield t.broker.getTorrentFileObject(n);if(!r)return void(yield t.broker.destroyFile(n));const i=t.torrentClient.get(r);null!==i&&(yield t.stopTorrentingFile(r));const o=yield t.broker.createStore(n,r);return new Promise((e,t)=>{o.destroy(r=>{if(r)return t(r);N(`Destroyed torrent for fid: ${n}`),e()})})}))()}_purgeChunks(e){var t=this;return Object(i["a"])((function*(){const n=e.data,r=n.fid,i=n.b64TorrentFile,o=n.chunkIndexes,s=Object(I["a"])(i),a=t.torrentClient.get(s);null!==a&&(yield t.stopTorrentingFile(s));const c=yield t.broker.createStore(r,s),u=o.map(e=>{return new Promise(t=>c.remove(e,t))});yield Promise.all(u),N(`Purged chunks from file ${r}`,o);const h={fid:r,torrentFileObj:s};yield t.seedFile(h)}))()}_runCode(e){var t=this;return Object(i["a"])((function*(){const n=e.data.code,r=`return async function (p2pClient) { ${n} }`,i=new Function("p2pClient",r)(),o=yield i(t);return o}))()}updateSeederStatus(e){var t=this;return Object(i["a"])((function*(){if(t.isViableSeeder!==e){if(t.isViableSeeder=e,e){let e=t.overmindClient.config.maxFilesSeeding;yield t._seedFiles(e)}else yield t._pauseSeedingFiles();yield t.overmindClient.sendStatusReport()}}))()}_pauseSeedingFiles(){var e=this;return Object(i["a"])((function*(){const t=e.torrentClient.torrents,n=t.filter(e=>!e._arc_isLocked);for(const e of n)e.pause()}))()}_seedFiles(){var e=arguments,t=this;return Object(i["a"])((function*(){let n=e.length>0&&void 0!==e[0]?e[0]:5;const i=t.torrentClient.torrents,o=i.length;if(o>=n)return void N(`Already seeding >= ${n} files, doing nothing.`);const s=i.map(e=>e._arc_fid),a=n-o;N(`Seeding ${o} files, will seed ${a} more`);const c=yield t.broker.getFilesToSeed(a,s);for(const e of Object.entries(c)){var u=Object(r["a"])(e,2);const n=u[0],i=u[1],o={fid:n,torrentFileObj:i};yield t.seedFile(o),yield Object(d["k"])(1e3)}}))()}seedFile(e){var t=this;return Object(i["a"])((function*(){e.torrentFileObj.urlList=[];const n=yield t.startTorrentingFile(e,f["m"]);for(const e of n.files)e.deselect&&e.deselect();const r=0;return n.deselect(0,n.pieces.length-1,r),n.resume(),n}))()}addCleanupFn(e){this.cleanupFns.push(e)}destroy(){var e=this;return Object(i["a"])((function*(){e.isDestroyed=!0,yield e.broker.destroy(),yield e.reporter.destroy(),e.torrentClient.destroy(),e.overmindClient&&e.overmindClient.destroy(),e.broker=null,e.reporter=null,e.torrentClient=null,e.overmindClient=null,e.cleanupFns.forEach(e=>e()),e.cleanupFns=[]}))()}}t["a"]=new j},"0d58":function(e,t,n){var r=n("ce10"),i=n("e11e");e.exports=Object.keys||function(e){return r(e,i)}},"0d7c":function(e,t,n){(function(t){const n="object"===typeof t&&Object({NODE_ENV:"production",BASE_URL:"https://static.arc.io/",ACCOUNT_ORIGIN:"https://account.arc.io",BANDWIDTH_WARDEN_ORIGIN:"https://warden.arc.io",COGNITO_APP_ID:"431634imeo45noat90ccl0lkep",COGNITO_REGION:"us-east-2",COGNITO_IDENTITY_POOL_ID:"us-east-2:cec1bb4c-3aa1-4d9a-87df-b75ae59441d0",COGNITO_USER_POOL_ID:"us-east-2_3sKO4HOjv",COMMIT_HASH:"ebf4f08c",CORE_ORIGIN:"https://core.arc.io",DEMO_VUE_ORIGIN:"https://demo.arc.io",DOCS_ORIGIN:"https://docs.arc.io",FIREBASE_API_KEY:"AIzaSyCGmeUDT5F7Bq77JvXlN8IXBwJjIXJwvcI",GA_TID_HOMEPAGE:"UA-123508647-1",GA_TID_USER_TIMING:"UA-123508647-2",GATEWAY_ORIGIN:"https://gateway.arc.io",GOOGLE_PROJECT_FIRESTORE_ID:"prod-firestore-arc",HOMEPAGE_ORIGIN:"https://arc.io",INLAY_ORIGIN:"https://inlay.arc.io",OVERMIND_ORIGIN:"https://overmind.arc.io",PORTAL_VUE_ORIGIN:"https://portal.arc.io",PORTAL_ORIGIN:"https://portal.arc.io",NODE_REPORT_MAILBOX_ORIGIN:"https://warden.arc.io",ROOT_DOMAIN:"arc.io",SOCKETCLUSTER_HOSTNAME:"socket.arc.io",SOCKETCLUSTER_PORT:"443",STATIC_ORIGIN:"https://static.arc.io",STORAGE_ORIGIN:"https://storage.arc.io",STRIPE_CLIENT_ID:"ca_DMhwnlBqMfP4Vx8mJF4M1nGxTNU5263W",STRIPE_PUBLISHABLE_KEY:"pk_live_Df4EdjIuSE8fW21HyuwWhJcm",SW_ORIGIN:"https://arc.io",TCDN_ORIGIN:"https://tcdn.arc.io",TRACKER_ANNOUNCE_URL:"wss://tracker.arc.io/announce",TRACKER_ORIGIN:"https://tracker.arc.io",WAMP_ROUTER_URL:"wss://router.arc.io/ws",WEBSEED_ORIGIN:"https://webseed.arc.io",WIDGET_ORIGIN:"https://arc.io",DEBUG:"false"})&&Object({NODE_ENV:"production",BASE_URL:"https://static.arc.io/",ACCOUNT_ORIGIN:"https://account.arc.io",BANDWIDTH_WARDEN_ORIGIN:"https://warden.arc.io",COGNITO_APP_ID:"431634imeo45noat90ccl0lkep",COGNITO_REGION:"us-east-2",COGNITO_IDENTITY_POOL_ID:"us-east-2:cec1bb4c-3aa1-4d9a-87df-b75ae59441d0",COGNITO_USER_POOL_ID:"us-east-2_3sKO4HOjv",COMMIT_HASH:"ebf4f08c",CORE_ORIGIN:"https://core.arc.io",DEMO_VUE_ORIGIN:"https://demo.arc.io",DOCS_ORIGIN:"https://docs.arc.io",FIREBASE_API_KEY:"AIzaSyCGmeUDT5F7Bq77JvXlN8IXBwJjIXJwvcI",GA_TID_HOMEPAGE:"UA-123508647-1",GA_TID_USER_TIMING:"UA-123508647-2",GATEWAY_ORIGIN:"https://gateway.arc.io",GOOGLE_PROJECT_FIRESTORE_ID:"prod-firestore-arc",HOMEPAGE_ORIGIN:"https://arc.io",INLAY_ORIGIN:"https://inlay.arc.io",OVERMIND_ORIGIN:"https://overmind.arc.io",PORTAL_VUE_ORIGIN:"https://portal.arc.io",PORTAL_ORIGIN:"https://portal.arc.io",NODE_REPORT_MAILBOX_ORIGIN:"https://warden.arc.io",ROOT_DOMAIN:"arc.io",SOCKETCLUSTER_HOSTNAME:"socket.arc.io",SOCKETCLUSTER_PORT:"443",STATIC_ORIGIN:"https://static.arc.io",STORAGE_ORIGIN:"https://storage.arc.io",STRIPE_CLIENT_ID:"ca_DMhwnlBqMfP4Vx8mJF4M1nGxTNU5263W",STRIPE_PUBLISHABLE_KEY:"pk_live_Df4EdjIuSE8fW21HyuwWhJcm",SW_ORIGIN:"https://arc.io",TCDN_ORIGIN:"https://tcdn.arc.io",TRACKER_ANNOUNCE_URL:"wss://tracker.arc.io/announce",TRACKER_ORIGIN:"https://tracker.arc.io",WAMP_ROUTER_URL:"wss://router.arc.io/ws",WEBSEED_ORIGIN:"https://webseed.arc.io",WIDGET_ORIGIN:"https://arc.io",DEBUG:"false"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",BASE_URL:"https://static.arc.io/",ACCOUNT_ORIGIN:"https://account.arc.io",BANDWIDTH_WARDEN_ORIGIN:"https://warden.arc.io",COGNITO_APP_ID:"431634imeo45noat90ccl0lkep",COGNITO_REGION:"us-east-2",COGNITO_IDENTITY_POOL_ID:"us-east-2:cec1bb4c-3aa1-4d9a-87df-b75ae59441d0",COGNITO_USER_POOL_ID:"us-east-2_3sKO4HOjv",COMMIT_HASH:"ebf4f08c",CORE_ORIGIN:"https://core.arc.io",DEMO_VUE_ORIGIN:"https://demo.arc.io",DOCS_ORIGIN:"https://docs.arc.io",FIREBASE_API_KEY:"AIzaSyCGmeUDT5F7Bq77JvXlN8IXBwJjIXJwvcI",GA_TID_HOMEPAGE:"UA-123508647-1",GA_TID_USER_TIMING:"UA-123508647-2",GATEWAY_ORIGIN:"https://gateway.arc.io",GOOGLE_PROJECT_FIRESTORE_ID:"prod-firestore-arc",HOMEPAGE_ORIGIN:"https://arc.io",INLAY_ORIGIN:"https://inlay.arc.io",OVERMIND_ORIGIN:"https://overmind.arc.io",PORTAL_VUE_ORIGIN:"https://portal.arc.io",PORTAL_ORIGIN:"https://portal.arc.io",NODE_REPORT_MAILBOX_ORIGIN:"https://warden.arc.io",ROOT_DOMAIN:"arc.io",SOCKETCLUSTER_HOSTNAME:"socket.arc.io",SOCKETCLUSTER_PORT:"443",STATIC_ORIGIN:"https://static.arc.io",STORAGE_ORIGIN:"https://storage.arc.io",STRIPE_CLIENT_ID:"ca_DMhwnlBqMfP4Vx8mJF4M1nGxTNU5263W",STRIPE_PUBLISHABLE_KEY:"pk_live_Df4EdjIuSE8fW21HyuwWhJcm",SW_ORIGIN:"https://arc.io",TCDN_ORIGIN:"https://tcdn.arc.io",TRACKER_ANNOUNCE_URL:"wss://tracker.arc.io/announce",TRACKER_ORIGIN:"https://tracker.arc.io",WAMP_ROUTER_URL:"wss://router.arc.io/ws",WEBSEED_ORIGIN:"https://webseed.arc.io",WIDGET_ORIGIN:"https://arc.io",DEBUG:"false"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n("f28c"))},"0db6":function(e,t,n){"use strict";var r=n("c9b8").codes.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var s=i(t,o,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0){var a=o?n:"highWaterMark";throw new r(a,s)}return Math.floor(s)}return e.objectMode?16:16384}e.exports={getHighWaterMark:o}},"0e49":function(e,t,n){const r=n("f06c"),i=(e,t,n)=>r(e,t,n)>=0;e.exports=i},"0ecd":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return I}));n("6b54"),n("15fd"),n("28a5");var r=n("3835");n("ac6a");const i="tCDN",o="CDN",s="fulfillP2P",a="scope",c="onAdblock",u="requestOptIn",h="https://arc.io/widget.js",l="https://arc.io/widget.min.js",d="/arc-widget";const f=()=>({propertyId:null,[i]:!1,[o]:!0,[s]:!0,[a]:"/",[c]:null,env:"default",wpPluginVersion:null,isReverseProxied:!1}),p=e=>"boolean"===typeof e,g=(()=>{const e=f();return Object.keys(e).filter(t=>p(e[t]))})(),_=/^[a-km-zA-HJ-NP-Z1-9]{22}$/,m=/^[a-km-zA-HJ-NP-Z1-9]{8}$/,y=e=>e.startsWith(h+"?");function b(e,t){return t=C(e.searchParams,t),t.src=e.href,t}const w=e=>e.startsWith(h+"/");function v(e,t){const n=e.pathname,r=e.searchParams;return t=C(r,t),t.propertyId=R(n),t.src=e.href,t}const E=e=>{const t=e.href,n=e.pathname;return t.startsWith(h+"#")||t.startsWith(l+"#")||n.includes(d)};function O(e,t){const n=e.href.split(/#|[?]/),i=Object(r["a"])(n,3),o=(i[0],i[1]),s=i[2],a=new URLSearchParams(s);return t=C(a,t),t.propertyId=o,t.isReverseProxied=e.pathname.includes(d),t.src=e.href,t}function R(e){const t=e.split("/").filter(e=>e).pop();return m.test(t)||_.test(t)?t:null}function T(e){const t=new URL(e),n=t.host,r=t.pathname,i=`//${n}${r}`;return i}function S(){const e=document.querySelector(`\n        script[src^="${l}"],\n        script[src^="${h}"],\n        script[src*="${d}"],\n        script[src^="${T(l)}"],\n        script[src^="${T(h)}"]\n    `);return e}function I(){const e=f(),t=S();if(!t)return e;let n=t.getAttribute("src");return n.startsWith("//")?n=window.location.protocol+n:n.startsWith("/")&&(n=window.location.origin+n),k(n)}function k(e){const t=f(),n=new URL(e);return E(n)?O(n,t):w(e)?v(n,t):y(e)?b(n,t):t}function C(e,t){for(const i of e.entries()){var n=Object(r["a"])(i,2);const e=n[0],o=n[1];_.test(e)?t.propertyId=e:g.includes(e)?t[e]="true"===o.toLowerCase():e in t&&(t[e]=o)}return t}},1:function(e,t){},10:function(e,t){},11:function(e,t){},1131:function(e,t,n){var r=n("8707").Buffer;const i=105,o=58,s=100,a=108,c=101;function u(e,t,n){for(var r=0,i=1,o=t;o<n;o++){var s=e[o];if(s<58&&s>=48)r=10*r+(s-48);else if(o!==t||43!==s){if(o!==t||45!==s){if(46===s)break;throw new Error("not a number: buffer["+o+"] = "+s)}i=-1}}return r*i}function h(e,t,n,i){return null==e||0===e.length?null:("number"!==typeof t&&null==i&&(i=t,t=void 0),"number"!==typeof n&&null==i&&(i=n,n=void 0),h.position=0,h.encoding=i||null,h.data=r.isBuffer(e)?e.slice(t,n):r.from(e),h.bytes=h.data.length,h.next())}h.bytes=0,h.position=0,h.data=null,h.encoding=null,h.next=function(){switch(h.data[h.position]){case s:return h.dictionary();case a:return h.list();case i:return h.integer();default:return h.buffer()}},h.find=function(e){var t=h.position,n=h.data.length,r=h.data;while(t<n){if(r[t]===e)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")},h.dictionary=function(){h.position++;var e={};while(h.data[h.position]!==c)e[h.buffer()]=h.next();return h.position++,e},h.list=function(){h.position++;var e=[];while(h.data[h.position]!==c)e.push(h.next());return h.position++,e},h.integer=function(){var e=h.find(c),t=u(h.data,h.position+1,e);return h.position+=e+1-h.position,t},h.buffer=function(){var e=h.find(o),t=u(h.data,h.position,e),n=++e+t;return h.position=n,h.encoding?h.data.toString(h.encoding,e,n):h.data.slice(e,n)},e.exports=h},"11dc":function(e,t,n){"use strict";(function(t,r){var i=65536,o=4294967295;function s(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var a=n("8707").Buffer,c=t.crypto||t.msCrypto;function u(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>i)for(var s=0;s<e;s+=i)c.getRandomValues(n.slice(s,s+i));else c.getRandomValues(n);return"function"===typeof t?r.nextTick((function(){t(null,n)})):n}c&&c.getRandomValues?e.exports=u:e.exports=s}).call(this,n("c8ba"),n("f28c"))},"11e9":function(e,t,n){var r=n("52a7"),i=n("4630"),o=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},12:function(e,t){},13:function(e,t){},"13ee":function(e,t){},14:function(e,t){},1468:function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function c(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),u=(t[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function u(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function h(e){var t=Math.abs(e);return t>=o?l(e,t,o,"day"):t>=i?l(e,t,i,"hour"):t>=r?l(e,t,r,"minute"):t>=n?l(e,t,n,"second"):e+" ms"}function l(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?h(e):u(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1495:function(e,t,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,c=0;while(a>c)r.f(e,n=s[c++],t[n]);return e}},15:function(e,t){},"15fd":function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function i(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return i}))},"175e":function(e,t,n){"use strict";function r(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],s=1;s<r;++s)if(o=i,i=e[s],t(i,o)){if(s===n){n++;continue}e[n++]=i}return e.length=n,e}function i(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,r=e[o],r!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}function o(e,t,n){return 0===e.length?e:t?(n||e.sort(t),r(e,t)):(n||e.sort(),i(e))}e.exports=o},"17f3":function(e,t,n){(function(t){const r=n("34eb")("torrent-discovery"),i=n(8),o=n("faa1").EventEmitter,s=n("8cc1"),a=n("27ab");class c extends o{constructor(e){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!t.browser&&!e.port)throw new Error("Option `port` is required");this.peerId="string"===typeof e.peerId?e.peerId:e.peerId.toString("hex"),this.infoHash="string"===typeof e.infoHash?e.infoHash.toLowerCase():e.infoHash.toString("hex"),this._port=e.port,this._userAgent=e.userAgent,this.destroyed=!1,this._announce=e.announce||[],this._intervalMs=e.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=e=>{this.emit("warning",e)},this._onError=e=>{this.emit("error",e)},this._onDHTPeer=(e,t)=>{t.toString("hex")===this.infoHash&&this.emit("peer",`${e.host}:${e.port}`,"dht")},this._onTrackerPeer=e=>{this.emit("peer",e,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")};const n=(e,t)=>{const n=new i(t);return n.on("warning",this._onWarning),n.on("error",this._onError),n.listen(e),this._internalDHT=!0,n};!1===e.tracker?this.tracker=null:e.tracker&&"object"===typeof e.tracker?(this._trackerOpts=Object.assign({},e.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),!1===e.dht||"function"!==typeof i?this.dht=null:e.dht&&"function"===typeof e.dht.addNode?this.dht=e.dht:e.dht&&"object"===typeof e.dht?this.dht=n(e.dhtPort,e.dht):this.dht=n(e.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce())}updatePort(e){e!==this._port&&(this._port=e,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(e){this.tracker&&this.tracker.complete(e)}destroy(e){if(this.destroyed)return;this.destroyed=!0,clearTimeout(this._dhtTimeout);const t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(e=>{this.tracker.destroy(e)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(e=>{this.dht.destroy(e)})),s(t,e),this.dht=null,this.tracker=null,this._announce=null}_createTracker(){const e=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new a(e);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(r("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,e=>{this._dhtAnnouncing=!1,r("dht announce complete"),e&&this.emit("warning",e),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+Math.floor(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}}e.exports=c}).call(this,n("f28c"))},"190a":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));n("ac6a");var r=n("1da1"),i=n("c4d1"),o=n("a5a5"),s=n("8c32"),a=n("a59c"),c=n("5de4"),u=n("5ff7");const h=u["a"].GOOGLE_PROJECT_FIRESTORE_ID,l=Object.freeze({FOCUS:"focus",BLUR:"blur",UNLOAD:"unload"}),d=`${u["a"].NODE_REPORT_MAILBOX_ORIGIN}/mailbox`,f=`${d}/transfers`,p="page-activity-reports",g="nodes",_="events",m="https://firestore.googleapis.com/v1beta1/",y=`projects/${h}/databases/(default)/documents`,b=`${m}${y}:commit`,w=500,v=Object.freeze({nullValue:null}),E=e=>O("stringValue",e);function O(e,t){return null==t?v:{[e]:t}}function R(e,t){return{transform:{document:e,fieldTransforms:[{fieldPath:t,setToServerValue:"REQUEST_TIME"}]}}}function T(e){return S.apply(this,arguments)}function S(){return S=Object(r["a"])((function*(e){return I(b,"POST",e)})),S.apply(this,arguments)}function I(e,t,n){return k.apply(this,arguments)}function k(){return k=Object(r["a"])((function*(e,t,n){var r;const o={method:t,credentials:"omit"};let a,u,h;n&&Object.assign(o,{body:JSON.stringify(n),headers:{"Content-Type":"application/json; charset=utf-8"}});try{a=yield Object(c["i"])(e,o),204!==a.status&&(u=yield a.json())}catch(l){Object(s["c"])(l),h=l}return(null===(r=u)||void 0===r?void 0:r.error)&&(h=u.err),h&&i["a"].withScope(t=>{t.setExtra("fetchUrl",e),t.setExtra("fetchOpts",o),i["a"].captureException(h)}),a})),k.apply(this,arguments)}class C{constructor(){this.pageActivityDocId=Object(a["a"])(),this.rootActivityDocPath=`${y}/${p}/${this.pageActivityDocId}`,this.activitySubColPath=`${this.rootActivityDocPath}/${_}`,this.isFocused=!0,this.hasCreatedRootActivityDoc=!1,this.hasReportedPageUnload=!1,this.lastCommitDate=null,this.flushTimeoutId=null,this.xferReports={}}get nodeDocPath(){return`${y}/${g}/${this.myNodeId}`}setNodeId(e){this.myNodeId=e}setPropertyId(e){this.propertyId=e}setPropertySessionId(e){this.propertySessionId=e}reportPageFocus(e,t){var n=this;return Object(r["a"])((function*(){n.isFocused=!0,n._reportPageEvent(e,t,l.FOCUS)}))()}reportPageBlur(e,t){var n=this;return Object(r["a"])((function*(){n.isFocused=!1,n.hasReportedPageUnload||n._reportPageEvent(e,t,l.BLUR)}))()}_reportPageEvent(e,t,n){var i=this;return Object(r["a"])((function*(){const r=[];i.hasCreatedRootActivityDoc||(i.hasCreatedRootActivityDoc=!0,r.push(...i._createRootPageActivityWrite(e))),r.push(...i._createPageEventWrites(n,t));const o={writes:r};yield T(o)}))()}reportPageBlurOnUnload(e){this.hasReportedPageUnload=!0;const t={nodeId:this.myNodeId,propertyId:this.propertyId,propertySessionId:this.propertySessionId,origins:[location.origin],status:"close"};this._reportOnUnload(o["k"],t)}_createRootPageActivityWrite(e){const t=[],n={name:this.rootActivityDocPath,fields:{pageId:E(e),propertyId:E(this.propertyId),nodeId:E(this.myNodeId),origin:E(location.origin)}};return t.push({update:n,currentDocument:{exists:!1}}),t}_createPageEventWrites(e,t){const n=`${this.activitySubColPath}/${Object(s["i"])()}`,r={name:n,fields:{event:E(e),url:E(t)}},i=[{update:r},R(n,"createdAt"),R(this.rootActivityDocPath,"lastUpdatedAt")];return i}reportDataTransfer(e,t,n,i,o,s,c,u){var h=this;return Object(r["a"])((function*(){e in h.xferReports||(h.xferReports[e]={writes:[]});const r=h.xferReports[e],l={insertId:Object(a["a"])(),transferId:e,myNodeId:h.myNodeId,propertyId:h.propertyId,numBytesDownloaded:c,numBytesUploaded:s,fid:n,myPeerId:i,peerPeerId:o,connectionType:t,arcClient:u,createdAt:Date.now()};r.writes.splice(0),r.writes.push(l),clearTimeout(h.flushTimeoutId),h.flushTimeoutId=setTimeout(()=>{h._sendXferReports()},1250),h._canSendXferReport()&&h._sendXferReports()}))()}_canSendXferReport(){const e=this.lastCommitDate;return!e||new Date-e>w}_sendXferReports(){var e=this;return Object(r["a"])((function*(){const t=e._getPendingXferWrites();if(!t.length)return;e.lastCommitDate=new Date;const n={transfers:t},r=yield I(f,"POST",n);return r}))()}_getPendingXferWrites(){const e=[];for(const t of Object.values(this.xferReports)){const n=t.writes.splice(0);e.push(...n)}return e}reportPendingXferWritesOnUnload(){const e=this._getPendingXferWrites();if(!e.length)return;const t={transfers:e};this._reportOnUnload(f,t)}closeDataTransfer(e){var t=this;return Object(r["a"])((function*(){yield t._sendXferReports(),delete t.xferReports[e]}))()}_reportOnUnload(e,t){navigator.sendBeacon?this._reportOnUnload_sendBeacon(e,t):this._reportOnUnload_syncXhr(e,t)}_reportOnUnload_syncXhr(e,t){const n=new XMLHttpRequest;n.open("POST",e,!1),n.setRequestHeader("Content-Type","application/json; charset=UTF-8"),n.send(JSON.stringify(t))}_reportOnUnload_sendBeacon(e,t){const n={type:"text/plain"},r=new Blob([JSON.stringify(t)],n),i=navigator.sendBeacon(e,r);i||Object(s["c"])("navigator.sendBeacon() failed to queue a request. Why?")}reportNodeInfo(e){var t=this;return Object(r["a"])((function*(){const n=`${d}/nodes/${t.myNodeId}`,r=yield I(n,"PUT",e);return r}))()}reportWidgetOpened(){var e=this;return Object(r["a"])((function*(){const t={propertyId:e.propertyId},n=`${d}/nodes/${e.myNodeId}/opened`,r=yield I(n,"PUT",t);return r}))()}destroy(){var e=this;return Object(r["a"])((function*(){clearTimeout(e.flushTimeoutId),yield e._sendXferReports()}))()}}const A=new C},"1da1":function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}n.d(t,"a",(function(){return i}))},"1e48":function(e,t,n){(function(e){t.DEFAULT_ANNOUNCE_PEERS=50,t.MAX_ANNOUNCE_PEERS=82,t.binaryToHex=function(t){return"string"!==typeof t&&(t=String(t)),e.from(t,"binary").toString("hex")},t.hexToBinary=function(t){return"string"!==typeof t&&(t=String(t)),e.from(t,"hex").toString("binary")};var r=n(3);Object.assign(t,r)}).call(this,n("b639").Buffer)},"1f4f":function(e,t,n){const r=n("34eb")("bittorrent-tracker:websocket-tracker"),i=n("051a"),o=n("11dc"),s=n("8fe5"),a=n("1e48"),c=n("8091"),u={},h=1e4,l=18e5,d=12e4,f=5e4,p=1e4,g=/a=ice-options:trickle\s\n/;class _ extends c{constructor(e,t,n){super(e,t),r("new websocket tracker %s",t),this.trickle=void 0!==n.trickle&&n.trickle,this.peers={},this.pendingWrites=[],this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(e){if(this.destroyed||this.reconnecting)return;this.socket.connected||this.socket.once("connect",()=>{while(this.pendingWrites.length){const e=this.pendingWrites.shift();this._send(e)}});const t={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary},n=Object.assign({},e,t);if(this._trackerId&&(n.trackerid=this._trackerId),"stopped"===e.event||"completed"===e.event)this._send(n);else if(this.trickle){const r=Math.min(e.numwant,10);this._generateTrickleOffers(r,e=>{n.numwant=r,n.offers=e,this._send(n)},e=>{const n=Object.assign({},t);n.offers=[e],n.event="trickle",this._send(n)})}else{const t=Math.min(e.numwant,10);this._generateOffers(t,e=>{n.numwant=t,n.offers=e,this._send(n)})}}scrape(e){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(e)});const t=Array.isArray(e.infoHash)&&e.infoHash.length>0?e.infoHash.map(e=>{return e.toString("binary")}):e.infoHash&&e.infoHash.toString("binary")||this.client._infoHashBinary,n={action:"scrape",info_hash:t};this._send(n)}destroy(e=m){if(this.destroyed)return e(null);this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer);for(const i in this.peers){const e=this.peers[i];clearTimeout(e.trackerTimeout),e.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,u[this.announceUrl]&&(u[this.announceUrl].consumers-=1),u[this.announceUrl].consumers>0)return e();let t=u[this.announceUrl];if(delete u[this.announceUrl],t.on("error",m),t.once("close",e),!this.expectingResponse)return r();var n=setTimeout(r,a.DESTROY_TIMEOUT);function r(){n&&(clearTimeout(n),n=null),t.removeListener("data",r),t.destroy(),t=null}t.once("data",r)}_openSocket(){this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=e=>{this._onSocketError(e)},this._onSocketDataBound=e=>{this._onSocketData(e)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=u[this.announceUrl],this.socket?(u[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound()):(this.socket=u[this.announceUrl]=new s(this.announceUrl),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)),this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(e){if(!this.destroyed){this.expectingResponse=!1;try{e=JSON.parse(e)}catch(t){return void this.client.emit("warning",new Error("Invalid tracker response"))}"announce"===e.action?this._onAnnounceResponse(e):"scrape"===e.action?this._onScrapeResponse(e):this._onSocketError(new Error(`invalid action in WS response: ${e.action}`))}}_onAnnounceResponse(e){if(e.info_hash!==this.client._infoHashBinary)return void r("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,a.binaryToHex(e.info_hash),this.client.infoHash);if(e.peer_id&&e.peer_id===this.client._peerIdBinary)return;r("received %s from %s for %s",JSON.stringify(e),this.announceUrl,this.client.infoHash);const t=e["failure reason"];if(t)return this.client.emit("warning",new Error(t));const n=e["warning message"];n&&this.client.emit("warning",new Error(n));const i=e.interval||e["min interval"];i&&this.setInterval(1e3*i);const o=e["tracker id"];if(o&&(this._trackerId=o),null!=e.complete){const t=Object.assign({},e,{announce:this.announceUrl,infoHash:a.binaryToHex(e.info_hash)});this.client.emit("update",t)}let s;if(e.offer&&e.peer_id){const t=a.binaryToHex(e.offer_id),{sdp:n,candidate:i}=e.offer,o=g.test(n);if(n){r("creating peer (from remote offer)"),s=this._createPeer({trickle:this.trickle}),s.id=a.binaryToHex(e.peer_id);const n=s.trickle?"on":"once";s[n]("signal",t=>{const n={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:e.peer_id,answer:t,offer_id:e.offer_id};this._trackerId&&(n.trackerid=this._trackerId),this._send(n)}),o&&(this.peers[t]=s),this.client.emit("peer",s)}else s=this.peers[t],s&&this._setPeerTrickleTimeout(s,t);(n||i)&&s&&!s.destroyed&&s.signal(e.offer)}if(e.answer&&e.peer_id){const t=a.binaryToHex(e.offer_id);if(s=this.peers[t],s){s.id=a.binaryToHex(e.peer_id),s.destroyed||s.signal(e.answer),clearTimeout(s.trackerTimeout),s.trackerTimeout=null;const{sdp:n,candidate:r}=e.answer,i=g.test(n);n&&this.client.emit("peer",s),i||r?this._setPeerTrickleTimeout(s,t):delete this.peers[t]}else r(`got unexpected answer: ${JSON.stringify(e.answer)}`)}}_onScrapeResponse(e){e=e.files||{};const t=Object.keys(e);0!==t.length?t.forEach(t=>{const n=Object.assign(e[t],{announce:this.announceUrl,infoHash:a.binaryToHex(t)});this.client.emit("scrape",n)}):this.client.emit("warning",new Error("invalid scrape response"))}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(e){this.destroyed||(this.destroy(),this.client.emit("warning",e),this._startReconnectTimer())}_startReconnectTimer(){const e=Math.floor(Math.random()*d)+Math.min(Math.pow(2,this.retries)*h,l);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},e),this.reconnectTimer.unref&&this.reconnectTimer.unref(),r("reconnecting socket in %s ms",e)}_send(e){if(this.destroyed)return;if(!this.socket.connected)return void this.pendingWrites.push(e);this.expectingResponse=!0;const t=JSON.stringify(e);r("send %s",t),this.socket.send(t)}_generateOffers(e,t){const n=this,i=[];r("generating %s offers",e);for(let r=0;r<e;++r)s();function s(){const e=o(20).toString("hex");r("creating peer (from _generateOffers)");const t=n.peers[e]=n._createPeer({initiator:!0});t.once("signal",t=>{i.push({offer:t,offer_id:a.hexToBinary(e)}),c()}),t.trackerTimeout=setTimeout(()=>{r("tracker timeout: destroying peer"),t.trackerTimeout=null,delete n.peers[e],t.destroy()},f),t.trackerTimeout.unref&&t.trackerTimeout.unref()}function c(){i.length===e&&(r("generated %s offers",e),t(i))}c()}_generateTrickleOffers(e,t,n){const i=this,s=[],c=[];let u=!1;r("generating %s trickle offers",e);for(let r=0;r<e;++r)h();function h(){const e=o(20).toString("hex"),t=a.hexToBinary(e);r("creating peer (from _generateTrickleOffers)");const h={initiator:!0,trickle:!0},d=i.peers[e]=i._createPeer(h);d.on("signal",e=>{const r={offer:e,offer_id:t};e.sdp?(s.push(r),l()):u?n(r):c.push(r)}),d.trackerTimeout=setTimeout(()=>{r("tracker timeout: destroying peer"),d.trackerTimeout=null,delete i.peers[e],d.destroy()},f),d.trackerTimeout.unref&&d.trackerTimeout.unref()}function l(){s.length===e&&(r("generated %s offers",e),u=!0,t(s),c.forEach(n))}l()}_setPeerTrackerTimeout(e,t){e.trackerTimeout=setTimeout(()=>{r("tracker timeout: destroying peer"),e.trackerTimeout=null,delete this.peers[t],e.destroy()},f),e.trackerTimeout.unref&&e.trackerTimeout.unref()}_setPeerTrickleTimeout(e,t){clearTimeout(e.trickleTimeout),e.trickleTimeout=setTimeout(()=>{this.destroyed||(r("trickle timeout: destroying peer"),delete this.peers[t])},p),e.trickleTimeout.unref&&e.trickleTimeout.unref()}_createPeer(e){const t=this;e=Object.assign({trickle:!1,config:t.client._rtcConfig,wrtc:t.client._wrtc},e);const n=new i(e);return n.once("error",r),n.once("connect",o),n;function r(e){t.client.emit("warning",new Error(`Connection error: ${e.message}`)),n.destroy()}function o(){n.removeListener("error",r),n.removeListener("connect",o)}}}function m(){}_.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,_._socketPool=u,e.exports=_},"1fb5":function(e,t,n){"use strict";t.byteLength=h,t.toByteArray=d,t.fromByteArray=g;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function h(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function l(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,r=u(e),s=r[0],a=r[1],c=new o(l(e,s,a)),h=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[h++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t),c}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(r));return i.join("")}function g(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(p(e,a,a+s>c?c:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2:function(e,t){},"20c9":function(e,t,n){"use strict";n.r(t);var r=n("1da1"),i=n("3835"),o=n("faa1"),s=n.n(o),a=n("8fe5"),c=n.n(a),u=n("1f4f"),h=n.n(u),l=n("5ff7"),d=n("d1a0");const f=n("34eb")("arc:p2p-client"),p=l["a"].TRACKER_ANNOUNCE_URL,g=l["a"].TRACKER_ORIGIN,_=`${g}/announce`;console.log;function m(e,t,n){let r;const i=`peerId=${e}`,o=`${p}?${i}`;t&&n?r=y(t,n):t?(r=new c.a({socket:t}),r.connected=r._ws.readyState===WebSocket.OPEN):r=new c.a(o),r.consumers=1,h.a._socketPool[o]=r}function y(e,t){const n=new c.a({socket:e});n.connected=n._ws.readyState===WebSocket.OPEN;const r=new w({evtSrc:t,announceUrl:_});return b(n,r)}function b(e,t){if(e.connected)return f("ws already opened, no sse fallback required"),e;f("ws not opened, falling back to sse"),e.once("connect",()=>n._upgrade());const n={_sockets:[t,e],_upgrade(){f("ws opened, upgrading from sse"),this._sockets.unshift(this._sockets.pop());const e=Object(i["a"])(this._sockets,2),t=e[0],n=e[1];this._transferEvents(t,n)},_transferEvents(e,t){for(const n of t.eventNames())for(const r of t.rawListeners(n))f("transferring event: "+n,r),e.on(n,r)}};return new Proxy(n,{get(e,t){const n=e._sockets[0];return t in n||f("MISSING PROP: ",t),Reflect.get(n,t,n)},set(e,t,n){const r=e._sockets.map(e=>{return Reflect.set(e,t,n)});return r[0]}})}class w extends s.a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.connected=!0,this.closedByTracker=!1,this.announceUrl=e.announceUrl;const t=e.evtSrc,n=e.sseUrl;if(t instanceof EventSource)this.evtSrc=t;else{if(!n)throw new Error("Missing required eventSource or sseUrl option.");this.evtSrc=new EventSource(n)}this.evtSrc.addEventListener("open",()=>{this.emit("connect")}),this.evtSrc.addEventListener("message",e=>{this.emit("data",e.data),d["c"].mark("sse_tracker:receive_signal")}),this.evtSrc.addEventListener("error",()=>{this.closedByTracker=!0,this.close()}),this.evtSrc.addEventListener("close",()=>{f("tracker requests to close sse"),this.closedByTracker=!0,this.close()})}send(e){var t=this;return Object(r["a"])((function*(){const n={method:"POST",body:e,credentials:"omit",headers:{"content-type":"application/json"}};try{yield fetch(t.announceUrl,n),d["c"].mark("sse_tracker:send_signal")}catch(r){f(r)}}))()}close(){this.connected=!1,this.evtSrc.close(),this.closedByTracker||(f("sse emitting close, tracker did not tell sse to close."),this.emit("close"))}destroy(){this.close()}}var v=n("3d15"),E=n("8c32");function O(e){return e&&Array.isArray(e)&&1===e.length&&e[0]instanceof Error}function R(){v["d"].set("error",{canHandle(e){return e instanceof Error||O(e)},serialize(e){return Array.isArray(e)?[e.map(E["d"]),[]]:[Object(E["d"])(e),[]]},deserialize(e){return Array.isArray(e)?e.map(this.deserialize):Object.assign(Error(),e)}})}var T=n("c4d1"),S=(n("ac6a"),n("15fd")),I=n("ced0"),k=n("ad2b"),C=n.n(k),A=n("0e49"),x=n.n(A),P=n("190a"),N=n("a5a5"),L=n("0d31"),j=n("72db"),M=n("5de4"),D=n("c74e"),U=n("af2a"),B=n("9b16"),F=n("0ecd");const H=n("34eb")("arc:p2p-client"),G=(console.log,"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers#Why_is_my_service_worker_failing_to_register"),$=N["i"].P2P_CLIENT_READY,W=N["i"].WIDGET_CONFIG,q=N["i"].STORED_FIDS,V=N["i"].COMLINK_INIT,z=N["i"].NODE_ID,K=N["i"].SW_HEALTH_CHECK;function Y(e){return X.apply(this,arguments)}function X(){return X=Object(r["a"])((function*(e){const t=e.scope;if(yield Z())return void H("Will not install the Arc sw, user already has one.");const n=J(e);yield ee(n,t)})),X.apply(this,arguments)}function J(e){const t=e.propertyId,n=e.env,r=e.wpPluginVersion,i="wp"===n,o=r&&x()(r,"1.1.4");let s=i?N["n"]:N["l"];return i&&!o||(s+=`?propertyId=${t}`),s}function Z(){return Q.apply(this,arguments)}function Q(){return Q=Object(r["a"])((function*(){const e=[N["l"],N["n"]],t=yield navigator.serviceWorker.getRegistrations();return t.some(t=>{const n=t.scope,r=t.active;if(!r)return!1;const i=new URL(r.scriptURL).pathname,o=n===window.location.origin+"/",s=!e.includes(i);return o&&s})})),Q.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(r["a"])((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";try{const n=navigator,r=n.serviceWorker,i={scope:t},o=yield r.register(e,i);H("Arc sw registration successful.",o);const s="_arc_delete_me_later";localStorage.removeItem(s)}catch(n){console.warn("Failed to install Arc's Service Worker.\n\n"+`For installation help, see ${N["j"]}.\n\n`+`Service Worker documentation: ${G}.\n\n`,n.name,n.message)}})),te.apply(this,arguments)}function ne(){const e=navigator,t=e.serviceWorker;t.addEventListener("message",e=>{const t=e.data,r=t.arcEvent,i=Object(S["a"])(t,["arcEvent"]);r&&H(`arcEvent from sw: ${r} `,i),n.forEach(t=>t(e))});const n=[],r=e=>n.push(e);return r}function re(e){const t=navigator.serviceWorker.controller;t&&t.postMessage(e)}function ie(e){const t=()=>e.reportPendingXferWritesOnUnload();return window.addEventListener("beforeunload",t,!1),()=>window.removeEventListener("beforeunload",t,!1)}function oe(e){return se.apply(this,arguments)}function se(){return se=Object(r["a"])((function*(e){const t=Object(U["a"])();P["a"].setPropertyId(e),L["a"].setPropertyId(e);const n=ie(P["a"]);return L["a"].addCleanupFn(n),L["a"].setBrokerPromise(t),L["a"].setReporter(P["a"]),t.then(function(){var e=Object(r["a"])((function*(e){L["a"].setBroker(e);const t=M["h"].get("nodeId",yield e.getOrGenerateMyNodeId());P["a"].setNodeId(t),L["a"].setNodeId(t),D["a"].setClientId(t),re({arcEvent:z,nodeId:t})}));return function(t){return e.apply(this,arguments)}}()),L["a"]})),se.apply(this,arguments)}function ae(e){return ce.apply(this,arguments)}function ce(){return ce=Object(r["a"])((function*(e){let t={};try{t=yield j["a"].getCdnConfig(e)}catch(n){n.response&&404===n.response.status||T["a"].captureException(n)}return t})),ce.apply(this,arguments)}function ue(e){return he.apply(this,arguments)}function he(){return he=Object(r["a"])((function*(e){const t=yield e.brokerPromise,n=yield t.getStoredFids();re({arcEvent:q,storedFids:n})})),he.apply(this,arguments)}function le(e){return de.apply(this,arguments)}function de(){return de=Object(r["a"])((function*(e){const t=new I["a"](N["a"],N["b"]);yield I["d"]("propertyId",e,t)})),de.apply(this,arguments)}function fe(){return pe.apply(this,arguments)}function pe(){return pe=Object(r["a"])((function*(){if("serviceWorker"in navigator&&C.a.WEBRTC_SUPPORT)try{const e=Object(F["c"])();H("widgetConfig %o",e);const t=e.propertyId;t&&le(t);const n=ne();n(t=>{const n=t.data.arcEvent;n===W&&re({arcEvent:n,widgetConfig:e})}),oe(t).then(e=>{n(t=>{switch(t.data.arcEvent){case V:return Object(B["a"])(e,t.ports);case q:return ue(e)}});const t={arcEvent:$};re(t),ue(e),window.postMessage(t,location.origin),d["c"].mark("p2p-client:ready"),window.__arc__.p2pClient=e});const r=ae(t);window.__arc__.cdnConfigPromise=r,yield Y(e);const i=new Promise(e=>{n(t=>{t.data.arcEvent===K&&e(!0)})});window.__arc__.isSwAlivePromise=Object(E["j"])(i,5e3,!1),re({arcEvent:K})}catch(e){T["a"].captureException(e),H(e)}})),pe.apply(this,arguments)}const{peerId:ge,trackerSocket:_e,trackerEvtSrc:me}=window.__arc__;m(ge,_e,me),R(),Object(T["b"])(),fe(),Promise.all([n.e("vendors~widget-ui"),n.e("widget-ui")]).then(n.bind(null,"6145")).then(({initWidget:e})=>e()),D["a"].init()},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),c=n("520a"),u=a("species"),h=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t})):void 0;if(!f||!p||"replace"===e&&!h||"split"===e&&!l){var g=/./[d],_=n(s,d,""[e],(function(e,t,n,r,i){return t.exec===c?f&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),m=_[0],y=_[1];r(String.prototype,e,m),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},"22c0":function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n("fe45"),i=n("0d7c");t=e.exports={};const o=t.re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;i(r,t),a[e]=r,s[r]=t,o[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.`+`(${s[a.NUMERICIDENTIFIER]})\\.`+`(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})`+`(?:\\.(${s[a.XRANGEIDENTIFIER]})`+`(?:\\.(${s[a.XRANGEIDENTIFIER]})`+`(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?`+")?)?"),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})`+`(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?`+")?)?"),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})`+`(?:\\.(\\d{1,${r}}))?`+`(?:\\.(\\d{1,${r}}))?`+"(?:$|[^\\d])"),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${s[a.XRANGEPLAIN]})`+"\\s*$"),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${s[a.XRANGEPLAINLOOSE]})`+"\\s*$"),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},"230e":function(e,t,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},2332:function(e,t,n){"use strict";function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}t["a"]=r},2366:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);function i(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}e.exports=i},"23c6":function(e,t,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},"24f8":function(e,t,n){var r=n("9490"),i=n("cffb"),o=e.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function a(e){if("string"===typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),r.request.call(this,e,t)},o.get=function(e,t){return e=a(e),r.get.call(this,e,t)}},2527:function(e,t,n){(function(t){const{EventEmitter:r}=n("faa1"),i=n("8fe2"),o=n("d329"),s=n("34eb")("ut_metadata"),a=n("2a3b"),c=1e7,u=1e3,h=16384;e.exports=e=>{class n extends r{constructor(n){super(),this._wire=n,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new o(0,{grow:u}),t.isBuffer(e)&&this.setMetadata(e)}onHandshake(e,t,n){this._infoHash=e}onExtendedHandshake(e){return e.m&&e.m.ut_metadata?e.metadata_size?"number"!==typeof e.metadata_size||c<e.metadata_size||e.metadata_size<=0?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=e.metadata_size,this._numPieces=Math.ceil(this._metadataSize/h),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(e){let t,n;try{const r=e.toString(),o=r.indexOf("ee")+2;t=i.decode(r.substring(0,o)),n=e.slice(o)}catch(r){return}switch(t.msg_type){case 0:this._onRequest(t.piece);break;case 1:this._onData(t.piece,n,t.total_size);break;case 2:this._onReject(t.piece);break}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(e){if(this._metadataComplete)return!0;s("set metadata");try{const t=i.decode(e).info;t&&(e=i.encode(t))}catch(t){}return(!this._infoHash||this._infoHash===a.sync(e))&&(this.cancel(),this.metadata=e,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",i.encode({info:i.decode(this.metadata)})),!0)}_send(e,n){let r=i.encode(e);t.isBuffer(n)&&(r=t.concat([r,n])),this._wire.extended("ut_metadata",r)}_request(e){this._send({msg_type:0,piece:e})}_data(e,t,n){const r={msg_type:1,piece:e};"number"===typeof n&&(r.total_size=n),this._send(r,t)}_reject(e){this._send({msg_type:2,piece:e})}_onRequest(e){if(!this._metadataComplete)return void this._reject(e);const t=e*h;let n=t+h;n>this._metadataSize&&(n=this._metadataSize);const r=this.metadata.slice(t,n);this._data(e,r,this._metadataSize)}_onData(e,t,n){t.length>h||!this._fetching||(t.copy(this.metadata,e*h),this._bitfield.set(e),this._checkDone())}_onReject(e){this._remainingRejects>0&&this._fetching?(this._request(e),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=t.alloc(this._metadataSize);for(let e=0;e<this._numPieces;e++)this._request(e)}}_checkDone(){let e=!0;for(let n=0;n<this._numPieces;n++)if(!this._bitfield.get(n)){e=!1;break}if(!e)return;const t=this.setMetadata(this.metadata);t||this._failedMetadata()}_failedMetadata(){this._bitfield=new o(0,{grow:u}),this._remainingRejects-=this._numPieces,this._remainingRejects>0?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return n.prototype.name="ut_metadata",n}}).call(this,n("b639").Buffer)},2677:function(e,t,n){(function(t){function n(e,t){if(!(this instanceof n))return new n(e,t);if(t||(t={}),this.chunkLength=Number(e),!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=Number(t.length)||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=Math.ceil(this.length/this.chunkLength)-1)}function r(e,n,r){t.nextTick((function(){e&&e(n,r)}))}e.exports=n,n.prototype.put=function(e,t,n){if(this.closed)return r(n,new Error("Storage is closed"));var i=e===this.lastChunkIndex;return i&&t.length!==this.lastChunkLength?r(n,new Error("Last chunk length must be "+this.lastChunkLength)):i||t.length===this.chunkLength?(this.chunks[e]=t,void r(n,null)):r(n,new Error("Chunk length must be "+this.chunkLength))},n.prototype.get=function(e,t,n){if("function"===typeof t)return this.get(e,null,t);if(this.closed)return r(n,new Error("Storage is closed"));var i=this.chunks[e];if(!i){var o=new Error("Chunk not found");return o.notFound=!0,r(n,o)}if(!t)return r(n,null,i);var s=t.offset||0,a=t.length||i.length-s;r(n,null,i.slice(s,a+s))},n.prototype.close=n.prototype.destroy=function(e){if(this.closed)return r(e,new Error("Storage is closed"));this.closed=!0,this.chunks=null,r(e,null)}}).call(this,n("f28c"))},"27ab":function(e,t,n){(function(t,r){const i=n("34eb")("bittorrent-tracker:client"),o=n("faa1"),s=n("566b"),a=n("8cc1"),c=n("051a"),u=n("175e"),h=n("1e48"),l=n(9),d=n(10),f=n("1f4f");class p extends o{constructor(e={}){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!e.announce)throw new Error("Option `announce` is required");if(!t.browser&&!e.port)throw new Error("Option `port` is required");this.peerId="string"===typeof e.peerId?e.peerId:e.peerId.toString("hex"),this._peerIdBuffer=r.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash="string"===typeof e.infoHash?e.infoHash.toLowerCase():e.infoHash.toString("hex"),this._infoHashBuffer=r.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),i("new client %s",this.infoHash),this.destroyed=!1,this._port=e.port,this._getAnnounceOpts=e.getAnnounceOpts,this._rtcConfig=e.rtcConfig,this._userAgent=e.userAgent,this._trickle=void 0!==e.trickle&&e.trickle,this._wrtc="function"===typeof e.wrtc?e.wrtc():e.wrtc;let n="string"===typeof e.announce?[e.announce]:null==e.announce?[]:e.announce;n=n.map(e=>{return e=e.toString(),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),e}),n=u(n);const o=!1!==this._wrtc&&(!!this._wrtc||c.WEBRTC_SUPPORT),s=e=>{t.nextTick(()=>{this.emit("warning",e)})};this._trackers=n.map(e=>{let t;try{t=new URL(e)}catch(i){return s(new Error(`Invalid tracker URL: ${e}`)),null}const n=t.port;if(n<0||n>65535)return s(new Error(`Invalid tracker port: ${e}`)),null;const r=t.protocol;return"http:"!==r&&"https:"!==r||"function"!==typeof l?"udp:"===r&&"function"===typeof d?new d(this,e):"ws:"!==r&&"wss:"!==r||!o?(s(new Error(`Unsupported tracker protocol: ${e}`)),null):"ws:"===r&&"undefined"!==typeof window&&"https:"===window.location.protocol?(s(new Error(`Unsupported tracker protocol: ${e}`)),null):new f(this,e,{trickle:this._trickle}):new l(this,e)}).filter(Boolean)}start(e){e=this._defaultAnnounceOpts(e),e.event="started",i("send `start` %o",e),this._announce(e),this._trackers.forEach(e=>{e.setInterval()})}stop(e){e=this._defaultAnnounceOpts(e),e.event="stopped",i("send `stop` %o",e),this._announce(e)}complete(e){e||(e={}),e=this._defaultAnnounceOpts(e),e.event="completed",i("send `complete` %o",e),this._announce(e)}update(e){e=this._defaultAnnounceOpts(e),e.event&&delete e.event,i("send `update` %o",e),this._announce(e)}_announce(e){this._trackers.forEach(t=>{t.announce(e)})}scrape(e){i("send `scrape`"),e||(e={}),this._trackers.forEach(t=>{t.scrape(e)})}setInterval(e){i("setInterval %d",e),this._trackers.forEach(t=>{t.setInterval(e)})}destroy(e){if(this.destroyed)return;this.destroyed=!0,i("destroy");const t=this._trackers.map(e=>t=>{e.destroy(t)});a(t,e),this._trackers=[],this._getAnnounceOpts=null}_defaultAnnounceOpts(e={}){return null==e.numwant&&(e.numwant=h.DEFAULT_ANNOUNCE_PEERS),null==e.uploaded&&(e.uploaded=0),null==e.downloaded&&(e.downloaded=0),this._getAnnounceOpts&&(e=Object.assign({},e,this._getAnnounceOpts())),e}}p.scrape=(e,t)=>{if(t=s(t),!e.infoHash)throw new Error("Option `infoHash` is required");if(!e.announce)throw new Error("Option `announce` is required");const n=Object.assign({},e,{infoHash:Array.isArray(e.infoHash)?e.infoHash[0]:e.infoHash,peerId:r.from("01234567890123456789"),port:6881}),i=new p(n);i.once("error",t),i.once("warning",t);let o=Array.isArray(e.infoHash)?e.infoHash.length:1;const a={};return i.on("scrape",e=>{if(o-=1,a[e.infoHash]=e,0===o){i.destroy();const e=Object.keys(a);1===e.length?t(null,a[e[0]]):t(null,a)}}),e.infoHash=Array.isArray(e.infoHash)?e.infoHash.map(e=>{return r.from(e,"hex")}):r.from(e.infoHash,"hex"),i.scrape({infoHash:e.infoHash}),i},e.exports=p}).call(this,n("f28c"),n("b639").Buffer)},"27bf":function(e,t,n){"use strict";e.exports=h;var r=n("c9b8").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n("b19a");function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n("3fb5")(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,n){n(new i("_transform()"))},h.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},2874:function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1},i=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:i}},"28a5":function(e,t,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),s=n("0390"),a=n("9def"),c=n("5f1b"),u=n("520a"),h=n("79e5"),l=Math.min,d=[].push,f="split",p="length",g="lastIndex",_=4294967295,m=!h((function(){RegExp(_,"y")}));n("214f")("split",2,(function(e,t,n,h){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);var o,s,a,c=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=void 0===t?_:t>>>0,m=new RegExp(e.source,h+"g");while(o=u.call(m,i)){if(s=m[g],s>l&&(c.push(i.slice(l,o.index)),o[p]>1&&o.index<i[p]&&d.apply(c,o.slice(1)),a=o[0][p],l=s,c[p]>=f))break;m[g]===o.index&&m[g]++}return l===i[p]?!a&&m.test("")||c.push(""):c.push(i.slice(l)),c[p]>f?c.slice(0,f):c}:"0"[f](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(e,t){var r=h(y,e,this,t,y!==n);if(r.done)return r.value;var u=i(e),d=String(this),f=o(u,RegExp),p=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(m?"y":"g"),b=new f(m?u:"^(?:"+u.source+")",g),w=void 0===t?_:t>>>0;if(0===w)return[];if(0===d.length)return null===c(b,d)?[d]:[];var v=0,E=0,O=[];while(E<d.length){b.lastIndex=m?E:0;var R,T=c(b,m?d:d.slice(E));if(null===T||(R=l(a(b.lastIndex+(m?0:E)),d.length))===v)E=s(d,E,p);else{if(O.push(d.slice(v,E)),O.length===w)return O;for(var S=1;S<=T.length-1;S++)if(O.push(T[S]),O.length===w)return O;E=v=R}}return O.push(d.slice(v)),O}]}))},"2a3b":function(e,t,n){var r=n("738f"),i=n("576e"),o=new r,s="undefined"!==typeof window?window:self,a=s.crypto||s.msCrypto||{},c=a.subtle||a.webkitSubtle;function u(e){return o.digest(e)}try{c.digest({name:"sha-1"},new Uint8Array).catch((function(){c=!1}))}catch(f){c=!1}function h(e,t){c?("string"===typeof e&&(e=l(e)),c.digest({name:"sha-1"},e).then((function(e){t(d(new Uint8Array(e)))}),(function(){t(u(e))}))):"undefined"!==typeof window?i(e,(function(n,r){t(n?u(e):r)})):queueMicrotask(()=>t(u(e)))}function l(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n}function d(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")}e.exports=h,e.exports.sync=u},"2aba":function(e,t,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),c="toString",u=(""+a).split(c);n("8378").inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||i(n,s,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n("230e")("iframe"),r=o.length,i="<",s=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),u=e.F;while(r--)delete u[c][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},3:function(e,t){},"326b":function(e,t){const n=/^\[?([^\]]+)\]?:(\d+)$/;let r={},i=0;e.exports=function(t){if(1e5===i&&e.exports.reset(),!r[t]){const e=n.exec(t);if(!e)throw new Error(`invalid addr: ${t}`);r[t]=[e[1],Number(e[2])],i+=1}return r[t]},e.exports.reset=function(){r={},i=0}},"32e9":function(e,t,n){var r=n("86cc"),i=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"34eb":function(e,t,n){(function(r){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)}function s(...e){return"object"===typeof console&&console.log&&console.log(...e)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function c(){let e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e="false"),e}function u(){try{return localStorage}catch(e){}}t.log=s,t.formatArgs=o,t.save=a,t.load=c,t.useColors=i,t.storage=u(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("dc90")(t);const{formatters:h}=e.exports;h.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n("f28c"))},3835:function(e,t,n){"use strict";var r=n("0d21");function i(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}var o=n("3d8c");function s(e,t){return Object(r["a"])(e)||i(e,t)||Object(o["a"])()}n.d(t,"a",(function(){return s}))},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"38fd":function(e,t,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"3b2b":function(e,t,n){var r=n("7726"),i=n("5dbc"),o=n("86cc").f,s=n("9093").f,a=n("aae3"),c=n("0bfb"),u=r.RegExp,h=u,l=u.prototype,d=/a/g,f=/a/g,p=new u(d)!==d;if(n("9e1e")&&(!p||n("79e5")((function(){return f[n("2b4c")("match")]=!1,u(d)!=d||u(f)==f||"/a/i"!=u(d,"i")})))){u=function(e,t){var n=this instanceof u,r=a(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(p?new h(r&&!o?e.source:e,t):h((r=e instanceof u)?e.source:e,r&&o?c.call(e):t),n?this:l,u)};for(var g=function(e){e in u||o(u,e,{configurable:!0,get:function(){return h[e]},set:function(t){h[e]=t}})},_=s(h),m=0;_.length>m;)g(_[m++]);l.constructor=u,u.prototype=l,n("2aba")(r,"RegExp",u)}n("7a56")("RegExp")},"3d15":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return l}));const r=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),s=new WeakSet,a=new Map([["proxy",{canHandle:e=>e&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return c(e,t),[n,[n]]},deserialize:e=>{return e.start(),l(e)}}],["throw",{canHandle:e=>s.has(e),serialize(e){const t=e instanceof Error;let n=e;return t&&(n={isError:t,message:e.message,stack:e.stack}),[n,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error,e);throw e}}]]);function c(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:i,type:o,path:a}=Object.assign({path:[]},r.data),u=(r.data.argumentList||[]).map(w);let l;try{const t=a.slice(0,-1).reduce((e,t)=>e[t],e),n=a.reduce((e,t)=>e[t],e);switch(o){case 0:l=n;break;case 1:t[a.slice(-1)[0]]=w(r.data.value),l=!0;break;case 2:l=n.apply(t,u);break;case 3:{const e=new n(...u);l=y(e)}break;case 4:{const{port1:t,port2:n}=new MessageChannel;c(e,n),l=m(t,[t])}break;case 5:l=void 0;break}}catch(d){l=d,s.add(d)}Promise.resolve(l).catch(e=>{return s.add(e),e}).then(e=>{const[r,s]=b(e);t.postMessage(Object.assign(Object.assign({},r),{id:i}),s),5===o&&(t.removeEventListener("message",n),h(t))})})),t.start&&t.start()}function u(e){return"MessagePort"===e.constructor.name}function h(e){u(e)&&e.close()}function l(e,t){return f(e,[],t)}function d(e){if(e)throw new Error("Proxy has been released and is not useable")}function f(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(n,i){if(d(r),i===o)return()=>{return v(e,{type:5,path:t.map(e=>e.toString())}).then(()=>{h(e),r=!0})};if("then"===i){if(0===t.length)return{then:()=>s};const n=v(e,{type:0,path:t.map(e=>e.toString())}).then(w);return n.then.bind(n)}return f(e,[...t,i])},set(n,i,o){d(r);const[s,a]=b(o);return v(e,{type:1,path:[...t,i].map(e=>e.toString()),value:s},a).then(w)},apply(n,o,s){d(r);const a=t[t.length-1];if(a===i)return v(e,{type:4}).then(w);if("bind"===a)return f(e,t.slice(0,-1));const[c,u]=g(s);return v(e,{type:2,path:t.map(e=>e.toString()),argumentList:c},u).then(w)},construct(n,i){d(r);const[o,s]=g(i);return v(e,{type:3,path:t.map(e=>e.toString()),argumentList:o},s).then(w)}});return s}function p(e){return Array.prototype.concat.apply([],e)}function g(e){const t=e.map(b);return[t.map(e=>e[0]),p(t.map(e=>e[1]))]}const _=new WeakMap;function m(e,t){return _.set(e,t),e}function y(e){return Object.assign(e,{[r]:!0})}function b(e){for(const[t,n]of a)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:3,name:t,value:r},i]}return[{type:0,value:e},_.get(e)||[]]}function w(e){switch(e.type){case 3:return a.get(e.name).deserialize(e.value);case 0:return e.value}}function v(e,t,n){return new Promise(r=>{const i=E();e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}function E(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}},"3d8c":function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",(function(){return r}))},"3e8f":function(e,t){},"3fb5":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},4:function(e,t){},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},"429b":function(e,t,n){e.exports=n("faa1").EventEmitter},"42a7":function(e,t,n){"use strict";var r=n("8707").Buffer;function i(e){if(e.length>=255)throw new TypeError("Alphabet too long");var t=new Uint8Array(256);t.fill(255);for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(t){if(!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";var n=0,i=0,o=0,c=t.length;while(o!==c&&0===t[o])o++,n++;var h=(c-o)*u+1>>>0,l=new Uint8Array(h);while(o!==c){for(var d=t[o],f=0,p=h-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,o++}var g=h-i;while(g!==h&&0===l[g])g++;for(var _=a.repeat(n);g<h;++g)_+=e.charAt(l[g]);return _}function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);var n=0;if(" "!==e[n]){var i=0,o=0;while(e[n]===a)i++,n++;var u=(e.length-n)*c+1>>>0,h=new Uint8Array(u);while(e[n]){var l=t[e.charCodeAt(n)];if(255===l)return;for(var d=0,f=u-1;(0!==l||d<o)&&-1!==f;f--,d++)l+=s*h[f]>>>0,h[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=d,n++}if(" "!==e[n]){var p=u-o;while(p!==u&&0===h[p])p++;var g=r.allocUnsafe(i+(u-p));g.fill(0,0,i);var _=i;while(p!==u)g[_++]=h[p++];return g}}}function d(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}return{encode:h,decodeUnsafe:l,decode:d}}e.exports=i},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4681:function(e,t,n){"use strict";(function(t){function n(e,n){var o=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(n?n(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!n&&e?(t.nextTick(r,o,e),o._writableState&&(o._writableState.errorEmitted=!0)):n?(t.nextTick(i,o),n(e)):t.nextTick(i,o)})),this)}function r(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,t){e.emit("error",t)}e.exports={destroy:n,undestroy:o}}).call(this,n("f28c"))},4947:function(e,t,n){(function(t){e.exports=function(e,n){if("undefined"===typeof Blob||!(e instanceof Blob))throw new Error("first argument must be a Blob");if("function"!==typeof n)throw new Error("second argument must be a function");var r=new FileReader;function i(e){r.removeEventListener("loadend",i,!1),e.error?n(e.error):n(null,t.from(r.result))}r.addEventListener("loadend",i,!1),r.readAsArrayBuffer(e)}}).call(this,n("b639").Buffer)},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},"4cdf":function(e,t,n){var r=n("8707").Buffer;function i(e,t,n){var o=[],s=null;return i._encode(o,e),s=r.concat(o),i.bytes=s.length,r.isBuffer(t)?(s.copy(t,n),t):s}i.bytes=-1,i._floatConversionDetected=!1,i.getType=function(e){return r.isBuffer(e)?"buffer":Array.isArray(e)?"array":ArrayBuffer.isView(e)?"arraybufferview":e instanceof Number?"number":e instanceof Boolean?"boolean":e instanceof ArrayBuffer?"arraybuffer":typeof e},i._encode=function(e,t){if(null!=t)switch(i.getType(t)){case"buffer":i.buffer(e,t);break;case"object":i.dict(e,t);break;case"array":i.list(e,t);break;case"string":i.string(e,t);break;case"number":i.number(e,t);break;case"boolean":i.number(e,t);break;case"arraybufferview":i.buffer(e,r.from(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":i.buffer(e,r.from(t));break}};var o=r.from("e"),s=r.from("d"),a=r.from("l");i.buffer=function(e,t){e.push(r.from(t.length+":"),t)},i.string=function(e,t){e.push(r.from(r.byteLength(t)+":"+t))},i.number=function(e,t){var n=2147483648,o=t/n<<0,s=t%n<<0,a=o*n+s;e.push(r.from("i"+a+"e")),a===t||i._floatConversionDetected||(i._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+a+'"'),console.trace())},i.dict=function(e,t){e.push(s);for(var n,r=0,a=Object.keys(t).sort(),c=a.length;r<c;r++)n=a[r],null!=t[n]&&(i.string(e,n),i._encode(e,t[n]));e.push(o)},i.list=function(e,t){var n=0,r=t.length;for(e.push(a);n<r;n++)null!=t[n]&&i._encode(e,t[n]);e.push(o)},e.exports=i},"4fdc":function(e,t){function n(e){if(/^-?\d+$/.test(e))return parseInt(e,10);var t;if(t=e.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){var n=t[1],r=t[2],i=t[3];if(n&&i){n=parseInt(n),i=parseInt(i);var o=[],s=n<i?1:-1;"-"!=r&&".."!=r&&"‥"!=r||(i+=s);for(var a=n;a!=i;a+=s)o.push(a);return o}}return[]}e.exports.parse=function(e){var t=e.split(","),r=t.map((function(e){return n(e)}));return 0===r.length?[]:1===r.length?Array.isArray(r[0])?r[0]:r:r.reduce((function(e,t){return Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.concat(t)}))}},5:function(e,t){},"50b2":function(e,t,n){const r=n("d05a"),i=n("34eb")("webtorrent:peer"),o=n("0809"),s=n("9c5d"),a=5e3,c=25e3,u=25e3;t.createWebRTCPeer=(e,t)=>{const n=new h(e.id,"webrtc");return n.conn=e,n.swarm=t,n.conn.connected?n.onConnect():(n.conn.once("connect",()=>{n.onConnect()}),n.conn.once("error",e=>{n.destroy(e)}),n.startConnectTimeout()),n},t.createTCPIncomingPeer=e=>{const t=`${e.remoteAddress}:${e.remotePort}`,n=new h(t,"tcpIncoming");return n.conn=e,n.addr=t,n.onConnect(),n},t.createTCPOutgoingPeer=(e,t)=>{const n=new h(e,"tcpOutgoing");return n.addr=e,n.swarm=t,n},t.createWebSeedPeer=(e,t)=>{const n=new h(e,"webSeed");return n.swarm=t,n.conn=new s(e,t),n.onConnect(),n};class h{constructor(e,t){this.id=e,this.type=t,i("new %s Peer %s",t,e),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentHandshake=!1}onConnect(){if(this.destroyed)return;this.connected=!0,i("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const e=this.conn;e.once("end",()=>{this.destroy()}),e.once("close",()=>{this.destroy()}),e.once("finish",()=>{this.destroy()}),e.once("error",e=>{this.destroy(e)});const t=this.wire=new o;t.type=this.type,t.once("end",()=>{this.destroy()}),t.once("close",()=>{this.destroy()}),t.once("finish",()=>{this.destroy()}),t.once("error",e=>{this.destroy(e)}),t.once("handshake",(e,t)=>{this.onHandshake(e,t)}),this.startHandshakeTimeout(),e.pipe(t).pipe(e),this.swarm&&!this.sentHandshake&&this.handshake()}onHandshake(e,t){if(!this.swarm)return;if(this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(e!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(t===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));i("Peer %s got handshake %s",this.id,e),clearTimeout(this.handshakeTimeout),this.retries=0;let n=this.addr;!n&&this.conn.remoteAddress&&this.conn.remotePort&&(n=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,n),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){const e={dht:!this.swarm.private&&!!this.swarm.client.dht};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,e),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},"webrtc"===this.type?c:a),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},u),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(e){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,i("destroy %s (error: %s)",this.id,e&&(e.message||e)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const t=this.swarm,n=this.conn,o=this.wire;this.swarm=null,this.conn=null,this.wire=null,t&&o&&r(t.wires,t.wires.indexOf(o)),n&&(n.on("error",()=>{}),n.destroy()),o&&o.destroy(),t&&t.removePeer(this.id)}}},"50cf":function(e,t,n){(function(t){const n=16384;class r{constructor(e){this.length=e,this.missing=e,this.sources=null,this._chunks=Math.ceil(e/n),this._remainder=e%n||n,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(e){return e===this._chunks-1?this._remainder:n}chunkLengthRemaining(e){return this.length-e*n}chunkOffset(e){return e*n}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._reservations<this._chunks){const e=this._reservations;return this._reservations=this._chunks,e}return-1}cancel(e){this.init()&&this._cancellations.push(e)}cancelRemaining(e){this.init()&&(this._reservations=e)}get(e){return this.init()?this._buffer[e]:null}set(e,t,r){if(!this.init())return!1;const i=t.length,o=Math.ceil(i/n);for(let s=0;s<o;s++)if(!this._buffer[e+s]){const i=s*n,o=t.slice(i,i+n);this._buffered++,this._buffer[e+s]=o,this.missing-=o.length,this.sources.includes(r)||this.sources.push(r)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const e=t.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,e}init(){return!this._flushed&&(!!this._buffer||(this._buffer=new Array(this._chunks),this._cancellations=[],this.sources=[],!0))}}Object.defineProperty(r,"BLOCK_LENGTH",{value:n}),e.exports=r}).call(this,n("b639").Buffer)},"517b":function(e,t,n){"use strict";var r=n("85b1"),i=n("2332"),o="Expected a function";function s(e,t,n){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError(o);return Object(i["a"])(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Object(r["a"])(e,t,{leading:s,maxWait:t,trailing:a})}t["a"]=s},"520a":function(e,t,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[a]||0!==t[a]}(),u=void 0!==/()??/.exec("")[1],h=c||u;h&&(s=function(e){var t,n,s,h,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),c&&(t=l[a]),s=i.call(l,e),c&&s&&(l[a]=l.global?s.index+s[0].length:t),u&&s&&s.length>1&&o.call(s[0],n,(function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(s[h]=void 0)})),s}),e.exports=s},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"53a8":function(e,t){e.exports=r;var n=Object.prototype.hasOwnProperty;function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}},5537:function(e,t,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"566b":function(e,t,n){var r=n("d633");function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},"576e":function(e,t,n){var r,i,o,s=n("738f");function a(){r=s.createWorker(),i=1,o={},r.onmessage=function(e){var t=e.data.id,n=o[t];delete o[t],null!=e.data.error?n(new Error("Rusha worker error: "+e.data.error)):n(null,e.data.hash)}}function c(e,t){r||a(),o[i]=t,r.postMessage({id:i,data:e}),i+=1}e.exports=c},"583f":function(e,t){},"5ca1":function(e,t,n){var r=n("7726"),i=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",u=function(e,t,n){var h,l,d,f,p=e&u.F,g=e&u.G,_=e&u.S,m=e&u.P,y=e&u.B,b=g?r:_?r[t]||(r[t]={}):(r[t]||{})[c],w=g?i:i[t]||(i[t]={}),v=w[c]||(w[c]={});for(h in g&&(n=t),n)l=!p&&b&&void 0!==b[h],d=(l?b:n)[h],f=y&&l?a(d,r):m&&"function"==typeof d?a(Function.call,d):d,b&&s(b,h,d,e&u.U),w[h]!=d&&o(w,h,f),m&&v[h]!=d&&(v[h]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5d1c":function(e,t,n){"use strict";var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=n("c9b8").codes,s=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function c(e){if(e)throw e}function u(e){return e.setHeader&&"function"===typeof e.abort}function h(e,t,o,s){s=i(s);var c=!1;e.on("close",(function(){c=!0})),void 0===r&&(r=n("903c")),r(e,{readable:t,writable:o},(function(e){if(e)return s(e);c=!0,s()}));var h=!1;return function(t){if(!c&&!h)return h=!0,u(e)?e.abort():"function"===typeof e.destroy?e.destroy():void s(t||new a("pipe"))}}function l(e){e()}function d(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?c:e.pop():c}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,n){var s=n<t.length-1,a=n>0;return h(e,s,a,(function(e){r||(r=e),e&&o.forEach(l),s||(o.forEach(l),i(r))}))}));return t.reduce(d)}e.exports=p},"5dbc":function(e,t,n){var r=n("d3f4"),i=n("8b97").set;e.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},"5de4":function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return w}));n("ac6a"),n("fca0");var r=n("ade3"),i=(n("a481"),n("1da1"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return c.apply(this,arguments)}function c(){return c=Object(i["a"])((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Number.isFinite(t.timeout)){const e=new AbortController;t.signal=e.signal,setTimeout(()=>e.abort(),t.timeout)}const n=yield fetch(e,t);if(n.status>=400){const e=new Error(n.statusText||n.status);throw e.response=n,e}return n})),c.apply(this,arguments)}const u={_searchParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=new URL(e),n=t.searchParams;return n},exists(e,t){return this._searchParams(t).has(e)},get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return this._searchParams(n).get(e)||t},isTruthy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this._searchParams(n);return r.has(e)?["1","true"].includes(r.get(e).toLowerCase()):t},asNumber(e,t,n){const r=this._searchParams(n);return r.has(e)?Number(r.get(e)):t}};function h(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function l(){return/Mobi|Android/i.test(navigator.userAgent)}function d(e){return e.startsWith("https://arc.io/demo")}function f(e){const t=[];let n=[];for(let r=0;r<e.length;r++){const i=e[r];if(0===n.length)n.push(i);else{const e=n[n.length-1];e+1!==i?(1===n.length&&n.push(n[0]),t.push(n),n=[i]):n[1]=i}r===e.length-1&&(1===n.length&&n.push(n[0]),t.push(n))}return t}const p=e=>new Promise(t=>setTimeout(t,e));function g(){return _.apply(this,arguments)}function _(){return _=Object(i["a"])((function*(){let e=!1;const t=document.createElement("div");if(t.setAttribute("class","text-ad ad-text adSense adBlock adContent adBanner"),t.setAttribute("style","width: 1px ! important; height: 1px !important;\n        position: absolute !important; left: -10000px !important;\n        top: -1000px !important;"),document.body.appendChild(t),yield p(100),null!==window.document.body.getAttribute("abp")||null===t.offsetParent||0===t.offsetHeight||0===t.offsetLeft||0===t.offsetTop||0===t.offsetWidth||0===t.clientHeight||0===t.clientWidth)e=!0;else if(void 0!==window.getComputedStyle){const n=window.getComputedStyle(t,null);!n||"none"!==n.getPropertyValue("display")&&"hidden"!==n.getPropertyValue("visibility")||(e=!0)}return document.body.removeChild(t),e})),_.apply(this,arguments)}function m(){const e=document.body;return e&&"frameset"!==e.tagName.toLowerCase()?e:document.documentElement}function y(e){try{return e()}catch(t){return null}}function b(){const e=document.createElement("canvas"),t=e.getContext("webgl"),n=t.getExtension("WEBGL_debug_renderer_info"),r=t.getParameter(n.UNMASKED_VENDOR_WEBGL),i=t.getParameter(n.UNMASKED_RENDERER_WEBGL);return{webglVendor:r,webglRenderer:i}}function w(){const e=s({timeZone:y(()=>Intl.DateTimeFormat().resolvedOptions().timeZone),numCpuCores:y(()=>navigator.hardwareConcurrency),deviceMemoryGb:y(()=>navigator.deviceMemory),screenAvailWidth:y(()=>screen.availWidth),screenAvailHeight:y(()=>screen.availHeight),screenWidth:y(()=>screen.width),screenHeight:y(()=>screen.height),screenColorDepth:y(()=>screen.colorDepth)},b());return e}},"5ea3":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=n}).call(this,n("c8ba"))},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"5ff7":function(e,t,n){"use strict";const r=Object({NODE_ENV:"production",BASE_URL:"https://static.arc.io/",ACCOUNT_ORIGIN:"https://account.arc.io",BANDWIDTH_WARDEN_ORIGIN:"https://warden.arc.io",COGNITO_APP_ID:"431634imeo45noat90ccl0lkep",COGNITO_REGION:"us-east-2",COGNITO_IDENTITY_POOL_ID:"us-east-2:cec1bb4c-3aa1-4d9a-87df-b75ae59441d0",COGNITO_USER_POOL_ID:"us-east-2_3sKO4HOjv",COMMIT_HASH:"ebf4f08c",CORE_ORIGIN:"https://core.arc.io",DEMO_VUE_ORIGIN:"https://demo.arc.io",DOCS_ORIGIN:"https://docs.arc.io",FIREBASE_API_KEY:"AIzaSyCGmeUDT5F7Bq77JvXlN8IXBwJjIXJwvcI",GA_TID_HOMEPAGE:"UA-123508647-1",GA_TID_USER_TIMING:"UA-123508647-2",GATEWAY_ORIGIN:"https://gateway.arc.io",GOOGLE_PROJECT_FIRESTORE_ID:"prod-firestore-arc",HOMEPAGE_ORIGIN:"https://arc.io",INLAY_ORIGIN:"https://inlay.arc.io",OVERMIND_ORIGIN:"https://overmind.arc.io",PORTAL_VUE_ORIGIN:"https://portal.arc.io",PORTAL_ORIGIN:"https://portal.arc.io",NODE_REPORT_MAILBOX_ORIGIN:"https://warden.arc.io",ROOT_DOMAIN:"arc.io",SOCKETCLUSTER_HOSTNAME:"socket.arc.io",SOCKETCLUSTER_PORT:"443",STATIC_ORIGIN:"https://static.arc.io",STORAGE_ORIGIN:"https://storage.arc.io",STRIPE_CLIENT_ID:"ca_DMhwnlBqMfP4Vx8mJF4M1nGxTNU5263W",STRIPE_PUBLISHABLE_KEY:"pk_live_Df4EdjIuSE8fW21HyuwWhJcm",SW_ORIGIN:"https://arc.io",TCDN_ORIGIN:"https://tcdn.arc.io",TRACKER_ANNOUNCE_URL:"wss://tracker.arc.io/announce",TRACKER_ORIGIN:"https://tracker.arc.io",WAMP_ROUTER_URL:"wss://router.arc.io/ws",WEBSEED_ORIGIN:"https://webseed.arc.io",WIDGET_ORIGIN:"https://arc.io",DEBUG:"false"});r.IS_PROD="production"===r.NODE_ENV,t["a"]=r},6:function(e,t){},"613b":function(e,t,n){var r=n("5537")("keys"),i=n("ca5a");e.exports=function(e){return r[e]||(r[e]=i(e))}},"616f":function(e,t){var n=function(e){var t=0;return function(){if(t===e.length)return null;var n=e.length-t,r=Math.random()*n|0,i=e[t+r],o=e[t];return e[t]=i,e[t+r]=o,t++,i}};e.exports=n},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6821:function(e,t,n){var r=n("626a"),i=n("be13");e.exports=function(e){return r(i(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"6b54":function(e,t,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),s="toString",a=/./[s],c=function(e){n("2aba")(RegExp.prototype,s,e,!0)};n("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):a.name!=s&&c((function(){return a.call(this)}))},"6f59":function(e,t,n){(function(t){var r=n("566b"),i=n("ab52"),o=n(13),s=function(){},a=/^v?\.0/.test(t.version),c=function(e){return"function"===typeof e},u=function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)))},h=function(e){return e.setHeader&&c(e.abort)},l=function(e,t,n,o){o=r(o);var a=!1;e.on("close",(function(){a=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return o(e);a=!0,o()}));var l=!1;return function(t){if(!a&&!l)return l=!0,u(e)?e.close(s):h(e)?e.abort():c(e.destroy)?e.destroy():void o(t||new Error("stream was destroyed"))}},d=function(e){e()},f=function(e,t){return e.pipe(t)},p=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var s=o<t.length-1,a=o>0;return l(i,s,a,(function(t){e||(e=t),t&&r.forEach(d),s||(r.forEach(d),n(e))}))}));return t.reduce(f)};e.exports=p}).call(this,n("f28c"))},7:function(e,t){},"72db":function(e,t,n){"use strict";n("ac6a");var r=n("ade3"),i=n("15fd"),o=n("1da1"),s=n("8707"),a=n("5de4"),c=n("8c32"),u=n("7f1b"),h=n("5ff7");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=h["a"].GATEWAY_ORIGIN;function p(e){return g.apply(this,arguments)}function g(){return g=Object(o["a"])((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=Object(c["f"])(e);const n=`${f}/fileInfo${e}`,r={credentials:"omit",timeout:t},o=yield Object(a["i"])(n,r),h=yield o.json(),l=h.b64TorrentFile,p=h.b64CipherKey,g=Object(i["a"])(h,["b64TorrentFile","b64CipherKey"]),_=Object(u["a"])(l);let m=null;return p&&(m=s["Buffer"].from(p,"base64")),d({torrentFileObj:_,cipherKey:m},g)})),g.apply(this,arguments)}function _(e){return m.apply(this,arguments)}function m(){return m=Object(o["a"])((function*(e){let t={};if(!e)return t;const n=f+"/cdnConfig/"+e,r={credentials:"omit"},i=yield Object(a["i"])(n,r);return t=yield i.json(),t})),m.apply(this,arguments)}function y(e,t){return b.apply(this,arguments)}function b(){return b=Object(o["a"])((function*(e,t){const n=new URL(`${f}/autoCdnIngest`);n.searchParams.set("url",e),n.searchParams.set("propertyId",t);const r={credentials:"omit"};return Object(a["i"])(n.href,r)})),b.apply(this,arguments)}function w(){return v.apply(this,arguments)}function v(){return v=Object(o["a"])((function*(){const e=`${f}/region`,t=yield Object(a["i"])(e,{cache:"no-store"}),n=yield t.text();return n})),v.apply(this,arguments)}t["a"]={getFileInfo:p,getCdnConfig:_,ingestAutoCdnResource:y,getRegion:w}},"738f":function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(5),o=n(1),s=o.toHex,a=o.ceilHeapSize,c=n(6),u=function(e){for(e+=9;e%64>0;e+=1);return e},h=function(e,t){var n=new Uint8Array(e.buffer),r=t%4,i=t-r;switch(r){case 0:n[i+3]=0;case 1:n[i+2]=0;case 2:n[i+1]=0;case 3:n[i+0]=0}for(var o=1+(t>>2);o<e.length;o++)e[o]=0},l=function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[14+(2+(t>>2)&-16)]=n/(1<<29)|0,e[15+(2+(t>>2)&-16)]=n<<3},d=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),i=new DataView(r.buffer);return i.setInt32(0,n[0],!1),i.setInt32(4,n[1],!1),i.setInt32(8,n[2],!1),i.setInt32(12,n[3],!1),i.setInt32(16,n[4],!1),r},f=function(){function e(t){if(r(this,e),t=t||65536,t%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=t,this._padMaxChunkLen=u(t),this._heap=new ArrayBuffer(a(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new i({Int32Array:Int32Array},{},this._heap)}return e.prototype._initState=function(e,t){this._offset=0;var n=new Int32Array(e,t+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},e.prototype._padChunk=function(e,t){var n=u(e),r=new Int32Array(this._heap,0,n>>2);return h(r,e),l(r,e,t),n},e.prototype._write=function(e,t,n,r){c(e,this._h8,this._h32,t,n,r||0)},e.prototype._coreCall=function(e,t,n,r,i){var o=n;this._write(e,t,n),i&&(o=this._padChunk(n,r)),this._core.hash(o,this._padMaxChunkLen)},e.prototype.rawDigest=function(e){var t=e.byteLength||e.length||e.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,r=this._maxChunkLen;for(n=0;t>n+r;n+=r)this._coreCall(e,n,r,t,!1);return this._coreCall(e,n,t-n,t,!0),d(this._heap,this._padMaxChunkLen)},e.prototype.digest=function(e){return s(this.rawDigest(e).buffer)},e.prototype.digestFromString=function(e){return this.digest(e)},e.prototype.digestFromBuffer=function(e){return this.digest(e)},e.prototype.digestFromArrayBuffer=function(e){return this.digest(e)},e.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},e.prototype.append=function(e){var t=0,n=e.byteLength||e.length||e.size||0,r=this._offset%this._maxChunkLen,i=void 0;this._offset+=n;while(t<n)i=Math.min(n-t,this._maxChunkLen-r),this._write(e,t,i,r),r+=i,t+=i,r===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),r=0);return this},e.prototype.getState=function(){var e=this._offset%this._maxChunkLen,t=void 0;if(e)t=this._heap.slice(0);else{var n=new Int32Array(this._heap,this._padMaxChunkLen+320,5);t=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}return{offset:this._offset,heap:t}},e.prototype.setState=function(e){if(this._offset=e.offset,20===e.heap.byteLength){var t=new Int32Array(this._heap,this._padMaxChunkLen+320,5);t.set(new Int32Array(e.heap))}else this._h32.set(new Int32Array(e.heap));return this},e.prototype.rawEnd=function(){var e=this._offset,t=e%this._maxChunkLen,n=this._padChunk(t,e);this._core.hash(n,this._padMaxChunkLen);var r=d(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),r},e.prototype.end=function(){return s(this.rawEnd().buffer)},e}();e.exports=f,e.exports._core=i},function(e,t){for(var n=new Array(256),r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);e.exports.toHex=function(e){for(var t=new Uint8Array(e),r=new Array(e.byteLength),i=0;i<r.length;i++)r[i]=n[t[i]];return r.join("")},e.exports.ceilHeapSize=function(e){var t=0;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t},e.exports.isDedicatedWorkerScope=function(e){var t="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,n="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,r="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return t&&!n&&!r}},function(e,t,n){e.exports=function(){var e=n(0),t=function(e,t,n){try{return n(null,e.digest(t))}catch(r){return n(r)}},r=function(e,t,n,i,o){var s=new self.FileReader;s.onloadend=function(){if(s.error)return o(s.error);var a=s.result;t+=s.result.byteLength;try{e.append(a)}catch(c){return void o(c)}t<i.size?r(e,t,n,i,o):o(null,e.end())},s.readAsArrayBuffer(i.slice(t,t+n))},i=!0;return self.onmessage=function(n){if(i){var o=n.data.data,s=n.data.file,a=n.data.id;if("undefined"!==typeof a&&(s||o)){var c=n.data.blockSize||4194304,u=new e(c);u.resetState();var h=function(e,t){e?self.postMessage({id:a,error:e.name}):self.postMessage({id:a,hash:t})};o&&t(u,o,h),s&&r(u,0,c,s,h)}}},function(){i=!1}}},function(e,t,n){var r=n(4),i=n(0),o=n(7),s=n(2),a=n(1),c=a.isDedicatedWorkerScope,u="undefined"!==typeof self&&c(self);i.disableWorkerBehaviour=u?s():function(){},i.createWorker=function(){var e=r(2),t=e.terminate;return e.terminate=function(){URL.revokeObjectURL(e.objectURL),t.call(e)},e},i.createHash=o,e.exports=i},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\((/\\*.*?\\*/)?s?.*?("+i+").*?\\)";function s(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,r){var a={};a[r]=[];var c=t.toString(),u=c.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return a;var h,l=u[1],d=new RegExp("(\\\\n|\\W)"+s(l)+o,"g");while(h=d.exec(c))"dll-reference"!==h[3]&&a[r].push(h[3]);d=new RegExp("\\("+s(l)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");while(h=d.exec(c))e[h[2]]||(a[r].push(h[1]),e[h[2]]=n(h[1]).m),a[h[2]]=a[h[2]]||[],a[h[2]].push(h[4]);return a}function c(e){var t=Object.keys(e);return t.reduce((function(t,n){return t||e[n].length>0}),!1)}function u(e,t){var n={main:[t]},r={main:[]},i={main:{}};while(c(n))for(var o=Object.keys(n),s=0;s<o.length;s++){var u=o[s],h=n[u],l=h.pop();if(i[u]=i[u]||{},!i[u][l]&&e[u][l]){i[u][l]=!0,r[u]=r[u]||[],r[u].push(l);for(var d=a(e,e[u][l],u),f=Object.keys(d),p=0;p<f.length;p++)n[f[p]]=n[f[p]]||[],n[f[p]]=n[f[p]].concat(d[f[p]])}}return r}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i)}:u(i,e),s="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){var t=0;while(o[e][t])t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),s=s+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"})(self);";var a=new window.Blob([s],{type:"text/javascript"});if(t.bare)return a;var c=window.URL||window.webkitURL||window.mozURL||window.msURL,h=c.createObjectURL(a),l=new window.Worker(h);return l.objectURL=h,l}},function(e,t){e.exports=function(e,t,n){"use asm";var r=new e.Int32Array(n);function i(e,t){e=e|0;t=t|0;var n=0,i=0,o=0,s=0,a=0,c=0,u=0,h=0,l=0,d=0,f=0,p=0,g=0,_=0;o=r[t+320>>2]|0;a=r[t+324>>2]|0;u=r[t+328>>2]|0;l=r[t+332>>2]|0;f=r[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){s=o;c=a;h=u;d=l;p=f;for(i=0;(i|0)<64;i=i+4|0){_=r[n+i>>2]|0;g=((o<<5|o>>>27)+(a&u|~a&l)|0)+((_+f|0)+1518500249|0)|0;f=l;l=u;u=a<<30|a>>>2;a=o;o=g;r[e+i>>2]=_}for(i=e+64|0;(i|0)<(e+80|0);i=i+4|0){_=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;g=((o<<5|o>>>27)+(a&u|~a&l)|0)+((_+f|0)+1518500249|0)|0;f=l;l=u;u=a<<30|a>>>2;a=o;o=g;r[i>>2]=_}for(i=e+80|0;(i|0)<(e+160|0);i=i+4|0){_=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;g=((o<<5|o>>>27)+(a^u^l)|0)+((_+f|0)+1859775393|0)|0;f=l;l=u;u=a<<30|a>>>2;a=o;o=g;r[i>>2]=_}for(i=e+160|0;(i|0)<(e+240|0);i=i+4|0){_=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;g=((o<<5|o>>>27)+(a&u|a&l|u&l)|0)+((_+f|0)-1894007588|0)|0;f=l;l=u;u=a<<30|a>>>2;a=o;o=g;r[i>>2]=_}for(i=e+240|0;(i|0)<(e+320|0);i=i+4|0){_=(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])<<1|(r[i-12>>2]^r[i-32>>2]^r[i-56>>2]^r[i-64>>2])>>>31;g=((o<<5|o>>>27)+(a^u^l)|0)+((_+f|0)-899497514|0)|0;f=l;l=u;u=a<<30|a>>>2;a=o;o=g;r[i>>2]=_}o=o+s|0;a=a+c|0;u=u+h|0;l=l+d|0;f=f+p|0}r[t+320>>2]=o;r[t+324>>2]=a;r[t+328>>2]=u;r[t+332>>2]=l;r[t+336>>2]=f}return{hash:i}}},function(e,t){var n=this,r=void 0;"undefined"!==typeof self&&"undefined"!==typeof self.FileReaderSync&&(r=new self.FileReaderSync);var i=function(e,t,n,r,i,o){var s=void 0,a=o%4,c=(i+a)%4,u=i-c;switch(a){case 0:t[o]=e.charCodeAt(r+3);case 1:t[o+1-(a<<1)|0]=e.charCodeAt(r+2);case 2:t[o+2-(a<<1)|0]=e.charCodeAt(r+1);case 3:t[o+3-(a<<1)|0]=e.charCodeAt(r)}if(!(i<c+(4-a))){for(s=4-a;s<u;s=s+4|0)n[o+s>>2]=e.charCodeAt(r+s)<<24|e.charCodeAt(r+s+1)<<16|e.charCodeAt(r+s+2)<<8|e.charCodeAt(r+s+3);switch(c){case 3:t[o+u+1|0]=e.charCodeAt(r+u+2);case 2:t[o+u+2|0]=e.charCodeAt(r+u+1);case 1:t[o+u+3|0]=e.charCodeAt(r+u)}}},o=function(e,t,n,r,i,o){var s=void 0,a=o%4,c=(i+a)%4,u=i-c;switch(a){case 0:t[o]=e[r+3];case 1:t[o+1-(a<<1)|0]=e[r+2];case 2:t[o+2-(a<<1)|0]=e[r+1];case 3:t[o+3-(a<<1)|0]=e[r]}if(!(i<c+(4-a))){for(s=4-a;s<u;s=s+4|0)n[o+s>>2|0]=e[r+s]<<24|e[r+s+1]<<16|e[r+s+2]<<8|e[r+s+3];switch(c){case 3:t[o+u+1|0]=e[r+u+2];case 2:t[o+u+2|0]=e[r+u+1];case 1:t[o+u+3|0]=e[r+u]}}},s=function(e,t,n,i,o,s){var a=void 0,c=s%4,u=(o+c)%4,h=o-u,l=new Uint8Array(r.readAsArrayBuffer(e.slice(i,i+o)));switch(c){case 0:t[s]=l[3];case 1:t[s+1-(c<<1)|0]=l[2];case 2:t[s+2-(c<<1)|0]=l[1];case 3:t[s+3-(c<<1)|0]=l[0]}if(!(o<u+(4-c))){for(a=4-c;a<h;a=a+4|0)n[s+a>>2|0]=l[a]<<24|l[a+1]<<16|l[a+2]<<8|l[a+3];switch(u){case 3:t[s+h+1|0]=l[h+2];case 2:t[s+h+2|0]=l[h+1];case 1:t[s+h+3|0]=l[h]}}};e.exports=function(e,t,r,a,c,u){if("string"===typeof e)return i(e,t,r,a,c,u);if(e instanceof Array)return o(e,t,r,a,c,u);if(n&&n.Buffer&&n.Buffer.isBuffer(e))return o(e,t,r,a,c,u);if(e instanceof ArrayBuffer)return o(new Uint8Array(e),t,r,a,c,u);if(e.buffer instanceof ArrayBuffer)return o(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t,r,a,c,u);if(e instanceof Blob)return s(e,t,r,a,c,u);throw new Error("Unsupported data type.")}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(1),s=o.toHex,a=function(){function e(){r(this,e),this._rusha=new i,this._rusha.resetState()}return e.prototype.update=function(e){return this._rusha.append(e),this},e.prototype.digest=function(e){var t=this._rusha.rawEnd().buffer;if(!e)return t;if("hex"===e)return s(t);throw new Error("unsupported digest encoding")},e}();e.exports=function(){return new a}}])}))},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},"780f":function(e,t,n){"use strict";e.exports=i;var r=n("27bf");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n("3fb5")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7a56":function(e,t,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),s=n("2b4c")("species");e.exports=function(e){var t=r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},"7b03":function(e,t){var n,r=1,i=65535,o=4,s=function(){r=r+1&i};e.exports=function(e){n||(n=setInterval(s,1e3/o|0),n.unref&&n.unref());var t=o*(e||5),a=[0],c=1,u=r-1&i;return function(e){var n=r-u&i;n>t&&(n=t),u=r;while(n--)c===t&&(c=0),a[c]=a[0===c?t-1:c-1],c++;e&&(a[c-1]+=e);var s=a[c-1],h=a.length<t?0:a[c===t?0:c];return a.length<o?s:(s-h)*o/a.length}}},"7c59":function(e,t,n){e.exports=i;const r=n("d2b7");async function i(e,t){const n=await r(e,t),i=URL.createObjectURL(n);return i}},"7d72":function(e,t,n){"use strict";var r=n("8707").Buffer,i=r.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function s(e){var t=o(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function a(e){var t;switch(this.encoding=s(e),this.encoding){case"utf16le":this.text=p,this.end=g,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=_,this.end=m,t=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function c(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function u(e,t,n){var r=t.length-1;if(r<n)return 0;var i=c(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=c(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=c(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function h(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function l(e){var t=this.lastTotal-this.lastNeed,n=h(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function d(e,t){var n=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function _(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=f,a.prototype.text=d,a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"7f1b":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("b944"),i=n.n(r),o=n("8707"),s=n("5de4");function a(e){const t=1,n=s["h"].asNumber("webseed",t);return e.urlList=e.urlList.slice(0,n),e}function c(e){const t=o["Buffer"].from(e,"base64");let n=i()(t);return"undefined"!==typeof window&&(n=a(n)),n}},"7f20":function(e,t,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},8:function(e,t){},8091:function(e,t,n){const r=n("faa1");class i extends r{constructor(e,t){super(),this.client=e,this.announceUrl=t,this.interval=null,this.destroyed=!1}setInterval(e){null==e&&(e=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),e&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},e),this.interval.unref&&this.interval.unref())}}e.exports=i},"81e8":function(e,t,n){"use strict";(function(e){function r(){const t=Promise.resolve();function n(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.then(()=>{e(...r)})}e.nextTick=n,e.nextTickAsync=()=>t.then()}n.d(t,"a",(function(){return r}))}).call(this,n("f28c"))},8378:function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},"83cc":function(e,t,n){(function(t){e.exports=o,e.exports.decode=o,e.exports.encode=s;const r=n("ac4f"),i=n("175e");function o(e){const n={},o=e.split("magnet:?")[1],s=o&&o.length>=0?o.split("&"):[];let a;if(s.forEach(e=>{const t=e.split("=");if(2!==t.length)return;const r=t[0];let i=t[1];if("dn"===r&&(i=decodeURIComponent(i).replace(/\+/g," ")),"tr"!==r&&"xs"!==r&&"as"!==r&&"ws"!==r||(i=decodeURIComponent(i)),"kt"===r&&(i=decodeURIComponent(i).split("+")),"ix"===r&&(i=Number(i)),n[r])if(Array.isArray(n[r]))n[r].push(i);else{const e=n[r];n[r]=[e,i]}else n[r]=i}),n.xt){const e=Array.isArray(n.xt)?n.xt:[n.xt];e.forEach(e=>{if(a=e.match(/^urn:btih:(.{40})/))n.infoHash=a[1].toLowerCase();else if(a=e.match(/^urn:btih:(.{32})/)){const e=r.decode(a[1]);n.infoHash=t.from(e,"binary").toString("hex")}})}return n.infoHash&&(n.infoHashBuffer=t.from(n.infoHash,"hex")),n.dn&&(n.name=n.dn),n.kt&&(n.keywords=n.kt),"string"===typeof n.tr?n.announce=[n.tr]:Array.isArray(n.tr)?n.announce=n.tr:n.announce=[],n.urlList=[],("string"===typeof n.as||Array.isArray(n.as))&&(n.urlList=n.urlList.concat(n.as)),("string"===typeof n.ws||Array.isArray(n.ws))&&(n.urlList=n.urlList.concat(n.ws)),i(n.announce),i(n.urlList),n}function s(e){e=Object.assign({},e),e.infoHashBuffer&&(e.xt=`urn:btih:${e.infoHashBuffer.toString("hex")}`),e.infoHash&&(e.xt=`urn:btih:${e.infoHash}`),e.name&&(e.dn=e.name),e.keywords&&(e.kt=e.keywords),e.announce&&(e.tr=e.announce),e.urlList&&(e.ws=e.urlList,delete e.as);let t="magnet:?";return Object.keys(e).filter(e=>2===e.length).forEach((n,r)=>{const i=Array.isArray(e[n])?e[n]:[e[n]];i.forEach((e,i)=>{!(r>0||i>0)||"kt"===n&&0!==i||(t+="&"),"dn"===n&&(e=encodeURIComponent(e).replace(/%20/g,"+")),"tr"!==n&&"xs"!==n&&"as"!==n&&"ws"!==n||(e=encodeURIComponent(e)),"kt"===n&&(e=encodeURIComponent(e)),t+="kt"===n&&i>0?`+${e}`:`${n}=${e}`})}),t}}).call(this,n("b639").Buffer)},"84f2":function(e,t){e.exports={}},"85b1":function(e,t,n){"use strict";var r=n("2332"),i=n("5ea3"),o="object"==typeof self&&self&&self.Object===Object&&self,s=i["a"]||o||Function("return this")(),a=s,c=function(){return a.Date.now()},u=c,h=a.Symbol,l=h,d=Object.prototype,f=d.hasOwnProperty,p=d.toString,g=l?l.toStringTag:void 0;function _(e){var t=f.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(o){}var i=p.call(e);return r&&(t?e[g]=n:delete e[g]),i}var m=_,y=Object.prototype,b=y.toString;function w(e){return b.call(e)}var v=w,E="[object Null]",O="[object Undefined]",R=l?l.toStringTag:void 0;function T(e){return null==e?void 0===e?O:E:R&&R in Object(e)?m(e):v(e)}var S=T;function I(e){return null!=e&&"object"==typeof e}var k=I,C="[object Symbol]";function A(e){return"symbol"==typeof e||k(e)&&S(e)==C}var x=A,P=NaN,N=/^\s+|\s+$/g,L=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,M=/^0o[0-7]+$/i,D=parseInt;function U(e){if("number"==typeof e)return e;if(x(e))return P;if(Object(r["a"])(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(r["a"])(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(N,"");var n=j.test(e);return n||M.test(e)?D(e.slice(2),n?2:8):L.test(e)?P:+e}var B=U,F="Expected a function",H=Math.max,G=Math.min;function $(e,t,n){var i,o,s,a,c,h,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(F);function g(t){var n=i,r=o;return i=o=void 0,l=t,a=e.apply(r,n),a}function _(e){return l=e,c=setTimeout(b,t),d?g(e):a}function m(e){var n=e-h,r=e-l,i=t-n;return f?G(i,s-r):i}function y(e){var n=e-h,r=e-l;return void 0===h||n>=t||n<0||f&&r>=s}function b(){var e=u();if(y(e))return w(e);c=setTimeout(b,m(e))}function w(e){return c=void 0,p&&i?g(e):(i=o=void 0,a)}function v(){void 0!==c&&clearTimeout(c),l=0,i=h=o=c=void 0}function E(){return void 0===c?a:w(u())}function O(){var e=u(),n=y(e);if(i=arguments,o=this,h=e,n){if(void 0===c)return _(h);if(f)return clearTimeout(c),c=setTimeout(b,t),g(h)}return void 0===c&&(c=setTimeout(b,t)),a}return t=B(t)||0,Object(r["a"])(n)&&(d=!!n.leading,f="maxWait"in n,s=f?H(B(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),O.cancel=v,O.flush=E,O}t["a"]=$},"86cc":function(e,t,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),s=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},8707:function(e,t,n){var r=n("b639"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},8712:function(e,t){let n;e.exports="function"===typeof queueMicrotask?queueMicrotask:e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},"8b97":function(e,t,n){var r=n("d3f4"),i=n("cb7c"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},"8c05":function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},"8c32":function(e,t,n){"use strict";var r=n("0d21");function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}var o=n("3d8c");function s(e){return Object(r["a"])(e)||i(e)||Object(o["a"])()}n("6b54");var a=n("3835");n("28a5"),n("a481"),n("3b2b"),n("ac6a");n.d(t,"c",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return w}));const c=console.log;function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new Promise(n=>setTimeout(()=>n(t),e))}function h(e,t,n){return Promise.race([e,u(t,n)])}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-";const t=(new Date).getTime(),n=String(Math.random()).slice(2,11);return t+e+n}class d{constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}function f(e){const t=e.name,n=e.message,r=e.stack;return{name:t,message:n,stack:r}}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=[],n=e.split(".");n.length>1&&t.splice(0,0,n.pop()),n.length>1&&n[n.length-1].length<=2&&t.splice(0,0,n.pop()),t.splice(0,0,n.pop());let r=t.join(".");return r=r.charAt(0).toUpperCase()+r.substring(1),r}function g(e){"/"!==e.charAt(0)&&(e="/"+e);const t=e.split("/"),n=s(t),r=(n[0],n[1]),i=n.slice(2),o=encodeURIComponent(i.join("/"));return e=`/${r}/${o}`,e}function _(e,t,n,r){return`${e}/${m(t,n,r)}`}function m(e,t,n){return`${e}/${n}/${t}.${n}`}function y(e){return("0"+e.toString(16)).substr(-2)}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,y).join("")}function w(e){const t={};for(const r of Object.entries(e)){var n=Object(a["a"])(r,2);const e=n[0],i=n[1];t[e]=[i.isSeeding?1:0,i.hasTorrentFile?1:0,i.clientName||"",i.chunkIndexes||[],i.uploaded||0,i.downloaded||0]}return t}},"8cc1":function(e,t,n){(function(t){function n(e,n){var r,i,o,s=!0;function a(e){function i(){n&&n(e,r),n=null}s?t.nextTick(i):i()}function c(e,t,n){r[e]=n,(0===--i||t)&&a(t)}Array.isArray(e)?(r=[],i=e.length):(o=Object.keys(e),r={},i=o.length),i?o?o.forEach((function(t){e[t]((function(e,n){c(t,e,n)}))})):e.forEach((function(e,t){e((function(e,n){c(t,e,n)}))})):a(null),s=!1}e.exports=n}).call(this,n("f28c"))},"8fe2":function(e,t,n){var r=e.exports;r.encode=n("4cdf"),r.decode=n("1131"),r.byteLength=r.encodingLength=function(e){return r.encode(e).length}},"8fe5":function(e,t,n){(function(t){const r=n("34eb")("simple-websocket"),i=n("11dc"),o=n("e372"),s=n("8712"),a=n(2),c="function"!==typeof a?WebSocket:a,u=65536;class h extends o.Duplex{constructor(e={}){if("string"===typeof e&&(e={url:e}),e=Object.assign({allowHalfOpen:!1},e),super(e),null==e.url&&null==e.socket)throw new Error("Missing required `url` or `socket` option");if(null!=e.url&&null!=e.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=i(4).toString("hex").slice(0,7),this._debug("new websocket: %o",e),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,e.socket)this.url=e.socket.url,this._ws=e.socket,this.connected=e.socket.readyState===c.OPEN;else{this.url=e.url;try{this._ws="function"===typeof a?new c(e.url,e):new c(e.url)}catch(t){return void s(()=>this.destroy(t))}}this._ws.binaryType="arraybuffer",this._ws.onopen=()=>{this._onOpen()},this._ws.onmessage=e=>{this._onMessage(e)},this._ws.onclose=()=>{this._onClose()},this._ws.onerror=()=>{this.destroy(new Error("connection error to "+this.url))},this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}send(e){this._ws.send(e)}destroy(e){this._destroy(e,()=>{})}_destroy(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._ws){const t=this._ws,n=()=>{t.onclose=null};if(t.readyState===c.CLOSED)n();else try{t.onclose=n,t.close()}catch(e){n()}t.onopen=null,t.onmessage=null,t.onerror=()=>{}}if(this._ws=null,e){if("undefined"!==typeof DOMException&&e instanceof DOMException){const t=e.code;e=new Error(e.message),e.code=t}this.emit("error",e)}this.emit("close"),t()}}_read(){}_write(e,t,n){if(this.destroyed)return n(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(e)}catch(r){return this.destroy(r)}"function"!==typeof a&&this._ws.bufferedAmount>u?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?e():this.once("connect",e)}_onMessage(e){if(this.destroyed)return;let n=e.data;n instanceof ArrayBuffer&&(n=t.from(n)),this.push(n)}_onOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(e)}this._chunk=null,this._debug('sent chunk from "write before connect"');const t=this._cb;this._cb=null,t(null)}"function"!==typeof a&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_onInterval(){if(!this._cb||!this._ws||this._ws.bufferedAmount>u)return;this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onClose(){this.destroyed||(this._debug("on close"),this.destroy())}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)}}h.WEBSOCKET_SUPPORT=!!c,e.exports=h}).call(this,n("b639").Buffer)},9:function(e,t){},"903c":function(e,t,n){"use strict";var r=n("c9b8").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function s(e){return e.setHeader&&"function"===typeof e.abort}function a(e,t,n){if("function"===typeof t)return a(e,null,t);t||(t={}),n=i(n||o);var c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,h=function(){e.writable||d()},l=e._writableState&&e._writableState.finished,d=function(){u=!1,l=!0,c||n.call(e)},f=e._readableState&&e._readableState.endEmitted,p=function(){c=!1,f=!0,u||n.call(e)},g=function(t){n.call(e,t)},_=function(){var t;return c&&!f?(e._readableState&&e._readableState.ended||(t=new r),n.call(e,t)):u&&!l?(e._writableState&&e._writableState.ended||(t=new r),n.call(e,t)):void 0},m=function(){e.req.on("finish",d)};return s(e)?(e.on("complete",d),e.on("abort",_),e.req?m():e.on("request",m)):u&&!e._writableState&&(e.on("end",h),e.on("close",h)),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",_),function(){e.removeListener("complete",d),e.removeListener("abort",_),e.removeListener("request",m),e.req&&e.req.removeListener("finish",d),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",_)}}e.exports=a},9093:function(e,t,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},9152:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?i-1:0,d=n?-1:1,f=e[t+l];for(l+=d,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+e[t+l],l+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+l],l+=d,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,l=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+l>=1?d/c:d*Math.pow(2,1-l),t*c>=2&&(s++,c/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(t*c-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*g}},"91dd":function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!==typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var h=0;h<u;++h){var l,d,f,p,g=e[h].replace(a,"%20"),_=g.indexOf(n);_>=0?(l=g.substr(0,_),d=g.substr(_+1)):(l=g,d=""),f=decodeURIComponent(l),p=decodeURIComponent(d),r(s,f)?i(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"925e":function(e,t,n){(function(t,r,i){var o=n("a9f1"),s=n("3fb5"),a=n("c90b"),c=n("e372"),u=n("d938"),h=a.IncomingMessage,l=a.readyStates;function d(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}var f=e.exports=function(e){var n,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=d(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};function p(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}}s(f,c.Writable),f.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===g.indexOf(r)&&(n._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,s=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=o.arraybuffer?u(t.concat(e._body)):o.blobConstructor?new r.Blob(e._body.map((function(e){return u(e)})),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,n=s[e].value;Array.isArray(n)?n.forEach((function(e){c.push([t,e])})):c.push([t,n])})),"fetch"===e._mode){var h=null;if(o.abortController){var d=new AbortController;h=d.signal,e._fetchAbortController=d,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:h}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(p){return void i.nextTick((function(){e.emit("error",p)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(f.timeout=n.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case l.LOADING:case l.DONE:e._onXHRProgress();break}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(a)}catch(p){return void i.nextTick((function(){e.emit("error",p)}))}}}},f.prototype._onXHRProgress=function(){var e=this;p(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,n){var r=this;r._body.push(e),n()},f.prototype.abort=f.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},f.prototype.end=function(e,t,n){var r=this;"function"===typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(r,e,t,n)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("b639").Buffer,n("c8ba"),n("f28c"))},9490:function(e,t,n){(function(e){var r=n("925e"),i=n("c90b"),o=n("53a8"),s=n("8c05"),a=n("cffb"),c=t;c.request=function(t,n){t="string"===typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,c=t.hostname||t.host,u=t.port,h=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?s+"//"+c:"")+(u?":"+u:"")+h,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var l=new r(t);return n&&l.on("response",n),l},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("c8ba"))},"94e2":function(e,t){},"9b16":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));n("ac6a");var r=n("3835"),i=n("ade3"),o=n("1da1"),s=n("3d15"),a=n("a5a5"),c=n("8c32");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=a["i"].COMLINK_INIT;function d(e){return f.apply(this,arguments)}function f(){return f=Object(o["a"])((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=new MessageChannel,i=new MessageChannel,o={arcEvent:l};"undefined"!==typeof window&&(o.parentUrl=window.location.href);const a=[r.port2,i.port2],u=[o,a];null!==n&&u.splice(1,0,n),e.postMessage(...u);const d=s["e"](r.port1),f=new c["a"],p=f.resolve,g=f.reject,_=h({},t,{_confirmRpc:p,_rejectRpc:g});return s["a"](_,i.port1),yield f.promise,d})),f.apply(this,arguments)}function p(e,t){return g.apply(this,arguments)}function g(){return g=Object(o["a"])((function*(e,t){const n=Object(r["a"])(t,2),i=n[0],o=n[1];s["a"](e,i);const a=s["e"](o);yield a._confirmRpc()})),g.apply(this,arguments)}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"9c0e":function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("903c"),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[d].read();null!==n&&(e[h]=null,e[s]=null,e[a]=null,t(f(n,!1)))}}function g(e){t.nextTick(p,e)}function _(e,t){return function(n,r){e.then((function(){t[u]?n(f(void 0,!0)):t[l](n,r)}),r)}}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((r={get stream(){return this[d]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[c]?r(e[c]):n(f(void 0,!0))}))}));var r,i=this[h];if(i)r=new Promise(_(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[l])}return this[h]=r,r}},i(r,Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),m),b=function(e){var t,n=Object.create(y,(t={},i(t,d,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,l,{value:function(e,t){var r=n[d].read();r?(n[h]=null,n[s]=null,n[a]=null,e(f(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[h]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[h]=null,n[s]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[h]=null,n[s]=null,n[a]=null,r(f(void 0,!0))),n[u]=!0})),e.on("readable",g.bind(null,n)),n};e.exports=b}).call(this,n("f28c"))},"9c5d":function(e,t,n){(function(t){const r=n("d329"),i=n("34eb")("webtorrent:webconn"),o=n("c7ba"),s=n("2a3b"),a=n("0809");n("af39").version;class c extends a{constructor(e,t){super(),this.url=e,this.webPeerId=s.sync(e),this._torrent=t,this._init()}_init(){this.setKeepAlive(!0),this.once("handshake",(e,t)=>{if(this.destroyed)return;this.handshake(e,this.webPeerId);const n=this._torrent.pieces.length,i=new r(n);for(let r=0;r<=n;r++)i.set(r,!0);this.bitfield(i)}),this.once("interested",()=>{i("interested"),this.unchoke()}),this.on("uninterested",()=>{i("uninterested")}),this.on("choke",()=>{i("choke")}),this.on("unchoke",()=>{i("unchoke")}),this.on("bitfield",()=>{i("bitfield")}),this.on("request",(e,t,n,r)=>{i("request pieceIndex=%d offset=%d length=%d",e,t,n),this.httpRequest(e,t,n,r)})}httpRequest(e,n,r,s){const a=e*this._torrent.pieceLength,c=a+n,u=c+r-1,h=this._torrent.files;let l;if(h.length<=1)l=[{url:this.url,start:c,end:u}];else{const e=h.filter(e=>{return e.offset<=u&&e.offset+e.length>c});if(e.length<1)return s(new Error("Could not find file corresponnding to web seed range request"));l=e.map(e=>{const t=e.offset+e.length-1,n=this.url+("/"===this.url[this.url.length-1]?"":"/")+e.path;return{url:n,fileOffsetInRange:Math.max(e.offset-c,0),start:Math.max(c-e.offset,0),end:Math.min(t,u-e.offset)}})}let d,f=0,p=!1;l.length>1&&(d=t.alloc(r)),l.forEach(t=>{let a=t.url;const c=t.start,u=t.end;i("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",a,e,n,r,c,u);const h=new URL(a);h.searchParams.set("range",`bytes=${c}-${u}`),a=h.href;const g={url:a,method:"GET",headers:{}};function _(e,n){if(e.statusCode<200||e.statusCode>=300)return p=!0,s(new Error(`Unexpected HTTP status code ${e.statusCode}`));i("Got data of length %d",n.length),1===l.length?s(null,n):(n.copy(d,t.fileOffsetInRange),++f===l.length&&s(null,d))}o.concat(g,(e,t,n)=>{if(!p)return e?"undefined"===typeof window||a.startsWith(`${window.location.origin}/`)?(p=!0,s(e)):o.head(a,(t,n)=>{if(!p){if(t)return p=!0,s(t);if(n.statusCode<200||n.statusCode>=300)return p=!0,s(new Error(`Unexpected HTTP status code ${n.statusCode}`));if(n.url===a)return p=!0,s(e);g.url=n.url,o.concat(g,(e,t,n)=>{if(!p)return e?(p=!0,s(e)):void _(t,n)})}}):void _(t,n)})})}destroy(){super.destroy(),this._torrent=null}}e.exports=c}).call(this,n("b639").Buffer)},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),e.exports=function(e){i[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9f6f":function(e,t,n){const r=n("8712");class i{constructor(e){if(this.store=e,this.chunkLength=e.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(e,t,n){this.mem[e]=t,this.store.put(e,t,t=>{this.mem[e]=null,n&&n(t)})}get(e,t,n){if("function"===typeof t)return this.get(e,null,t);let i=this.mem[e];if(!i)return this.store.get(e,t,n);if(t){const e=t.offset||0,n=t.length?e+t.length:i.length;i=i.slice(e,n)}r(()=>{n&&n(null,i)})}close(e){this.store.close(e)}destroy(e){this.store.destroy(e)}}e.exports=i},a481:function(e,t,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),s=n("4588"),a=n("0390"),c=n("5f1b"),u=Math.max,h=Math.min,l=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,g){return[function(r,i){var o=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=g(n,e,this,t);if(i.done)return i.value;var l=r(e),d=String(this),f="function"===typeof t;f||(t=String(t));var m=l.global;if(m){var y=l.unicode;l.lastIndex=0}var b=[];while(1){var w=c(l,d);if(null===w)break;if(b.push(w),!m)break;var v=String(w[0]);""===v&&(l.lastIndex=a(d,o(l.lastIndex),y))}for(var E="",O=0,R=0;R<b.length;R++){w=b[R];for(var T=String(w[0]),S=u(h(s(w.index),d.length),0),I=[],k=1;k<w.length;k++)I.push(p(w[k]));var C=w.groups;if(f){var A=[T].concat(I,S,d);void 0!==C&&A.push(C);var x=String(t.apply(void 0,A))}else x=_(T,d,S,I,C,t);S>=O&&(E+=d.slice(O,S)+x,O=S+T.length)}return E+d.slice(O)}];function _(e,t,r,o,s,a){var c=r+e.length,u=o.length,h=f;return void 0!==s&&(s=i(s),h=d),n.call(a,h,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":a=s[i.slice(1,-1)];break;default:var h=+i;if(0===h)return n;if(h>u){var d=l(h/10);return 0===d?n:d<=u?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}a=o[h-1]}return void 0===a?"":a}))}}))},a59c:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("0774"),i=n.n(r),o=n("c64e"),s=n.n(o),a=n("8707");function c(){const e=[];s()({},e);const t=128;e[0]=e[0]|t;const n=i.a.encode(a["Buffer"].from(e));return n}},a5a5:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return E}));const r="arc:",i={COMLINK_INIT:`${r}comlink:init`,NODE_ID:`${r}:nodeId`,CDN_CONFIG:`${r}cdn:config`,P2P_CLIENT_READY:`${r}cdn:ready`,STORED_FIDS:`${r}cdn:storedFids`,SW_HEALTH_CHECK:`${r}cdn:healthCheck`,WIDGET_CONFIG:`${r}widget:config`,WIDGET_INIT:`${r}widget:init`,WIDGET_UI_LOAD:`${r}widget:load`,BROKER_LOAD:`${r}broker:load`,RENDER_FILE:`${r}inlay:renderFile`,FILE_RENDERED:`${r}inlay:fileRendered`},o={STORE_FILE:"storeFile",STORE_CHUNKS:"storeChunks",PURGE_FILE:"purgeFile",PURGE_FILES:"purgeFiles",PURGE_CHUNKS:"purgeChunks",START_TORRENTING_FILE:"startTorrentingFile",STOP_TORRENTING_FILE:"stopTorrentingFile",VERIFY_FILE:"verifyFile",RUN_CODE:"runCode",CANCEL_TASK:"cancelTask",NONE:"none"},s="widget",a="arc-sw",c=`${a}.js`,u=`/${c}`,h=`/${a}`,l="arc-db",d="key-val-store",f=6e4,p=300,g=2**17,_=10*f,m={UNDECIDED:"UNDECIDED",OPTED_IN:"OPTED_IN",OPTED_OUT:"OPTED_OUT"},y="widgetOptState",b="https://portal.arc.io",w=b+"/installation",v="https://overmind.arc.io",E=`${v}/api/propertySession`},a999:function(e,t){},a9f1:function(e,t,n){(function(e){t.fetch=a(e.fetch)&&a(e.ReadableStream),t.writableStream=a(e.WritableStream),t.abortController=a(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){n=null}}else n=null;return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var o="undefined"!==typeof e.ArrayBuffer,s=o&&a(e.ArrayBuffer.prototype.slice);function a(e){return"function"===typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&s&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&a(r().overrideMimeType),t.vbArray=a(e.VBArray),n=null}).call(this,n("c8ba"))},aae3:function(e,t,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},ab52:function(e,t,n){(function(t){var r=n("566b"),i=function(){},o=function(e){return e.setHeader&&"function"===typeof e.abort},s=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},a=function(e,n,c){if("function"===typeof n)return a(e,null,n);n||(n={}),c=r(c||i);var u=e._writableState,h=e._readableState,l=n.readable||!1!==n.readable&&e.readable,d=n.writable||!1!==n.writable&&e.writable,f=!1,p=function(){e.writable||g()},g=function(){d=!1,l||c.call(e)},_=function(){l=!1,d||c.call(e)},m=function(t){c.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){c.call(e,t)},b=function(){t.nextTick(w)},w=function(){if(!f)return(!l||h&&h.ended&&!h.destroyed)&&(!d||u&&u.ended&&!u.destroyed)?void 0:c.call(e,new Error("premature close"))},v=function(){e.req.on("finish",g)};return o(e)?(e.on("complete",g),e.on("abort",b),e.req?v():e.on("request",v)):d&&!u&&(e.on("end",p),e.on("close",p)),s(e)&&e.on("exit",m),e.on("end",_),e.on("finish",g),!1!==n.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",g),e.removeListener("abort",b),e.removeListener("request",v),e.req&&e.req.removeListener("finish",g),e.removeListener("end",p),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("exit",m),e.removeListener("end",_),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a}).call(this,n("f28c"))},ac4f:function(e,t,n){var r=n("b1a6");t.encode=r.encode,t.decode=r.decode},ac6a:function(e,t,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),c=n("84f2"),u=n("2b4c"),h=u("iterator"),l=u("toStringTag"),d=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),g=0;g<p.length;g++){var _,m=p[g],y=f[m],b=s[m],w=b&&b.prototype;if(w&&(w[h]||a(w,h,d),w[l]||a(w,l,m),c[m]=d,y))for(_ in r)w[_]||o(w,_,r[_],!0)}},acbc:function(e,t,n){"use strict";(function(t){var n=new Set;function r(e){if(!n.has(e)){var r=e+" is an experimental feature. This feature could change at any time";n.add(e),t.emitWarning(r,"ExperimentalWarning")}}function i(){}e.exports.emitExperimentalWarning=t.emitWarning?r:i}).call(this,n("f28c"))},ad2b:function(e,t,n){(function(t,r,i){const{EventEmitter:o}=n("faa1"),s=n("ff0e"),a=n("583f"),c=n("34eb")("webtorrent"),u=n(4),h=n(5),l=n("8cc1"),d=n("b944"),f=n("df7c"),p=n("051a"),g=n("11dc"),_=n("7b03"),m=n(7),y=n("c115"),b=n("af39").version,w=b.replace(/\d*./g,e=>`0${e%100}`.slice(-2)).slice(0,4),v=`-WW${w}-`;class E extends o{constructor(e={}){super(),"string"===typeof e.peerId?this.peerId=e.peerId:t.isBuffer(e.peerId)?this.peerId=e.peerId.toString("hex"):this.peerId=t.from(v+g(9).toString("base64")).toString("hex"),this.peerIdBuffer=t.from(this.peerId,"hex"),"string"===typeof e.nodeId?this.nodeId=e.nodeId:t.isBuffer(e.nodeId)?this.nodeId=e.nodeId.toString("hex"):this.nodeId=g(20).toString("hex"),this.nodeIdBuffer=t.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=e.torrentPort||0,this.dhtPort=e.dhtPort||0,this.tracker=void 0!==e.tracker?e.tracker:{},this.torrents=[],this.maxConns=Number(e.maxConns)||55,this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.tracker&&("object"!==typeof this.tracker&&(this.tracker={}),e.rtcConfig&&(console.warn("WebTorrent: opts.rtcConfig is deprecated. Use opts.tracker.rtcConfig instead"),this.tracker.rtcConfig=e.rtcConfig),e.wrtc&&(console.warn("WebTorrent: opts.wrtc is deprecated. Use opts.tracker.wrtc instead"),this.tracker.wrtc=e.wrtc),r.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=r.WRTC)),"function"===typeof m?this._tcpPool=new m(this):i.nextTick(()=>{this._onListening()}),this._downloadSpeed=_(),this._uploadSpeed=_(),!1!==e.dht&&"function"===typeof u?(this.dht=new u(Object.assign({},{nodeId:this.nodeId},e.dht)),this.dht.once("error",e=>{this._destroy(e)}),this.dht.once("listening",()=>{const e=this.dht.address();e&&(this.dhtPort=e.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=!1!==e.webSeeds;const n=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};"function"===typeof h&&null!=e.blocklist?h(e.blocklist,{headers:{"user-agent":`WebTorrent/${b} (https://webtorrent.io)`}},(e,t)=>{if(e)return this.error(`Failed to load blocklist: ${e.message}`);this.blocked=t,n()}):i.nextTick(n)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const e=this.torrents.filter(e=>1!==e.progress),t=e.reduce((e,t)=>e+t.downloaded,0),n=e.reduce((e,t)=>e+(t.length||0),0)||1;return t/n}get ratio(){const e=this.torrents.reduce((e,t)=>e+t.uploaded,0),t=this.torrents.reduce((e,t)=>e+t.received,0)||1;return e/t}get(e){if(e instanceof y){if(this.torrents.includes(e))return e}else{let n;try{n=d(e)}catch(t){}if(!n)return null;if(!n.infoHash)throw new Error("Invalid torrent identifier");for(const e of this.torrents)if(e.infoHash===n.infoHash)return e}return null}download(e,t,n){return console.warn("WebTorrent: client.download() is deprecated. Use client.add() instead"),this.add(e,t,n)}add(e,t={},n){if(this.destroyed)throw new Error("client is destroyed");"function"===typeof t&&([t,n]=[{},t]);const r=()=>{if(!this.destroyed)for(const e of this.torrents)if(e.infoHash===s.infoHash&&e!==s)return void s._destroy(new Error(`Cannot add duplicate torrent ${s.infoHash}`))},i=()=>{this.destroyed||("function"===typeof n&&n(s),this.emit("torrent",s))};function o(){s.removeListener("_infoHash",r),s.removeListener("ready",i),s.removeListener("close",o)}this._debug("add"),t=t?Object.assign({},t):{};const s=new y(e,this,t);return this.torrents.push(s),s.once("_infoHash",r),s.once("ready",i),s.once("close",o),s}seed(e,t,n){if(this.destroyed)throw new Error("client is destroyed");"function"===typeof t&&([t,n]=[{},t]),this._debug("seed"),t=t?Object.assign({},t):{},t.skipVerify=!0;const r="string"===typeof e;r&&(t.path=f.dirname(e)),t.createdBy||(t.createdBy=`WebTorrent/${w}`);const i=e=>{const t=[t=>{if(r)return t();e.load(u,t)}];this.dht&&t.push(t=>{e.once("dhtAnnounce",t)}),l(t,t=>{if(!this.destroyed)return t?e._destroy(t):void o(e)})},o=e=>{this._debug("on seed"),"function"===typeof n&&n(e),e.emit("seed"),this.emit("seed",e)},c=this.add(null,t,i);let u;return R(e)?e=Array.from(e):Array.isArray(e)||(e=[e]),l(e.map(e=>t=>{O(e)?s(e,t):t(null,e)}),(e,n)=>{if(!this.destroyed)return e?c._destroy(e):void a.parseInput(n,t,(e,r)=>{if(!this.destroyed){if(e)return c._destroy(e);u=r.map(e=>e.getStream),a(n,t,(e,t)=>{if(this.destroyed)return;if(e)return c._destroy(e);const n=this.get(t);n?c._destroy(new Error(`Cannot add duplicate torrent ${n.infoHash}`)):c._onTorrentId(t)})}})}),c}remove(e,t){this._debug("remove");const n=this.get(e);if(!n)throw new Error(`No torrent with id ${e}`);this._remove(e,t)}_remove(e,t){const n=this.get(e);n&&(this.torrents.splice(this.torrents.indexOf(n),1),n.destroy(t))}address(){return this.listening?this._tcpPool?this._tcpPool.server.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}destroy(e){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,e)}_destroy(e,t){this._debug("client destroy"),this.destroyed=!0;const n=this.torrents.map(e=>t=>{e.destroy(t)});this._tcpPool&&n.push(e=>{this._tcpPool.destroy(e)}),this.dht&&n.push(e=>{this.dht.destroy(e)}),l(n,t),e&&this.emit("error",e),this.torrents=[],this._tcpPool=null,this.dht=null}_onListening(){if(this._debug("listening"),this.listening=!0,this._tcpPool){const e=this._tcpPool.server.address();e&&(this.torrentPort=e.port)}this.emit("listening")}_debug(){const e=[].slice.call(arguments);e[0]=`[${this._debugId}] ${e[0]}`,c(...e)}}function O(e){return"object"===typeof e&&null!=e&&"function"===typeof e.pipe}function R(e){return"undefined"!==typeof FileList&&e instanceof FileList}E.WEBRTC_SUPPORT=p.WEBRTC_SUPPORT,E.VERSION=b,e.exports=E}).call(this,n("b639").Buffer,n("c8ba"),n("f28c"))},ad71:function(e,t,n){"use strict";(function(t,r){var i;e.exports=C,C.ReadableState=k;n("faa1").EventEmitter;var o=function(e,t){return e.listeners(t).length},s=n("429b"),a=n("b639").Buffer,c=t.Uint8Array||function(){};function u(e){return a.from(e)}function h(e){return a.isBuffer(e)||e instanceof c}var l,d=n(0);l=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p,g=n("c6ae"),_=n("4681"),m=n("0db6"),y=m.getHighWaterMark,b=n("c9b8").codes,w=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,E=b.ERR_METHOD_NOT_IMPLEMENTED,O=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R=n("acbc"),T=R.emitExperimentalWarning;n("3fb5")(C,s);var S=["error","close","destroy","pause","resume"];function I(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function k(e,t,r){i=i||n("b19a"),e=e||{},"boolean"!==typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n("7d72").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function C(e){if(i=i||n("b19a"),!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new k(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(e,t,n,r,i){l("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,M(e,s);else if(i||(o=P(s,t)),o)e.emit("error",o);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=u(t)),r)s.endEmitted?e.emit("error",new O):x(e,s,t,!0);else if(s.ended)e.emit("error",new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):B(e,s)):x(e,s,t,!1)}else r||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),B(e,t)}function P(e,t){var n;return h(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new w("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=_.destroy,C.prototype._undestroy=_.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=a.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},C.prototype.unshift=function(e){return A(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){return f||(f=n("7d72").StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var N=8388608;function L(e){return e>=N?e=N:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=L(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function M(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,U(e)))}}function D(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(U,e))}function U(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,V(e)}function B(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(F,e,t))}function F(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function H(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,V(e))}}function G(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function $(e){l("readable nexttick read 0"),e.read(0)}function W(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(q,e,t))}function q(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),V(e),t.flowing&&!t.reading&&e.read(0)}function V(e){var t=e._readableState;l("flow",t.flowing);while(t.flowing&&null!==e.read());}function z(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function K(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(Y,t,e))}function Y(e,t){l("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function X(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?K(this):D(this),null;if(e=j(e,t),0===e&&t.ended)return 0===t.length&&K(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,l("length less than watermark",i)),t.ended||t.reading?(i=!1,l("reading or ended",i)):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(n,t))),r=e>0?z(e,t):null,null===r?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&K(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){this.emit("error",new E("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,a=s?u:y;function c(e,t){l("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function u(){l("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var h=H(n);e.on("drain",h);var d=!1;function f(){l("cleanup"),e.removeListener("close",_),e.removeListener("finish",m),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||h()}function p(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==X(i.pipes,e))&&!d&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function g(t){l("onerror",t),y(),e.removeListener("error",g),0===o(e,"error")&&e.emit("error",t)}function _(){e.removeListener("finish",m),y()}function m(){l("onfinish"),e.removeListener("close",_),y()}function y(){l("unpipe"),n.unpipe(e)}return n.on("data",p),I(e,"error",g),e.once("close",_),e.once("finish",m),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=X(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?D(this):i.reading||r.nextTick($,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(G,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(G,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,W(this,e)),e.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){if(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var o=t.push(i);o||(r=!0,e.pause())}})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return T("Readable[Symbol.asyncIterator]"),void 0===p&&(p=n("9c0e")),p(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=z,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,n("c8ba"),n("f28c"))},ade3:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},af2a:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("1da1"),i=n("3d15"),o=n("5ff7"),s=n("9b16"),a=n("d1a0");const c=n("34eb")("arc:p2p-client");console.log;function u(){return h.apply(this,arguments)}function h(){return h=Object(r["a"])((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=yield window.__arc__.brokerIframePromise,n=a["c"].markStart("broker.html:establish_rpc");let r;try{r=yield Object(s["b"])(t.contentWindow,e,o["a"].CORE_ORIGIN),n()}catch(i){c(`Failed to establish broker rpc. Error: ${i.message}`),r=yield l()}return f(r)})),h.apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])((function*(){const e=yield n.e("brokers").then(n.bind(null,"4aad")),t=e.Broker;return new t})),d.apply(this,arguments)}function f(e){const t={get(e,t,n){return"createStore"===t?function(){var t=Object(r["a"])((function*(t,n){const r=yield e.createStore(t,n);return new p(r)}));return function(e,n){return t.apply(this,arguments)}}():Reflect.get(e,t,n)}};return new Proxy(e,t)}class p{constructor(e){this.proxy=e}get(e,t,n){this.proxy.get(e,t,i["b"]((e,t)=>{if(e)return n(e);n(null,i["c"](t,[t.buffer]))}))}put(e,t,n){this.proxy.put(e,t,i["b"](n))}remove(e,t){this.proxy.remove(e,i["b"](t))}close(e){this.proxy.close(i["b"](e))}destroy(e){this.proxy.destroy(i["b"](e))}}},af39:function(e){e.exports=JSON.parse('{"version":"0.107.3-arc-3"}')},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b19a:function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n("ad71"),o=n("dc14");n("3fb5")(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||t.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n("f28c"))},b1a6:function(e,t,n){"use strict";(function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",r=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];function i(e){var t=Math.floor(e.length/5);return e.length%5===0?t:t+1}t.encode=function(t){e.isBuffer(t)||(t=new e(t));var r=0,o=0,s=0,a=0,c=new e(8*i(t));while(r<t.length){var u=t[r];s>3?(a=u&255>>s,s=(s+5)%8,a=a<<s|(r+1<t.length?t[r+1]:0)>>8-s,r++):(a=u>>8-(s+5)&31,s=(s+5)%8,0===s&&r++),c[o]=n.charCodeAt(a),o++}for(r=o;r<c.length;r++)c[r]=61;return c},t.decode=function(t){var n,i=0,o=0,s=0;e.isBuffer(t)||(t=new e(t));for(var a=new e(Math.ceil(5*t.length/8)),c=0;c<t.length;c++){if(61===t[c])break;var u=t[c]-48;if(!(u<r.length))throw new Error("Invalid input - it is not base32 encoded string");o=r[u],i<=3?(i=(i+5)%8,0===i?(n|=o,a[s]=n,s++,n=0):n|=255&o<<8-i):(i=(i+5)%8,n|=255&o>>>i,a[s]=n,s++,n=255&o<<8-i)}return a.slice(0,s)}}).call(this,n("b639").Buffer)},b383:function(e,t,n){"use strict";t.decode=t.parse=n("91dd"),t.encode=t.stringify=n("e099")},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return h(this,e,t,n)}function h(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?_(e,t,n,r):"string"===typeof t?p(e,t,n):m(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,n,r){return l(t),t<=0?c(e,t):void 0!==n?"string"===typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}function f(e,t){if(l(t),e=c(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(t,n);e=c(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function g(e,t){var n=t.length<0?0:0|y(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function _(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=g(e,t),e}function m(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return e=c(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):g(e,t);if("Buffer"===t.type&&o(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),u.alloc(+e)}function w(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return X(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:R(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):R(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function R(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var l=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){l=!1;break}if(l)return o}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function S(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function I(e,t,n,r){return ee(J(t),e,n,r)}function k(e,t,n,r){return I(e,t,n,r)}function C(e,t,n,r){return ee(Q(t),e,n,r)}function A(e,t,n,r){return ee(Z(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,c,u=e[i],h=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=n)switch(l){case 1:u<128&&(h=u);break;case 2:o=e[i+1],128===(192&o)&&(c=(31&u)<<6|63&o,c>127&&(h=c));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(h=c));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(h=c))}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=l}return L(r)}t.Buffer=u,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return h(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return d(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=w,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),c=this.slice(r,i),h=e.slice(t,n),l=0;l<a;++l)if(c[l]!==h[l]){o=c[l],s=h[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function L(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y(e[o]);return i}function U(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function H(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function G(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function $(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(e,t,n,r,o){return o||$(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,o){return o||$(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return W(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return W(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:X(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function z(e){if(e=K(e).replace(V,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function K(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Z(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Q(e){return r.toByteArray(z(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b7d1:function(e,t,n){(function(t){function n(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(this,n("c8ba"))},b944:function(e,t,n){(function(t,r){const i=n("8fe2"),o=n("4947"),s=n("3e8f"),a=n("c7ba"),c=n("83cc"),u=n("df7c"),h=n("2a3b"),l=n("175e");function d(e){if("string"===typeof e&&/^(stream-)?magnet:/.test(e))return c(e);if("string"===typeof e&&(/^[a-f0-9]{40}$/i.test(e)||/^[a-z2-7]{32}$/i.test(e)))return c(`magnet:?xt=urn:btih:${e}`);if(t.isBuffer(e)&&20===e.length)return c(`magnet:?xt=urn:btih:${e.toString("hex")}`);if(t.isBuffer(e))return p(e);if(e&&e.infoHash)return e.infoHash=e.infoHash.toLowerCase(),e.announce||(e.announce=[]),"string"===typeof e.announce&&(e.announce=[e.announce]),e.urlList||(e.urlList=[]),e;throw new Error("Invalid torrent identifier")}function f(e,t){let n;if("function"!==typeof t)throw new Error("second argument must be a Function");try{n=d(e)}catch(c){}function i(e){try{n=d(e)}catch(c){return t(c)}n&&n.infoHash?t(null,n):t(new Error("Invalid torrent identifier"))}n&&n.infoHash?r.nextTick(()=>{t(null,n)}):_(e)?o(e,(e,n)=>{if(e)return t(new Error(`Error converting Blob: ${e.message}`));i(n)}):"function"===typeof a&&/^https?:/.test(e)?a.concat({url:e,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},(e,n,r)=>{if(e)return t(new Error(`Error downloading torrent: ${e.message}`));i(r)}):"function"===typeof s.readFile&&"string"===typeof e?s.readFile(e,(e,n)=>{if(e)return t(new Error("Invalid torrent identifier"));i(n)}):r.nextTick(()=>{t(new Error("Invalid torrent identifier"))})}function p(e){t.isBuffer(e)&&(e=i.decode(e)),b(e.info,"info"),b(e.info["name.utf-8"]||e.info.name,"info.name"),b(e.info["piece length"],"info['piece length']"),b(e.info.pieces,"info.pieces"),e.info.files?e.info.files.forEach(e=>{b("number"===typeof e.length,"info.files[0].length"),b(e["path.utf-8"]||e.path,"info.files[0].path")}):b("number"===typeof e.info.length,"info.length");const n={info:e.info,infoBuffer:i.encode(e.info),name:(e.info["name.utf-8"]||e.info.name).toString(),announce:[]};n.infoHash=h.sync(n.infoBuffer),n.infoHashBuffer=t.from(n.infoHash,"hex"),void 0!==e.info.private&&(n.private=!!e.info.private),e["creation date"]&&(n.created=new Date(1e3*e["creation date"])),e["created by"]&&(n.createdBy=e["created by"].toString()),t.isBuffer(e.comment)&&(n.comment=e.comment.toString()),Array.isArray(e["announce-list"])&&e["announce-list"].length>0?e["announce-list"].forEach(e=>{e.forEach(e=>{n.announce.push(e.toString())})}):e.announce&&n.announce.push(e.announce.toString()),t.isBuffer(e["url-list"])&&(e["url-list"]=e["url-list"].length>0?[e["url-list"]]:[]),n.urlList=(e["url-list"]||[]).map(e=>e.toString()),l(n.announce),l(n.urlList);const r=e.info.files||[e.info];n.files=r.map((e,t)=>{const i=[].concat(n.name,e["path.utf-8"]||e.path||[]).map(e=>e.toString());return{path:u.join.apply(null,[u.sep].concat(i)).slice(1),name:i[i.length-1],length:e.length,offset:r.slice(0,t).reduce(m,0)}}),n.length=r.reduce(m,0);const o=n.files[n.files.length-1];return n.pieceLength=e.info["piece length"],n.lastPieceLength=(o.offset+o.length)%n.pieceLength||n.pieceLength,n.pieces=y(e.info.pieces),n}function g(e){const n={info:e.info};return n["announce-list"]=(e.announce||[]).map(e=>{return n.announce||(n.announce=e),e=t.from(e,"utf8"),[e]}),n["url-list"]=e.urlList||[],void 0!==e.private&&(n.private=Number(e.private)),e.created&&(n["creation date"]=e.created.getTime()/1e3|0),e.createdBy&&(n["created by"]=e.createdBy),e.comment&&(n.comment=e.comment),i.encode(n)}function _(e){return"undefined"!==typeof Blob&&e instanceof Blob}function m(e,t){return e+t.length}function y(e){const t=[];for(let n=0;n<e.length;n+=20)t.push(e.slice(n,n+20).toString("hex"));return t}function b(e,t){if(!e)throw new Error(`Torrent is missing required field: ${t}`)}e.exports=d,e.exports.remote=f,e.exports.toMagnetURI=c.encode,e.exports.toTorrentFile=g,(()=>{t.alloc(0)})()}).call(this,n("b639").Buffer,n("f28c"))},bcda:function(e,t){class n{constructor(e){this._torrent=e,this._numPieces=e.pieces.length,this._pieces=new Array(this._numPieces),this._onWire=e=>{this.recalculate(),this._initWire(e)},this._onWireHave=e=>{this._pieces[e]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(e=>{this._initWire(e)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(e){let t=[],n=1/0;for(let r=0;r<this._numPieces;++r){if(e&&!e(r))continue;const i=this._pieces[r];i===n?t.push(r):i<n&&(t=[r],n=i)}return t.length?t[Math.random()*t.length|0]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(e=>{this._cleanupWireEvents(e)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(e){e._onClose=()=>{this._cleanupWireEvents(e);for(let t=0;t<this._numPieces;++t)this._pieces[t]-=e.peerPieces.get(t)},e.on("have",this._onWireHave),e.on("bitfield",this._onWireBitfield),e.once("close",e._onClose)}recalculate(){this._pieces.fill(0);for(const e of this._torrent.wires)for(let t=0;t<this._numPieces;++t)this._pieces[t]+=e.peerPieces.get(t)}_cleanupWireEvents(e){e.removeListener("have",this._onWireHave),e.removeListener("bitfield",this._onWireBitfield),e._onClose&&e.removeListener("close",e._onClose),e._onClose=null}}e.exports=n},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c115:function(e,t,n){(function(t,r){const i=n("326b"),o=n("d329"),s=n("94e2"),a=n("34eb")("webtorrent:torrent"),c=n("17f3"),u=n("faa1").EventEmitter,h=n("3e8f"),l=n("2677"),d=n("c7ba"),f=n("9f6f"),p=n("13ee"),g=n(11),_=n(12),m=n("8cc1"),y=n("c3b3"),b=n("b944"),w=n("df7c"),v=n("50cf"),E=n("6f59"),O=n("616f"),R=n("2a3b"),T=n("7b03"),S=n("175e"),I=n("2527"),k=n(14),C=n("4fdc"),A=n("e3a2"),x=n("50b2"),P=n("bcda"),N=n(15),L=131072,j=3e4,M=5e3,D=3*v.BLOCK_LENGTH,U=.5,B=1,F=1e4,H=2,G=t.browser?1/0:2,$=[1e3,5e3,15e3],W=n("af39").version,q=`WebTorrent/${W} (https://webtorrent.io)`;let V;try{V=w.join(h.statSync("/tmp")&&"/tmp","webtorrent")}catch(Z){V=w.join("function"===typeof _.tmpdir?_.tmpdir():"/","webtorrent")}class z extends u{constructor(e,t,n){super(),this._debugId="unknown infohash",this.client=t,this.announce=n.announce,this.urlList=n.urlList,this.path=n.path,this.skipVerify=!!n.skipVerify,this._store=n.store||l,this._getAnnounceOpts=n.getAnnounceOpts,this.strategy=n.strategy||"sequential",this.maxWebConns=n.maxWebConns||4,this._rechokeNumSlots=!1===n.uploads||0===n.uploads?0:+n.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=!1,this.done=!1,this.metadata=null,this.store=null,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=T(),this._uploadSpeed=T(),this._servers=[],this._xsRequests=[],this._fileModtimes=n.fileModtimes,null!==e&&this._onTorrentId(e),this._debug("new torrent")}get timeRemaining(){return this.done?0:0===this.downloadSpeed?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let e=0;for(let t=0,n=this.pieces.length;t<n;++t)if(this.bitfield.get(t))e+=t===n-1?this.lastPieceLength:this.pieceLength;else{const n=this.pieces[t];e+=n.length-n.missing}return e}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||1)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if("undefined"===typeof window)throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let e=0;for(const t in this._peers)this._peers[t].connected&&(e+=1);return e}get swarm(){return console.warn("WebTorrent: `torrent.swarm` is deprecated. Use `torrent` directly instead."),this}_onTorrentId(e){if(this.destroyed)return;let n;try{n=b(e)}catch(Z){}n?(this.infoHash=n.infoHash,this._debugId=n.infoHash.toString("hex").substring(0,7),t.nextTick(()=>{this.destroyed||this._onParsedTorrent(n)})):b.remote(e,(e,t)=>{if(!this.destroyed)return e?this._destroy(e):void this._onParsedTorrent(t)})}_onParsedTorrent(e){if(!this.destroyed){if(this._processParsedTorrent(e),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this.path||(this.path=w.join(V,this.infoHash)),this._rechokeIntervalId=setInterval(()=>{this._rechoke()},F),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),this.destroyed||(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(e){this._debugId=e.infoHash.toString("hex").substring(0,7),this.announce&&(e.announce=e.announce.concat(this.announce)),this.client.tracker&&r.WEBTORRENT_ANNOUNCE&&!this.private&&(e.announce=e.announce.concat(r.WEBTORRENT_ANNOUNCE)),this.urlList&&(e.urlList=e.urlList.concat(this.urlList)),S(e.announce),S(e.urlList),Object.assign(this,e),this.magnetURI=b.toMagnetURI(e),this.torrentFile=b.toTorrentFile(e)}_onListening(){if(this.discovery||this.destroyed)return;let e=this.client.tracker;e&&(e=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{const e={uploaded:this.uploaded,downloaded:this.downloaded,left:Math.max(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(e,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(e,this._getAnnounceOpts()),e}})),this.discovery=new c({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:e,port:this.client.torrentPort,userAgent:q}),this.discovery.on("error",e=>{this._destroy(e)}),this.discovery.on("peer",e=>{"string"===typeof e&&this.done||this.addPeer(e)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),0===this.numPeers&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),0===this.numPeers&&this.emit("noPeers","dht")}),this.discovery.on("warning",e=>{this.emit("warning",e)}),this.info?this._onMetadata(this):this.xs&&this._getMetadataFromServer()}_getMetadataFromServer(){const e=this,t=Array.isArray(this.xs)?this.xs:[this.xs],n=t.map(e=>t=>{r(e,t)});function r(t,n){if(0!==t.indexOf("http://")&&0!==t.indexOf("https://"))return e.emit("warning",new Error(`skipping non-http xs param: ${t}`)),n(null);const r={url:t,method:"GET",headers:{"user-agent":q}};let i;try{i=d.concat(r,o)}catch(Z){return e.emit("warning",new Error(`skipping invalid url xs param: ${t}`)),n(null)}function o(r,i,o){if(e.destroyed)return n(null);if(e.metadata)return n(null);if(r)return e.emit("warning",new Error(`http error from xs param: ${t}`)),n(null);if(200!==i.statusCode)return e.emit("warning",new Error(`non-200 status code ${i.statusCode} from xs param: ${t}`)),n(null);let s;try{s=b(o)}catch(r){}return s?s.infoHash!==e.infoHash?(e.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${t}`)),n(null)):(e._onMetadata(s),void n(null)):(e.emit("warning",new Error(`got invalid torrent file from xs param: ${t}`)),n(null))}e._xsRequests.push(i)}m(n)}_onMetadata(e){if(this.metadata||this.destroyed)return;let t;if(this._debug("got metadata"),this._xsRequests.forEach(e=>{e.abort()}),this._xsRequests=[],e&&e.infoHash)t=e;else try{t=b(e)}catch(Z){return this._destroy(Z)}if(this._processParsedTorrent(t),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(e=>{this.addWebSeed(e)}),this._rarityMap=new P(this),this.store=new f(new this._store(this.pieceLength,{torrent:{infoHash:this.infoHash},files:this.files.map(e=>({path:w.join(this.path,e.path),length:e.length,offset:e.offset})),length:this.length,name:this.infoHash})),this.files=this.files.map(e=>new A(this,e)),this.so){const e=C.parse(this.so);this.files.forEach((t,n)=>{e.includes(n)&&this.files[n].select(!0)})}else 0!==this.pieces.length&&this.select(0,this.pieces.length-1,!1);if(this._hashes=this.pieces,this.pieces=this.pieces.map((e,t)=>{const n=t===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new v(n)}),this._reservations=this.pieces.map(()=>[]),this.bitfield=new o(this.pieces.length),this.wires.forEach(e=>{e.ut_metadata&&e.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(e)}),this.skipVerify)this._markAllVerified(),this._onStore();else{const e=e=>{if(e)return this._destroy(e);this._debug("done verifying"),this._onStore()};this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===l?this.getFileModtimes((t,n)=>{if(t)return this._destroy(t);const r=this.files.map((e,t)=>n[t]===this._fileModtimes[t]).every(e=>e);r?(this._markAllVerified(),this._onStore()):this._verifyPieces(e)}):this._verifyPieces(e)}this.emit("metadata")}getFileModtimes(e){const t=[];y(this.files.map((e,n)=>r=>{h.stat(w.join(this.path,e.path),(e,i)=>{if(e&&"ENOENT"!==e.code)return r(e);t[n]=i&&i.mtime.getTime(),r(null)})}),G,n=>{this._debug("done getting file modtimes"),e(n,t)})}_verifyPieces(e){y(this.pieces.map((e,n)=>e=>{if(this.destroyed)return e(new Error("torrent is destroyed"));this.store.get(n,(r,i)=>{return this.destroyed?e(new Error("torrent is destroyed")):r?t.nextTick(e,null):void R(i,t=>{if(this.destroyed)return e(new Error("torrent is destroyed"));if(t===this._hashes[n]){if(!this.pieces[n])return e(null);this._debug("piece verified %s",n),this._markVerified(n)}else this._debug("piece invalid %s",n);e(null)})})}),G,e)}rescanFiles(e){if(this.destroyed)throw new Error("torrent is destroyed");e||(e=J),this._verifyPieces(t=>{if(t)return this._destroy(t),e(t);this._checkDone(),e(null)})}_markAllVerified(){for(let e=0;e<this.pieces.length;e++)this._markVerified(e)}_markVerified(e){this.pieces[e]=null,this._reservations[e]=null,this.bitfield.set(e,!0)}_onStore(){this.destroyed||(this._debug("on store"),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections())}destroy(e){this._destroy(null,e)}_destroy(e,t){if(this.destroyed)return;this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(e=>{e.abort()}),this._rarityMap&&this._rarityMap.destroy();for(const r in this._peers)this.removePeer(r);this.files.forEach(e=>{e instanceof A&&e._destroy()});const n=this._servers.map(e=>t=>{e.destroy(t)});this.discovery&&n.push(e=>{this.discovery.destroy(e)}),this.store&&n.push(e=>{this.store.close(e)}),m(n,t),e&&(0===this.listenerCount("error")?this.client.emit("error",e):this.emit("error",e)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}addPeer(e){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");if(this.client.blocked){let t;if("string"===typeof e){let r;try{r=i(e)}catch(n){return this._debug("ignoring peer: invalid %s",e),this.emit("invalidPeer",e),!1}t=r[0]}else"string"===typeof e.remoteAddress&&(t=e.remoteAddress);if(t&&this.client.blocked.contains(t))return this._debug("ignoring peer: blocked %s",e),"string"!==typeof e&&e.destroy(),this.emit("blockedPeer",e),!1}const t=!!this._addPeer(e);return t?this.emit("peer",e):this.emit("invalidPeer",e),t}_addPeer(e){if(this.destroyed)return"string"!==typeof e&&e.destroy(),null;if("string"===typeof e&&!this._validAddr(e))return this._debug("ignoring peer: invalid %s",e),null;const t=e&&e.id||e;if(this._peers[t])return this._debug("ignoring peer: duplicate (%s)",t),"string"!==typeof e&&e.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),"string"!==typeof e&&e.destroy(),null;let n;return this._debug("add peer %s",t),n="string"===typeof e?x.createTCPOutgoingPeer(e,this):x.createWebRTCPeer(e,this),this._peers[n.id]=n,this._peersLength+=1,"string"===typeof e&&(this._queue.push(n),this._drain()),n}addWebSeed(e){if(this.destroyed)throw new Error("torrent is destroyed");if(!/^https?:\/\/.+/.test(e))return this.emit("warning",new Error(`ignoring invalid web seed: ${e}`)),void this.emit("invalidPeer",e);if(this._peers[e])return this.emit("warning",new Error(`ignoring duplicate web seed: ${e}`)),void this.emit("invalidPeer",e);this._debug("add web seed %s",e);const t=x.createWebSeedPeer(e,this);this._peers[t.id]=t,this._peersLength+=1,this.emit("peer",e)}_addIncomingPeer(e){return this.destroyed?e.destroy(new Error("torrent is destroyed")):this.paused?e.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",e.id),this._peers[e.id]=e,void(this._peersLength+=1))}removePeer(e){const t=e&&e.id||e;e=this._peers[t],e&&(this._debug("removePeer %s",t),delete this._peers[t],this._peersLength-=1,e.destroy(),this._drain())}select(e,t,n,r){if(this.destroyed)throw new Error("torrent is destroyed");if(e<0||t<e||this.pieces.length<=t)throw new Error(`invalid selection ${e} : ${t}`);n=Number(n)||0,this._debug("select %s-%s (priority %s)",e,t,n),this._selections.push({from:e,to:t,offset:0,priority:n,notify:r||J}),this._selections.sort((e,t)=>t.priority-e.priority),this._updateSelections()}deselect(e,t,n){if(this.destroyed)throw new Error("torrent is destroyed");n=Number(n)||0,this._debug("deselect %s-%s (priority %s)",e,t,n);for(let r=0;r<this._selections.length;++r){const i=this._selections[r];if(i.from===e&&i.to===t&&i.priority===n){this._selections.splice(r,1);break}}this._updateSelections()}critical(e,t){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",e,t);for(let n=e;n<=t;++n)this._critical[n]=!0;this._updateSelections()}_onWire(e,n){if(this._debug("got wire %s (%s)",e._debugId,n||"Unknown"),e.on("download",e=>{this.destroyed||(this.received+=e,this._downloadSpeed(e),this.client._downloadSpeed(e),this.emit("download",e),this.client.emit("download",e))}),e.on("upload",e=>{this.destroyed||(this.uploaded+=e,this._uploadSpeed(e),this.client._uploadSpeed(e),this.emit("upload",e),this.client.emit("upload",e))}),this.wires.push(e),n){const t=i(n);e.remoteAddress=t[0],e.remotePort=t[1]}this.client.dht&&this.client.dht.listening&&e.on("port",t=>{if(!this.destroyed&&!this.client.dht.destroyed){if(!e.remoteAddress)return this._debug("ignoring PORT from peer with no address");if(0===t||t>65536)return this._debug("ignoring invalid PORT from peer");this._debug("port: %s (from %s)",t,n),this.client.dht.addNode({host:e.remoteAddress,port:t})}}),e.on("timeout",()=>{this._debug("wire timeout (%s)",n),e.destroy()}),e.setTimeout(j,!0),e.setKeepAlive(!0),e.use(I(this.metadata)),e.ut_metadata.on("warning",e=>{this._debug("ut_metadata warning: %s",e.message)}),this.metadata||(e.ut_metadata.on("metadata",e=>{this._debug("got metadata via ut_metadata"),this._onMetadata(e)}),e.ut_metadata.fetch()),"function"!==typeof k||this.private||(e.use(k()),e.ut_pex.on("peer",e=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",e,n),this.addPeer(e))}),e.ut_pex.on("dropped",e=>{const t=this._peers[e];t&&!t.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",e,n),this.removePeer(e))}),e.once("close",()=>{e.ut_pex.reset()})),this.emit("wire",e,n),this.metadata&&t.nextTick(()=>{this._onWireWithMetadata(e)})}_onWireWithMetadata(e){let t=null;const n=()=>{this.destroyed||e.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&e.amInterested?e.destroy():(t=setTimeout(n,M),t.unref&&t.unref()))};let r;const i=()=>{if(e.peerPieces.buffer.length===this.bitfield.buffer.length){for(r=0;r<this.pieces.length;++r)if(!e.peerPieces.get(r))return;e.isSeeder=!0,e.choke()}};e.on("bitfield",()=>{i(),this._update()}),e.on("have",()=>{i(),this._update()}),e.once("interested",()=>{e.unchoke()}),e.once("close",()=>{clearTimeout(t)}),e.on("choke",()=>{clearTimeout(t),t=setTimeout(n,M),t.unref&&t.unref()}),e.on("unchoke",()=>{clearTimeout(t),this._update()}),e.on("request",(t,n,r,i)=>{if(r>L)return e.destroy();this.pieces[t]||this.store.get(t,{offset:n,length:r},i)}),e.bitfield(this.bitfield),e.uninterested(),e.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&e.port(this.client.dht.address().port),"webSeed"!==e.type&&(t=setTimeout(n,M),t.unref&&t.unref()),e.isSeeder=!1,i()}_updateSelections(){this.ready&&!this.destroyed&&(t.nextTick(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let e=0;e<this._selections.length;++e){const t=this._selections[e],n=t.offset;while(this.bitfield.get(t.from+t.offset)&&t.from+t.offset<t.to)t.offset+=1;n!==t.offset&&t.notify(),t.to===t.from+t.offset&&(this.bitfield.get(t.from+t.offset)&&(this._selections.splice(e,1),e-=1,t.notify(),this._updateInterest()))}this._selections.length||this.emit("idle")}_updateInterest(){const e=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(e=>{let t=!1;for(let n=0;n<this.pieces.length;++n)if(this.pieces[n]&&e.peerPieces.get(n)){t=!0;break}t?e.interested():e.uninterested()}),e!==this._amInterested&&(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_update(){if(this.destroyed)return;const e=O(this.wires);let t;while(t=e())this._updateWireWrapper(t)}_updateWireWrapper(e){const t=this;"undefined"!==typeof window&&"function"===typeof window.requestIdleCallback?window.requestIdleCallback((function(){t._updateWire(e)}),{timeout:250}):t._updateWire(e)}_updateWire(e){const t=this;if(e.peerChoking)return;if(!e.downloaded)return o();const n=K(e,U);if(e.requests.length>=n)return;const r=K(e,B);function i(t,n,r,i){return o=>o>=t&&o<=n&&!(o in r)&&e.peerPieces.get(o)&&(!i||i(o))}function o(){if(e.requests.length)return;let n=t._selections.length;while(n--){const r=t._selections[n];let o;if("rarest"===t.strategy){const n=r.from+r.offset,s=r.to,a=s-n+1,c={};let u=0;const h=i(n,s,c);while(u<a){if(o=t._rarityMap.getRarestPiece(h),o<0)break;if(t._request(e,o,!1))return;c[o]=!0,u+=1}}else for(o=r.to;o>=r.from+r.offset;--o)if(e.peerPieces.get(o)&&t._request(e,o,!1))return}}function s(){const n=e.downloadSpeed()||1;if(n>D)return()=>!0;const r=Math.max(1,e.requests.length)*v.BLOCK_LENGTH/n;let i=10,o=0;return e=>{if(!i||t.bitfield.get(e))return!0;let s=t.pieces[e].missing;for(;o<t.wires.length;o++){const a=t.wires[o],c=a.downloadSpeed();if(!(c<D)&&(!(c<=n)&&a.peerPieces.get(e)&&!((s-=c*r)>0)))return i--,!1}return!0}}function a(e){let n=e;for(let i=e;i<t._selections.length&&t._selections[i].priority;i++)n=i;const r=t._selections[e];t._selections[e]=t._selections[n],t._selections[n]=r}function c(n){if(e.requests.length>=r)return!0;const o=s();for(let s=0;s<t._selections.length;s++){const c=t._selections[s];let u;if("rarest"===t.strategy){const h=c.from+c.offset,l=c.to,d=l-h+1,f={};let p=0;const g=i(h,l,f,o);while(p<d){if(u=t._rarityMap.getRarestPiece(g),u<0)break;while(t._request(e,u,t._critical[u]||n));if(!(e.requests.length<r))return c.priority&&a(s),!0;f[u]=!0,p++}}else for(u=c.from+c.offset;u<=c.to;u++)if(e.peerPieces.get(u)&&o(u)){while(t._request(e,u,t._critical[u]||n));if(!(e.requests.length<r))return c.priority&&a(s),!0}}return!1}c(!1)||c(!0)}_rechoke(){if(!this.ready)return;this._rechokeOptimisticTime>0?this._rechokeOptimisticTime-=1:this._rechokeOptimisticWire=null;const e=[];this.wires.forEach(t=>{t.isSeeder||t===this._rechokeOptimisticWire||e.push({wire:t,downloadSpeed:t.downloadSpeed(),uploadSpeed:t.uploadSpeed(),salt:Math.random(),isChoked:!0})}),e.sort(r);let t=0,n=0;for(;n<e.length&&t<this._rechokeNumSlots;++n)e[n].isChoked=!1,e[n].wire.peerInterested&&(t+=1);if(!this._rechokeOptimisticWire&&n<e.length&&this._rechokeNumSlots){const t=e.slice(n).filter(e=>e.wire.peerInterested),r=t[X(t.length)];r&&(r.isChoked=!1,this._rechokeOptimisticWire=r.wire,this._rechokeOptimisticTime=H)}function r(e,t){return e.downloadSpeed!==t.downloadSpeed?t.downloadSpeed-e.downloadSpeed:e.uploadSpeed!==t.uploadSpeed?t.uploadSpeed-e.uploadSpeed:e.wire.amChoking!==t.wire.amChoking?e.wire.amChoking?1:-1:e.salt-t.salt}e.forEach(e=>{e.wire.amChoking!==e.isChoked&&(e.isChoked?e.wire.choke():e.wire.unchoke())})}_hotswap(e,t){const n=e.downloadSpeed();if(n<v.BLOCK_LENGTH)return!1;if(!this._reservations[t])return!1;const r=this._reservations[t];if(!r)return!1;let i,o,s=1/0;for(o=0;o<r.length;o++){const t=r[o];if(!t||t===e)continue;const a=t.downloadSpeed();a>=D||(2*a>n||a>s||(i=t,s=a))}if(!i)return!1;for(o=0;o<r.length;o++)r[o]===i&&(r[o]=null);for(o=0;o<i.requests.length;o++){const e=i.requests[o];e.piece===t&&this.pieces[t].cancel(e.offset/v.BLOCK_LENGTH|0)}return this.emit("hotswap",i,e,t),!0}_request(e,n,r){const i=this,o=e.requests.length,s="webSeed"===e.type;if(i.bitfield.get(n))return!1;const a=s?Math.min(Y(e,B,i.pieceLength),i.maxWebConns):K(e,B);if(o>=a)return!1;const c=i.pieces[n];let u=s?c.reserveRemaining():c.reserve();if(-1===u&&r&&i._hotswap(e,n)&&(u=s?c.reserveRemaining():c.reserve()),-1===u)return!1;let h=i._reservations[n];h||(h=i._reservations[n]=[]);let l=h.indexOf(null);-1===l&&(l=h.length),h[l]=e;const d=c.chunkOffset(u),f=s?c.chunkLengthRemaining(u):c.chunkLength(u);function p(){t.nextTick(()=>{i._update()})}return e.request(n,d,f,(function t(r,o){if(i.destroyed)return;if(!i.ready)return i.once("ready",()=>{t(r,o)});if(h[l]===e&&(h[l]=null),c!==i.pieces[n])return p();if(r)return i._debug("error getting piece %s (offset: %s length: %s) from %s: %s",n,d,f,`${e.remoteAddress}:${e.remotePort}`,r.message),s?c.cancelRemaining(u):c.cancel(u),void p();if(i._debug("got piece %s (offset: %s length: %s) from %s",n,d,f,`${e.remoteAddress}:${e.remotePort}`),!c.set(u,o,e))return p();const a=c.flush();R(a,e=>{if(!i.destroyed){if(e===i._hashes[n]){if(!i.pieces[n])return;i._debug("piece verified %s",n),i.pieces[n]=null,i._reservations[n]=null,i.bitfield.set(n,!0),i.store.put(n,a),i.wires.forEach(e=>{e.have(n)}),i._checkDone()&&!i.destroyed&&i.discovery.complete()}else i.pieces[n]=new v(c.length),i.emit("warning",new Error(`Piece ${n} failed verification`));p()}})})),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(e=>{if(!e.done){for(let t=e._startPiece;t<=e._endPiece;++t)if(!this.bitfield.get(t))return;e.done=!0,e.emit("done"),this._debug(`file done: ${e.name}`)}});let e=!0;for(let t=0;t<this._selections.length;t++){const n=this._selections[t];for(let t=n.from;t<=n.to;t++)if(!this.bitfield.get(t)){e=!1;break}if(!e)break}return!this.done&&e&&(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")),this._gcSelections(),e}load(e,t){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(e,t)});Array.isArray(e)||(e=[e]),t||(t=J);const n=new p(e),r=new s(this.store,this.pieceLength);E(n,r,e=>{if(e)return t(e);this._markAllVerified(),this._checkDone(),t(null)})}createServer(e){if("function"!==typeof N)throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const t=new N(this,e);return this._servers.push(t),t}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const e=[].slice.call(arguments);e[0]=`[${this.client._debugId}] [${this._debugId}] ${e[0]}`,a(...e)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),"function"!==typeof g.connect||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const e=this._queue.shift();if(!e)return;this._debug("tcp connect attempt to %s",e.addr);const t=i(e.addr),n={host:t[0],port:t[1]},r=e.conn=g.connect(n);r.once("connect",()=>{e.onConnect()}),r.once("error",t=>{e.destroy(t)}),e.startConnectTimeout(),r.on("close",()=>{if(this.destroyed)return;if(e.retries>=$.length)return void this._debug("conn %s closed: will not re-add (max %s attempts)",e.addr,$.length);const t=$[e.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",e.addr,t,e.retries+1);const n=setTimeout(()=>{const t=this._addPeer(e.addr);t&&(t.retries=e.retries+1)},t);n.unref&&n.unref()})}_validAddr(e){let t;try{t=i(e)}catch(o){return!1}const n=t[0],r=t[1];return r>0&&r<65535&&!("127.0.0.1"===n&&r===this.client.torrentPort)}}function K(e,t){return 2+Math.ceil(t*e.downloadSpeed()/v.BLOCK_LENGTH)}function Y(e,t,n){return 1+Math.ceil(t*e.downloadSpeed()/n)}function X(e){return Math.random()*e|0}function J(){}e.exports=z}).call(this,n("f28c"),n("c8ba"))},c366:function(e,t,n){var r=n("6821"),i=n("9def"),o=n("77f1");e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),h=o(s,u);if(e&&n!=n){while(u>h)if(a=c[h++],a!=a)return!0}else for(;u>h;h++)if((e||h in c)&&c[h]===n)return e||h||0;return!e&&-1}}},c3a8:function(e,t,n){(function(t){var r=n("566b");e.exports=function(e,n,i){i=r(i);var o=t.alloc(n),s=0;e.on("data",(function(e){e.copy(o,s),s+=e.length})).on("end",(function(){i(null,o)})).on("error",i)}}).call(this,n("b639").Buffer)},c3b3:function(e,t,n){(function(t){function n(e,n,r){if("number"!==typeof n)throw new Error("second argument must be a Number");var i,o,s,a,c,u=!0;function h(e){function n(){r&&r(e,i),r=null}u?t.nextTick(n):n()}function l(t,n,r){if(i[t]=r,n&&(c=!0),0===--s||n)h(n);else if(!c&&d<o){var u;a?(u=a[d],d+=1,e[u]((function(e,t){l(u,e,t)}))):(u=d,d+=1,e[u]((function(e,t){l(u,e,t)})))}}Array.isArray(e)?(i=[],s=o=e.length):(a=Object.keys(e),i={},s=o=a.length);var d=n;s?a?a.some((function(t,r){if(e[t]((function(e,n){l(t,e,n)})),r===n-1)return!0})):e.some((function(e,t){if(e((function(e,n){l(t,e,n)})),t===n-1)return!0})):h(null),u=!1}e.exports=n}).call(this,n("f28c"))},c490:function(e,t){e.exports=Sentry},c4d1:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));n("ac6a");var r=n("ade3"),i=n("c490"),o=n("5ff7");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const c=o["a"].NODE_ENV,u=o["a"].COMMIT_HASH,h=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","SecurityError IDBFactory.open() called in an invalid security context"],l=6e4,d={};let f=i;function p(e,t){const n=t.originalException;if(!n)return null;const r=n.message,i=n.stack;if(!r||!i)return null;if(r in d)return null;let o=5*l;return/Cannot create so many PeerConnections/i.test(r)?o=30*l:/The object (could|can) not be cloned/i.test(r)?o=30*l:/session not open/i.test(r)?o=30*l:/Cannot read property 'tracker' of null/i.test(r)?o=30*l:/Ice connection failed/i.test(r)&&(o=30*l),o>0&&(d[r]=!0,setTimeout(()=>{delete d[r]},o)),e}function g(e){!f.SDK_NAME&&self.Sentry&&(f=self.Sentry),f.init(a({dsn:"https://7e5c2fad7a564ff8bffd4effc2abb26d@sentry.arc.io/2",enabled:"production"===c,environment:c,release:u,maxBreadcrumbs:5,sampleRate:.1,beforeSend:p},e))}function _(){const e={integrations:e=>{return[...e.filter(e=>"Breadcrumbs"!==e.name)]},whitelistUrls:[/arc\.io/,/arc-widget/,/arc-sw/],ignoreErrors:h};g(e)}function m(){f.onLoad(_)}},c64e:function(e,t,n){var r=n("e1f4"),i=n("2366");function o(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}e.exports=o},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c6ae:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("b639"),s=o.Buffer,a=n(1),c=a.inspect,u=c&&c.custom||"inspect";function h(e,t,n){s.prototype.copy.call(e,t,n)}e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";var t=this.head,n=""+t.data;while(t=t.next)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return s.alloc(0);var t=s.allocUnsafe(e>>>0),n=this.head,r=0;while(n)h(n.data,t,r),r+=n.data.length,n=n.next;return t},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;e-=r.length;while(t=t.next){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),e-=o,0===e){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=s.allocUnsafe(e),n=this.head,r=1;n.data.copy(t),e-=n.data.length;while(n=n.next){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),e-=o,0===e){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t},t[u]=function(e,t){return c(this,r({},t,{depth:0,customInspect:!1}))},e}()},c74e:function(e,t,n){"use strict";n("28a5");var r=n("3835"),i=(n("6b54"),n("85b1")),o=n("5ff7"),s=n("d1a0");const a=self.performance;console.log;let c=null,u=!1;const h="https://www.google-analytics.com/batch",l={v:1,tid:o["a"].GA_TID_USER_TIMING},d=20,f=3e3,p=.005,g={DEFAULT:"measure",NETWORK_REQUEST:"networkRequest",STATIC_ASSET:"staticAsset"},_={LOAD:"load",LOAD_NETWORK:"load:network",LOAD_CACHE:"load:cache",CONNECT:"connect"},m=[],y=Object(i["a"])(()=>{if(c){if(!u&&"undefined"!==typeof window){u=!0;const e={t:"pageview",dl:window.location.href};document.referrer&&(e.dr=document.referrer),m.push(e)}while(m.length>0){const e=m.splice(0,d).map(e=>{return e.cid=c,Object.assign(e,l),new URLSearchParams(e).toString()}).join("\n"),t={method:"POST",body:e};o["a"].IS_PROD&&fetch(h,t).catch(()=>{})}}},f);function b(e){return e.map(e=>{return e instanceof PerformanceResourceTiming?w(e):e instanceof PerformanceMeasure?v(e):e instanceof PerformanceMark?E(e):null}).filter(Boolean).filter(()=>Math.random()<p).map(e=>{return e.utt=Math.round(1e3*e.utt),e.t="timing",e})}function w(e){const t=e.name,n=e.duration;if(n<0||!t)return null;let i;try{i=new URL(t)}catch(h){return null}const s=i,a=s.origin,c=s.pathname,u={utc:g.DEFAULT,utt:n};if(a!==o["a"].GATEWAY_ORIGIN)return null;{u.utc=g.NETWORK_REQUEST,u.utv=O(e)?_.LOAD_CACHE:_.LOAD_NETWORK;const t=c.split("/"),n=Object(r["a"])(t,2),i=(n[0],n[1]),o=void 0===i?"":i;u.utl=`gateway/${o}`;const s=["region","autoCdnIngest"];if(s.includes(o))return null}return u}function v(e){const t=e.name,n=e.duration;if(!t.startsWith(s["a"])||n<0)return null;const i=t.split(":"),o=Object(r["a"])(i,3),a=(o[0],o[1]),c=o[2],u={utc:g.DEFAULT,utt:n,utv:c,utl:a};return a.includes("tracker")?u.utc=g.NETWORK_REQUEST:[".js",".html",".css"].some(e=>a.includes(e))&&(u.utc=g.STATIC_ASSET),u}function E(){return null}function O(e){return!(e.transferSize>0)&&(e.decodedBodySize>0||e.duration<15)}function R(e){c=e,y()}function T(){return null!==c}function S(){if(!("PerformanceObserver"in self))return;const e=e=>{const t=b(e);m.push(...t),y()},t=new PerformanceObserver(t=>{e(t.getEntries())});t.observe({entryTypes:["measure","resource"]}),e(a.getEntries())}t["a"]={init:S,hasClientId:T,setClientId:R}},c7ba:function(e,t,n){(function(t){e.exports=l;const r=n("ff0e"),i=n(6),o=n("9490"),s=n("24f8"),a=n("566b"),c=n("b383"),u=n("cffb"),h=e=>null!==e&&"object"===typeof e&&"function"===typeof e.pipe;function l(e,n){if(e=Object.assign({maxRedirects:10},"string"===typeof e?{url:e}:e),n=a(n),e.url){const{hostname:t,port:n,protocol:r,auth:i,path:o}=u.parse(e.url);delete e.url,t||n||r||i?Object.assign(e,{hostname:t,port:n,protocol:r,auth:i,path:o}):e.path=o}const r={"accept-encoding":"gzip, deflate"};let d;e.headers&&Object.keys(e.headers).forEach(t=>r[t.toLowerCase()]=e.headers[t]),e.headers=r,e.body?d=e.json&&!h(e.body)?JSON.stringify(e.body):e.body:e.form&&(d="string"===typeof e.form?e.form:c.stringify(e.form),e.headers["content-type"]="application/x-www-form-urlencoded"),d&&(e.method||(e.method="POST"),h(d)||(e.headers["content-length"]=t.byteLength(d)),e.json&&!e.form&&(e.headers["content-type"]="application/json")),delete e.body,delete e.form,e.json&&(e.headers.accept="application/json"),e.method&&(e.method=e.method.toUpperCase());const f="https:"===e.protocol?s:o,p=f.request(e,t=>{if(!1!==e.followRedirects&&t.statusCode>=300&&t.statusCode<400&&t.headers.location)return e.url=t.headers.location,delete e.headers.host,t.resume(),"POST"===e.method&&[301,302].includes(t.statusCode)&&(e.method="GET",delete e.headers["content-length"],delete e.headers["content-type"]),0===e.maxRedirects--?n(new Error("too many redirects")):l(e,n);const r="function"===typeof i&&"HEAD"!==e.method;n(null,r?i(t):t)});return p.on("timeout",()=>{p.abort(),n(new Error("Request timed out"))}),p.on("error",n),h(d)?d.on("error",n).pipe(p):p.end(d),p}l.concat=(e,t)=>{return l(e,(n,i)=>{if(n)return t(n);r(i,(n,r)=>{if(n)return t(n);if(e.json)try{r=JSON.parse(r.toString())}catch(n){return t(n,i,r)}t(null,i,r)})})},["get","post","put","patch","head","delete"].forEach(e=>{l[e]=(t,n)=>{return"string"===typeof t&&(t={url:t}),l(Object.assign({method:e.toUpperCase()},t),n)}})}).call(this,n("b639").Buffer)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c90b:function(e,t,n){(function(e,r,i){var o=n("a9f1"),s=n("3fb5"),a=n("e372"),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,s,c){var u=this;if(a.Readable.call(u),u._mode=s,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===s){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),o.writableStream){var h=new WritableStream({write:function(e){return new Promise((function(t,n){u._destroyed?n():u.push(new r(e))?t():u._resumeFetch=t}))},close:function(){i.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(h).catch((function(e){i.clearTimeout(c),u._destroyed||u.emit("error",e)}))}catch(_){}}var l=n.body.getReader();function d(){l.read().then((function(e){if(!u._destroyed){if(e.done)return i.clearTimeout(c),void u.push(null);u.push(new r(e.value)),d()}})).catch((function(e){i.clearTimeout(c),u._destroyed||u.emit("error",e)}))}d()}else{u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText;var f=t.getAllResponseHeaders().split(/\r?\n/);if(f.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!o.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var g=p.match(/;\s*charset=([^;])(;|$)/);g&&(u._charset=g[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(u,a.Readable),u.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(h){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(h){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new r(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n);break}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n("f28c"),n("b639").Buffer,n("c8ba"))},c9b8:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function o(e,t,n){function o(e,n,r){return"string"===typeof t?t:t(e,n,r)}n||(n=Error);var s=function(e){function t(t,n,r){return e.call(this,o(t,n,r))||this}return r(t,e),t}(n);s.prototype.name=n.name,s.prototype.code=e,i[e]=s}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function a(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function c(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function u(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i;if("string"===typeof t&&a(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",c(e," argument"))i="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var o=u(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(s(t,"type"))}return i+=". Received type ".concat(typeof n),i}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cab7:function(e,t,n){const r=n("34eb")("webtorrent:file-stream"),i=n("e372");class o extends i.Readable{constructor(e,t){super(t),this.destroyed=!1,this._torrent=e._torrent;const n=t&&t.start||0,r=t&&t.end&&t.end<e.length?t.end:e.length-1,i=e._torrent.pieceLength;this._startPiece=(n+e.offset)/i|0,this._endPiece=(r+e.offset)/i|0,this._piece=this._startPiece,this._offset=n+e.offset-this._startPiece*i,this._missing=r-n+1,this._reading=!1,this._notifying=!1,this._criticalLength=Math.min(1048576/i|0,2)}_read(){this._reading||(this._reading=!0,this._notify())}_notify(){if(!this._reading||0===this._missing)return;if(!this._torrent.bitfield.get(this._piece))return this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return;if(this._notifying=!0,this._torrent.destroyed)return this._destroy(new Error("Torrent removed"));const e=this._piece;this._torrent.store.get(e,async(t,n)=>{if(this._notifying=!1,!this.destroyed){if(r("read %s (length %s) (err %s)",e,n.length,t&&t.message),t)return this._destroy(t);this._torrent._arc_decrypt&&(n=await this._torrent._arc_decrypt(n,e)),this._offset&&(n=n.slice(this._offset),this._offset=0),this._missing<n.length&&(n=n.slice(0,this._missing)),this._missing-=n.length,r("pushing buffer of length %s",n.length),this._reading=!1,this.push(n),0===this._missing&&this.push(null)}}),this._piece+=1}destroy(e){this._destroy(null,e)}_destroy(e,t){this.destroyed||(this.destroyed=!0,this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),e&&this.emit("error",e),this.emit("close"),t&&t())}}e.exports=o},cadf:function(e,t,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),s=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},ced0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c}));class r{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise((n,r)=>{const i=indexedDB.open(e,1);i.onerror=()=>r(i.error),i.onsuccess=()=>n(i.result),i.onupgradeneeded=()=>{i.result.createObjectStore(t)}})}_withIDBStore(e,t){return this._dbp.then(n=>new Promise((r,i)=>{const o=n.transaction(this.storeName,e);o.oncomplete=()=>r(),o.onabort=o.onerror=()=>i(o.error),t(o.objectStore(this.storeName))}))}}let i;function o(){return i||(i=new r),i}function s(e,t=o()){let n;return t._withIDBStore("readonly",t=>{n=t.get(e)}).then(()=>n.result)}function a(e,t,n=o()){return n._withIDBStore("readwrite",n=>{n.put(t,e)})}function c(e,t=o()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}},cffb:function(e,t,n){"use strict";n.r(t),n.d(t,"parse",(function(){return g})),n.d(t,"format",(function(){return o})),n.d(t,"resolve",(function(){return y})),n.d(t,"resolveObject",(function(){return b}));var r=n("b383"),i=/https?|ftp|gopher|file/;function o(e){"string"==typeof e&&(e=g(e));var t=function(e,t,n){var r=e.auth,i=e.hostname,o=e.protocol||"",s=e.pathname||"",a=e.hash||"",c=e.query||"",u=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?u=r+e.host:i&&(u=r+(~i.indexOf(":")?"["+i+"]":i),e.port&&(u+=":"+e.port)),c&&"object"==typeof c&&(c=t.encode(c));var h=e.search||c&&"?"+c||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||n.test(o))&&!1!==u?(u="//"+(u||""),s&&"/"!==s[0]&&(s="/"+s)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),h&&"?"!==h[0]&&(h="?"+h),{protocol:o,host:u,pathname:s=s.replace(/[?#]/g,encodeURIComponent),search:h=h.replace("#","%23"),hash:a}}(e,r,i);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var s="http://",a="w.w",c=s+a,u=/^https?|ftp|gopher|file/,h=/^(.+?)([#?].*)/,l=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,d=/^([a-z0-9.+-]*:)?\/\/\/*/i,f=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function p(e){try{return decodeURI(e)}catch(i){return e}}function g(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=(e=p(e.trim())).match(h);e=i?i[1].replace(/\\/g,"/")+i[2]:e.replace(/\\/g,"/"),f.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(l),g=d.test(e),_="";s&&(u.test(s[1])||(_=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(g=!1,u.test(s[1])?(_=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(_=s[1],e="/"+s[3]));var m,y=e.match(/(:[0-9]+)/),b="";y&&y[1]&&3===y[1].length&&(e=e.replace(b=y[1],b+"00"));var w={},v="",E="";try{m=new URL(e)}catch(T){v=T,_||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(E="/",e=e.substr(1));try{m=new URL(e,c)}catch(T){return w.protocol=_,w.href=_,w}}w.slashes=g&&!E,w.host=~m.host.indexOf(a)?"":m.host,w.hostname=~m.hostname.indexOf(a)?"":m.hostname.replace(/(\[|\])/g,""),w.protocol=v?_||null:m.protocol,w.search=m.search.replace(/\\/g,"%5C"),w.hash=m.hash.replace(/\\/g,"%5C");var O=e.split("#");!w.search&&~O[0].indexOf("?")&&(w.search="?"),w.hash||""!==O[1]||(w.hash="#"),w.query=t?r.decode(m.search.substr(1)):w.search.substr(1),w.pathname=E+p(m.pathname).replace(/"/g,"%22"),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),v&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),_&&!u.test(_)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[m.username,m.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=m.port,b&&(w.host=w.host.replace(b+"00",b),w.port=w.port.slice(0,-2)),w.href=E?""+w.pathname+w.search+w.hash:o(w);var R=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach((function(e){~R.indexOf(e)||(w[e]=w[e]||null)})),w}var _=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,m=/https?|ftp|gopher|file/;function y(e,t){var n="string"==typeof e?g(e):e;e="object"==typeof e?o(e):e;var r=g(t),i="";n.protocol&&!n.slashes&&(i=n.protocol,e=e.replace(n.protocol,""),i+="/"===t[0]||"/"===e[0]?"/":""),i&&r.protocol&&(i="",r.slashes||(i=r.protocol,t=t.replace(r.protocol,"")));var a=e.match(_);a&&!r.protocol&&(e=e.substr((i=a[1]+(a[2]||"")).length),/^\/\/[^\/]/.test(t)&&(i=i.slice(0,-1)));var u=new URL(e,c+"/"),h=new URL(t,u).toString().replace(c,""),l=r.protocol||n.protocol;return l+=n.slashes||r.slashes?"//":"",!i&&l?h=h.replace(s,l):i&&(h=h.replace(s,"")),m.test(h)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==h.slice(-1)||(h=h.slice(0,-1)),i&&(h=i+("/"===h[0]?h.substr(1):h)),h}function b(e,t){return g(y(e,t))}},d05a:function(e,t){function n(e,t){if(!(t>=e.length||t<0)){var n=e.pop();if(t<e.length){var r=e[t];return e[t]=n,r}return n}}e.exports=n},d1a0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("6b54");const r="arc:",i=":start",o=":end",s=(console.log,self.performance);class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.id,n=void 0===t?"":t,i=e.enabled,o=void 0===i||i;this.prefix=r+n,this.prefix.endsWith(":")||(this.prefix+=":"),this.enabled=o,this.mark=this.mark.bind(this),this.markOnce=this.markOnce.bind(this),this.markStart=this.markStart.bind(this),this.toJSON=this.toJSON.bind(this),this.markEndAndMeasure=this.markEndAndMeasure.bind(this)}enable(){this.enabled=!0}disable(){this.enabled=!1}mark(e){this.enabled&&s.mark(this.prefix+e)}measure(e,t,n){if(this.enabled)try{s.measure(this.prefix+e,t,n)}catch(r){}}markOnce(e){if(!this.enabled)return;const t=this.prefix+e,n=performance.getEntriesByName(t);0===n.length&&performance.mark(t)}markStart(e){if(!this.enabled)return()=>{};const t=this.prefix+e,n=Math.random().toString(36).substring(2,5),r=`${t}:${n}`,a=r+i,c=r+o;return s.mark(a),()=>this.markEndAndMeasure(t,a,c)}markEndAndMeasure(e,t,n){if(this.enabled){s.mark(n);try{s.measure(e,t,n)}catch(r){}s.clearMarks(t),s.clearMarks(n)}}toJSON(){if(!this.enabled)return{};const e=s.getEntries().filter(e=>e.name.startsWith(this.prefix)).map(e=>e.toJSON());return{entries:e,timeOrigin:s.timeOrigin}}}t["c"]=new a},d2b7:function(e,t){function n(e,t){if(null!=t&&"string"!==typeof t)throw new Error("Invalid mimetype, expected string.");return new Promise((n,r)=>{const i=[];e.on("data",e=>i.push(e)).once("end",()=>{const e=null!=t?new Blob(i,{type:t}):new Blob(i);n(e)}).once("error",r)})}e.exports=n},d329:function(e,t,n){function r(e){let t=e>>3;return e%8!==0&&t++,t}class i{constructor(e=0,t){const n=null!=t&&t.grow;this.grow=n&&isFinite(n)&&r(n)||n||0,this.buffer="number"===typeof e?new Uint8Array(r(e)):e}get(e){const t=e>>3;return t<this.buffer.length&&!!(this.buffer[t]&128>>e%8)}set(e,t=!0){const n=e>>3;if(t){if(this.buffer.length<n+1){const e=Math.max(n+1,Math.min(2*this.buffer.length,this.grow));if(e<=this.grow){const t=new Uint8Array(e);t.set(this.buffer),this.buffer=t}}this.buffer[n]|=128>>e%8}else n<this.buffer.length&&(this.buffer[n]&=~(128>>e%8))}}e.exports=i},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d633:function(e,t){function n(e,t){if(e&&t)return n(e)(t);if("function"!==typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"===typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}e.exports=n},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d938:function(e,t,n){var r=n("b639").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},dc14:function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}var o;e.exports=I,I.WritableState=S;var s={deprecate:n("b7d1")},a=n("429b"),c=n("b639").Buffer,u=t.Uint8Array||function(){};function h(e){return c.from(e)}function l(e){return c.isBuffer(e)||e instanceof u}var d,f=n("4681"),p=n("0db6"),g=p.getHighWaterMark,_=n("c9b8").codes,m=_.ERR_INVALID_ARG_TYPE,y=_.ERR_METHOD_NOT_IMPLEMENTED,b=_.ERR_MULTIPLE_CALLBACK,w=_.ERR_STREAM_CANNOT_PIPE,v=_.ERR_STREAM_DESTROYED,E=_.ERR_STREAM_NULL_VALUES,O=_.ERR_STREAM_WRITE_AFTER_END,R=_.ERR_UNKNOWN_ENCODING;function T(){}function S(e,t,r){o=o||n("b19a"),e=e||{},"boolean"!==typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=g(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){j(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(e){o=o||n("b19a");var t=this instanceof o;if(!t&&!d.call(I,this))return new I(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var n=new O;e.emit("error",n),r.nextTick(t,n)}function C(e,t,n,i){var o;return null===n?o=new E:"string"===typeof n||t.objectMode||(o=new m("chunk",["string","Buffer"],n)),!o||(e.emit("error",o),r.nextTick(i,o),!1)}function A(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n)),t}function x(e,t,n,r,i,o){if(!n){var s=A(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,a,r,i,o);return c}function P(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function N(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(G,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),G(e,t))}function L(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function j(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new b;if(L(n),t)N(e,n,i,t,o);else{var s=B(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||U(e,n),i?r.nextTick(M,e,n,s,o):M(e,n,s,o)}}function M(e,t,n,r){n||D(e,t),t.pendingcb--,r(),G(e,t)}function D(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function U(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;var a=0,c=!0;while(n)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,P(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{while(n){var u=n.chunk,h=n.encoding,l=n.callback,d=t.objectMode?1:u.length;if(P(e,t,!1,d,u,h,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function F(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),G(e,t)}))}function H(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(F,e,t)))}function G(e,t){var n=B(t);return n&&(H(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function $(e,t,n){t.ending=!0,G(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;e.entry=null;while(r){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}n("3fb5")(I,a),S.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===I&&(e&&e._writableState instanceof S)}})):d=function(e){return e instanceof this},I.prototype.pipe=function(){this.emit("error",new w)},I.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&l(e);return o&&!c.isBuffer(e)&&(e=h(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=T),r.ending?k(this,n):(o||C(this,r,e,n))&&(r.pendingcb++,i=x(this,r,o,e,t,n)),i},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||U(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new R(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,n){n(new y("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||$(this,r,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=f.destroy,I.prototype._undestroy=f.undestroy,I.prototype._destroy=function(e,t){t(e)}}).call(this,n("c8ba"),n("f28c"))},dc90:function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"===typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e);const c=t.log||r.log;c.apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function s(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}}function a(){const e=[...r.names.map(u),...r.skips.map(u).map(e=>"-"+e)].join(",");return r.enable(""),e}function c(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function h(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r.default=r,r.coerce=h,r.disable=a,r.enable=s,r.enabled=c,r.humanize=n("1468"),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},de83:function(e,t){e.exports=function(){if("undefined"===typeof window)return null;var e={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},df02:function(e,t,n){const r=n("0d7c"),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n("fe45"),{re:s,t:a}=n("22c0"),{compareIdentifiers:c}=n("2874");class u{constructor(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!==typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"===typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;while(--e>=0)"number"===typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=u},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("f28c"))},e099:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(s(e),(function(s){var a=encodeURIComponent(r(s))+n;return i(e[s])?o(e[s],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[s]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e1f4:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},e372:function(e,t,n){t=e.exports=n("ad71"),t.Stream=t,t.Readable=t,t.Writable=n("dc14"),t.Duplex=n("b19a"),t.Transform=n("27bf"),t.PassThrough=n("780f"),t.finished=n("903c"),t.pipeline=n("5d1c")},e3a2:function(e,t,n){(function(t){const{EventEmitter:r}=n("faa1"),{PassThrough:i}=n("e372"),o=n("ab52"),s=n("df7c"),a=n("a999"),c=n("d2b7"),u=n("7c59"),h=n("c3a8"),l=n("cab7");class d extends r{constructor(e,t){super(),this._torrent=e,this._destroyed=!1,this.name=t.name,this.path=t.path,this.length=t.length,this.offset=t.offset,this.done=!1;const n=t.offset,r=n+t.length-1;this._startPiece=n/this._torrent.pieceLength|0,this._endPiece=r/this._torrent.pieceLength|0,0===this.length&&(this.done=!0,this.emit("done"))}get downloaded(){if(!this._torrent.bitfield)return 0;const{pieces:e,bitfield:t,pieceLength:n}=this._torrent,{_startPiece:r,_endPiece:i}=this,o=e[r];let s=t.get(r)?n-this.offset%n:Math.max(o.length-o.missing-this.offset,0);for(let a=r+1;a<=i;++a)if(t.get(a))s+=n;else{const t=e[a];s+=t.length-t.missing}return Math.min(s,this.length)}get progress(){return this.length?this.downloaded/this.length:0}select(e){0!==this.length&&this._torrent.select(this._startPiece,this._endPiece,e)}deselect(){0!==this.length&&this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(e){if(0===this.length){const e=new i;return t.nextTick(()=>{e.end()}),e}const n=new l(this,e);return this._torrent.select(n._startPiece,n._endPiece,!0,()=>{n._notify()}),o(n,()=>{this._destroyed||this._torrent.destroyed||this._torrent.deselect(n._startPiece,n._endPiece,!0)}),n}getBuffer(e){h(this.createReadStream(),this.length,e)}getBlob(e){if("undefined"===typeof window)throw new Error("browser-only method");c(this.createReadStream(),this._getMimeType()).then(t=>e(null,t),t=>e(t))}getBlobURL(e){if("undefined"===typeof window)throw new Error("browser-only method");u(this.createReadStream(),this._getMimeType()).then(t=>e(null,t),t=>e(t))}appendTo(e,t,n){if("undefined"===typeof window)throw new Error("browser-only method");a.append(this,e,t,n)}renderTo(e,t,n){if("undefined"===typeof window)throw new Error("browser-only method");a.render(this,e,t,n)}_getMimeType(){return a.mime[s.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null}}e.exports=d}).call(this,n("f28c"))},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},ebd6:function(e,t,n){var r=n("cb7c"),i=n("d8e8"),o=n("2b4c")("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},f06c:function(e,t,n){const r=n("df02"),i=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=i},f28c:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var u,h=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):d=-1,h.length&&p())}function p(){if(!l){var e=a(f);l=!0;var t=h.length;while(t){u=h,h=[];while(++d<t)u&&u[d].run();d=-1,t=h.length}u=null,l=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function _(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new g(e,t)),1!==h.length||l||a(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},faa1:function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function s(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function h(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=h(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s(c)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?y(i):_(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,t);else{var u=c.length,h=_(c,u);for(n=0;n<u;++n)o(h[n],this,t)}return!0},c.prototype.addListener=function(e,t){return l(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return l(this,e,t,!0)},c.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():m(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return p(this,e,!0)},c.prototype.rawListeners=function(e){return p(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fca0:function(e,t,n){var r=n("5ca1"),i=n("7726").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},fe45:function(e,t){const n="2.0.0",r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16;e.exports={SEMVER_SPEC_VERSION:n,MAX_LENGTH:r,MAX_SAFE_INTEGER:i,MAX_SAFE_COMPONENT_LENGTH:o}},ff0e:function(e,t,n){(function(t){e.exports=function(e,n){var r=[];e.on("data",(function(e){r.push(e)})),e.once("end",(function(){n&&n(null,t.concat(r)),n=null})),e.once("error",(function(e){n&&n(e),n=null}))}}).call(this,n("b639").Buffer)}});