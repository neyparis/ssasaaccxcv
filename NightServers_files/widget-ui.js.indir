(window["arcWidgetJsonp"]=window["arcWidgetJsonp"]||[]).push([["widget-ui"],{"0040":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E %3Csvg xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:cc='http://creativecommons.org/ns%23' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' width='100mm' height='100mm' viewBox='0 0 708 708' id='svg5029' version='1.1' inkscape:version='0.91 r13725' sodipodi:docname='arc-icon.svg'%3E %3Cdefs id='defs5031' /%3E %3Csodipodi:namedview id='base' pagecolor='%23ffffff' bordercolor='%23666666' borderopacity='1.0' inkscape:pageopacity='0' inkscape:pageshadow='2' inkscape:zoom='0.98994949' inkscape:cx='124.55121' inkscape:cy='170.68274' inkscape:document-units='px' inkscape:current-layer='layer1' showgrid='false' fit-margin-top='0' fit-margin-left='0' fit-margin-right='0' fit-margin-bottom='0' inkscape:window-width='1336' inkscape:window-height='611' inkscape:window-x='446' inkscape:window-y='511' inkscape:window-maximized='0' /%3E %3Cmetadata id='metadata5034'%3E %3Crdf:RDF%3E %3Ccc:Work rdf:about=''%3E %3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E %3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage' /%3E %3Cdc:title%3E%3C/dc:title%3E %3C/cc:Work%3E %3C/rdf:RDF%3E %3C/metadata%3E %3Ccircle cx='354' cy='354' r='333' fill='%23166bf8'%3E%3C/circle%3E %3Cpath style='color:%23000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000000;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:32;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate' d='M 176.50781 0.005859375 C 79.620768 0.27094599 0.74864415 78.865255 0.017578125 175.64453 L 32.017578 175.64453 C 32.740501 96.166461 96.91743 32.268052 176.50781 32.005859 L 176.50781 0.005859375 z M 353.99023 176.36914 L 353.99023 177.62695 C 353.99097 177.4169 353.99805 177.20827 353.99805 176.99805 C 353.99805 176.78773 353.99097 176.57928 353.99023 176.36914 z M 321.98242 178.23828 C 321.31987 257.772 257.11267 321.73417 177.48047 321.99219 L 177.48047 353.96484 L 174.32617 353.96484 C 175.21659 353.97812 176.10454 353.99805 176.99805 353.99805 C 274.14782 353.99806 353.31132 275.23354 353.98242 178.23828 L 321.98242 178.23828 z ' transform='translate(177, 177) rotate(45, 177, 177)' id='circle4418' /%3E %3C/svg%3E"},"04b3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEUAAAD///////////////////////////8AAADr8xjQAAAAB3RSTlMAM7cPx7jIAE21/gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAABESURBVAjXYxAyYGBgYFZkUHcG0ialDCYlBgzM7slA7MxgUgaUNCkzdgfJMbunlIDUMpiUg7hwGiYOVQfTBzMHZi7UHgCB3RAZ7HszogAAAABJRU5ErkJggg=="},"0a87":function(e,t,n){"use strict";var o=n("4789"),i=n.n(o);i.a},"22a0":function(e,t,n){},"2b71":function(e,t,n){},"305f":function(e,t){e.exports={title:"{publisherName} gets a boost from",p1:{bold:"ðŸš€ {publisherName} is faster with Arc.",default:"Arc loads content from people's devices near you instead of from slower servers.",adblock:"With Arc, content is loaded from people's devices near you instead of from slower servers."},p2:{bold:"ðŸ’° Arc lets {publisherName} make money without ads.",default:"Just by being here, you share this site's content with others to support it and help create a faster Internet with fewer ads.",adblock:"With Arc, you share this site's content reciprocally with others to support it."},p3:{bold:"ðŸ”’ You're safe and in control.",default:"Arc doesn't impact your data or performance, and you can opt out any time.",adblock:"Arc only shares content on Wi-Fi and doesn't impact your data or performance. You can disable Arc any time."},learnMore:"Learn more",or:"Or",optOut:"opt out",optIn:"opt in",getArcMobile:"Get Arc for your site",getArcDesktop:"Get Arc for your website",optedOutOn:"You opted out of Arc on {date}.",optBackIn:"Opt back in"}},3506:function(e,t,n){var o={"./en.yaml":"305f"};function i(e){return Promise.resolve().then((function(){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var i=o[e];return n.t(i,7)}))}i.keys=function(){return Object.keys(o)},i.id="3506",e.exports=i},"3c30":function(e,t,n){},4602:function(e,t,n){},4789:function(e,t,n){},4945:function(e,t,n){"use strict";var o=n("2b71"),i=n.n(o);i.a},"4b5a":function(e,t,n){},"57d3":function(e,t,n){},"5e0c":function(e,t,n){},6145:function(e,t,n){"use strict";n.r(t);n("ac6a");var o=n("1da1"),i=n("ade3"),r=n("2b0e"),a=n("2103"),s=n.n(a),c=n("5ff7"),l=n("c4d1"),d=n("8c32"),p=n("5de4"),u=n("0ecd"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{height:e.documentHeight+"px"},attrs:{id:"arc-widget-container"}},[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.implicitlyHidePopper,expression:"implicitlyHidePopper"}],staticClass:"intrinsic-ignore",class:{"arc-absolute-left":e.windowHasVerticalScrollbar&&!e.isPopperOpen},attrs:{id:"arc-widget"}},[n("Launcher",{attrs:{isPopperOpen:e.isPopperOpen,isOptedOut:e.isOptedOut},on:{load:e.onLauncherLoad,click:e.explicitlyTogglePopper}}),n("transition",{attrs:{name:"fade-popper"}},[n("Popper",{directives:[{name:"show",rawName:"v-show",value:e.isPopperOpen,expression:"isPopperOpen"}],class:"view-"+e.viewState.toLowerCase(),attrs:{showBackBtn:e.showBackBtn,showOptLink:e.viewState===e.VIEW_STATES.DEFAULT,isOptedOut:e.isOptedOut},on:{back:function(t){return e.transition(e.VIEW_STATES.DEFAULT)},popperClosed:e.explicitlyTogglePopper,showOptOutPopper:function(t){return e.transition(e.VIEW_STATES.OPT_OUT)},showOptInPopper:function(t){return e.transition(e.VIEW_STATES.OPT_IN)}}},[n(e.popperComponent,{tag:"component",on:{optIn:e.onOptIn,optOut:e.onOptOut}})],1)],1),n("div",{style:e.pageShadowStyle,attrs:{id:"arc-page-shadow"}})],1)])},h=[],m=n("a5a5"),b=n("190a"),O=n("c74e"),g=n("af2a"),w=n("3d15"),v=n("85b1"),y=n("0d31"),A=n("a59c");Object(A["a"])();function _(e){let t="hidden";function n(){e.reportPageBlurOnUnload(window.location.href)}function o(e){const n=!document[t],o={focus:!0,focusin:!0,pageshow:!0,blur:!1,focusout:!1,pagehide:!1};n||e&&o[e.type]}return t in document?document.addEventListener("visibilitychange",o):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",o):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",o):(t="msHidden")in document?document.addEventListener("msvisibilitychange",o):"onfocusin"in document?document.onfocusin=document.onfocusout=o:(window.onblur=o,window.onfocus=o,window.onpageshow=o,window.onpagehide=o),window.addEventListener("beforeunload",n,!1),o(),()=>{document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",n,!1)}}function k(e){return I.apply(this,arguments)}function I(){return I=Object(o["a"])((function*(e){const t=_(e);return t})),I.apply(this,arguments)}console.log;const C=n("34eb")("arc:p2p-client");function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.addEventListener(...n),()=>e.removeEventListener(...n)}function P(e){return j.apply(this,arguments)}function j(){return j=Object(o["a"])((function*(e){const t=[];return navigator.connection&&t.push(E(navigator.connection,"change",e)),t.push(E(window,"offline",e)),t.push(E(window,"online",e)),()=>t.forEach(e=>e())})),j.apply(this,arguments)}function N(){return x.apply(this,arguments)}function x(){return x=Object(o["a"])((function*(){var e;return!Object(p["g"])()&&"cellular"!==(null===(e=navigator.connection)||void 0===e?void 0:e.type)})),x.apply(this,arguments)}function T(e,t,n,o){return S.apply(this,arguments)}function S(){return S=Object(o["a"])((function*(e,t,n,o){y["a"].setNodeId(n),y["a"].setBroker(e),y["a"].setReporter(t);const i=yield k(t);y["a"].addCleanupFn(i),e.on("master",w["b"](L)),e.on("newSession",w["b"](()=>{C("broker emitted new session"),y["a"].overmindClient&&y["a"].overmindClient.sendStatusReport()})),e.on("propertySessionId",w["b"](e=>{t.setPropertySessionId(e)})),Object(p["e"])(location.href)||(yield e.enableMasterEligibility(o,location.origin))})),S.apply(this,arguments)}function L(){return $.apply(this,arguments)}function $(){return $=Object(o["a"])((function*(){C("Look at me, Im the master now.");const e=yield Promise.all([n.e("vendors~widget-sc-client"),n.e("widget-sc-client")]).then(n.bind(null,"b07c")),t=e.default,i=new t(y["a"]);yield i.connect(),y["a"].setOvermindClient(i);const r=Object(v["a"])(Object(o["a"])((function*(){y["a"].updateSeederStatus(yield N())})),1e3),a=yield P(r);y["a"].addCleanupFn(a),setTimeout(Object(o["a"])((function*(){y["a"].updateSeederStatus(yield N())})),4e3)})),$.apply(this,arguments)}var D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i-frame",{class:e.iframeClass,attrs:{title:"Arc.io Widget Launcher",id:"arc-widget-launcher-iframe"},on:{load:e.onLoad}},[o("div",{class:e.launcherClass,attrs:{id:"launcher"}},[o("transition",{attrs:{name:"icon"}},[e.isPopperOpen?o("img",{key:"close",attrs:{id:"arc-close-icon",src:n("04b3")}}):o("img",{key:"arc",attrs:{id:"arc-icon",src:n("0040")}})])],1)])},U=[],B=(n("28a5"),n("a925")),M=n("305f"),R=n.n(M);console.log;r["a"].use(B["a"]);const H=new B["a"]({locale:"en",fallbackLocale:"en",messages:{en:R.a}}),G=["en"],W=["en"];function z(e){return H.locale=e,e}function F(){for(let e of navigator.languages)if(e=e.split("-")[0],G.includes(e))return V(e)}function V(e){return Y.apply(this,arguments)}function Y(){return Y=Object(o["a"])((function*(e){if(H.locale===e)return z(e);if(W.includes(e))return z(e);const t=yield n("3506")(`./${e}.yaml`);return H.setLocaleMessage(e,t.default),W.push(e),z(e)})),Y.apply(this,arguments)}const q=c["a"].STATIC_ORIGIN,J=c["a"].COMMIT_HASH;var K,Z,Q={render(e){return e("iframe",{attrs:{frameborder:0,title:"Arc Iframe"},class:"arc-iframe",on:{load:this.renderChildren}})},beforeUpdate(){this.bodyApp&&(this.bodyApp.children=Object.freeze(this.$slots.default))},methods:{renderChildren(){const e=this.$el.contentDocument,t=e.body,n=e.head,o=this.$slots.default;t.style.overflow="hidden",t.style.margin="0";let i=Object(d["h"])(q,"widget","widget","css");i+=`?${J}`,this.addStyleSheet(i),this.addStyleSheet("https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css"),n.insertAdjacentHTML("afterbegin",'<meta name="viewport" content="width=device-width,initial-scale=1">');const a=document.createElement("div");t.appendChild(a),this.bodyApp=new r["a"]({el:a,i18n:H,data:{children:Object.freeze(o)},render(e){return e("div",{attrs:{class:"arc-iframe-app"}},this.children)}}),this.$emit("load")},addStyleSheet(e){const t=this.$el.contentDocument.head,n=document.createElement("link");n.href=e,n.type="text/css",n.rel="stylesheet",t.appendChild(n)}}},X=Q,ee=(n("edb6"),n("2877")),te=Object(ee["a"])(X,K,Z,!1,null,null,null),ne=te.exports,oe={name:"Launcher",props:{isPopperOpen:Boolean,isOptedOut:Boolean},data:()=>({isMounted:!1}),computed:{launcherClass:e=>({"is-open":e.isPopperOpen,"is-opted-out":e.isOptedOut}),iframeClass:e=>({"is-visible":e.isMounted})},mounted(){setTimeout(()=>{this.isMounted=!0},25)},methods:{onLoad(){const e=this.$el.contentWindow.document;e.addEventListener("click",()=>this.$emit("click")),this.$emit("load")}},components:{"i-frame":ne}},ie=oe,re=(n("cd0e"),n("869a"),Object(ee["a"])(ie,D,U,!1,null,"0bfca5dc",null)),ae=re.exports,se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i-frame",{attrs:{id:"arc-popper-iframe",title:"Arc.io Widget Body"}},[o("div",{attrs:{id:"popper"}},[o("header",{class:{"is-opted-out":e.isOptedOut}},[e._t("header",[e.showBackBtn?o("span",{staticClass:"back-btn",domProps:{textContent:e._s("ðŸ¡ ")},on:{click:function(t){return e.$emit("back")}}}):e._e(),o("span",{staticClass:"title"},[e._v("\n                    ðŸ‘‹\n                    "+e._s(e.$t("title",{publisherName:e.publisherName}))+"\n                    "),o("a",{attrs:{href:e.$env.HOMEPAGE_ORIGIN,target:"_blank"}},[e._v("Arc")])])]),o("span",{staticClass:"close-icon",on:{click:function(t){return e.$emit("popperClosed")}}},[o("img",{attrs:{src:n("04b3")}})])],2),o("div",{staticClass:"body"},[o("transition",{attrs:{name:"fade",mode:"out-in"}},[e._t("default")],2)],1),o("footer",[o("span",[o("a",{attrs:{href:e.ARC_SECURITY_URL,target:"_blank"}},[o("img",{attrs:{id:"lock-icon",src:n("ad78")}})]),e._v("\n                Â \n            ")]),o("span",[o("div",[o("a",{directives:[{name:"t",rawName:"v-t",value:"learnMore",expression:"'learnMore'"}],attrs:{href:e.ABOUT_URL,target:"_blank"}}),e._v(".Â \n                ")]),o("div",[e.showOptLink?o("span",[e._v("\n                        "+e._s(e.$t("or"))+",\n                        "),e.isOptedOut?o("a",{directives:[{name:"t",rawName:"v-t",value:"optIn",expression:"'optIn'"}],on:{click:function(t){return e.$emit("showOptInPopper")}}}):o("a",{directives:[{name:"t",rawName:"v-t",value:"optOut",expression:"'optOut'"}],on:{click:function(t){return e.$emit("showOptOutPopper")}}}),e._v(".\n                    ")]):e._e()])])])])])},ce=[];const le=c["a"].HOMEPAGE_ORIGIN;var de={name:"Popper",props:{showBackBtn:Boolean,showOptLink:Boolean,isOptedOut:Boolean},data(){const e=Object(d["b"])(window.location.hostname);return{publisherName:e,ABOUT_URL:le+"/about",ARC_SECURITY_URL:le+"/about#arc-respects-your-privacy-and-performance",SIGN_UP_URL:`${le}?ref=${e.toLowerCase()}#signUp`}},components:{"i-frame":ne}},pe=de,ue=(n("8648"),Object(ee["a"])(pe,se,ce,!1,null,null,null)),fe=ue.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[n("b",[e._v(e._s(e.$t("p1.bold",{publisherName:e.publisherName})))]),e._v("\n        "+e._s(e.$t("p1.default",{publisherName:e.publisherName}))+"\n    ")]),n("p",[n("b",[e._v(e._s(e.$t("p2.bold",{publisherName:e.publisherName})))]),e._v("\n        "+e._s(e.$t("p2.default",{publisherName:e.publisherName}))+"\n    ")]),n("p",[n("b",[e._v(e._s(e.$t("p3.bold",{publisherName:e.publisherName})))]),e._v("\n        "+e._s(e.$t("p3.default",{publisherName:e.publisherName}))+"\n    ")]),n("p",[n("a",{attrs:{href:e.SIGN_UP_URL,target:"_parent"}},[e._m(0)])])])},me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"blue-button"},[n("span",[e._v("Get Arc")]),e._v(" for your site\n            ")])}];const be=c["a"].HOMEPAGE_ORIGIN;var Oe={name:"DefaultPopper",data(){const e=Object(d["b"])(window.location.hostname);return{publisherName:e,SIGN_UP_URL:`${be}?ref=${e.toLowerCase()}#signUp`}}},ge=Oe,we=(n("fc12"),Object(ee["a"])(ge,he,me,!1,null,"75be3ac0",null)),ve=we.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("\n        Hi friend! You run adblock. We do, too. That's why we built Arc:\n        a bandwidth exchange to support your favorite sites without ads.\n    ")]),n("p",[n("b",[e._v(e._s(e.$t("p1.bold",{publisherName:e.publisherName})))]),e._v("\n        "+e._s(e.$t("p1.adblock",{publisherName:e.publisherName}))+"\n    ")]),n("p",[n("b",[e._v(e._s(e.$t("p2.bold",{publisherName:e.publisherName})))]),e._v("\n        "+e._s(e.$t("p2.adblock",{publisherName:e.publisherName}))+"\n    ")]),n("p",[n("b",[e._v(e._s(e.$t("p3.bold",{publisherName:e.publisherName})))]),e._v("\n        "+e._s(e.$t("p3.adblock",{publisherName:e.publisherName}))+"\n    ")]),n("p",{staticClass:"opt-section"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.clickedOptIn?n("OptInButton",{attrs:{immediateOptIn:""},on:{optIn:function(t){return e.$emit("optIn")}}}):n("span",[n("button",{staticClass:"start-opt-in",on:{click:e.onOptIn}},[n("span",[e._v("\n                        Click here to use Arc\n                    ")])]),e._v(" and share a little content for a faster\n                experience and to support "+e._s(e.publisherName)+".\n            ")])],1)],1),n("p",[n("a",{attrs:{href:e.SIGN_UP_URL,target:"_parent"}},[e._m(0)])])])},Ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"blue-button"},[n("span",[e._v("Get Arc")]),e._v(" for your site\n            ")])}],_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"opt-in-button blue-button",attrs:{disabled:e.btnClicked},on:{click:e.optIn}},[e.btnClicked?[n("div",{style:{display:"inline-block",transform:"rotateY(180deg)"}},[e._v("ðŸŽ‰")]),e._v("\n        Awesome! Welcome to Arc! ðŸŽ‰\n    ")]:[n("span",[e._v("Opt In")]),e._v(" to Arc\n    ")],n("div",{staticClass:"confetti-container"},[n("div",{ref:"confettiRoot",staticClass:"confetti-root",style:{top:e.confettiTop+"px"}})])],2)},ke=[];const Ie=["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"];function Ce(e,t,n){return Array.from({length:t}).map((t,o)=>{const i=document.createElement("div"),r=n[o%n.length];return i.style["background-color"]=r,i.style.width="10px",i.style.height="10px",i.style.position="absolute",e.appendChild(i),i})}function Ee(e,t,n,o){const i=e*(Math.PI/180),r=t*(Math.PI/180);return{x:0,y:0,wobble:10*o(),velocity:.5*n+o()*n,angle2D:-i+(.5*r-o()*r),angle3D:-Math.PI/4+o()*(Math.PI/2),tiltAngle:o()*Math.PI}}function Pe(e,t,n){e.physics.x+=Math.cos(e.physics.angle2D)*e.physics.velocity,e.physics.y+=Math.sin(e.physics.angle2D)*e.physics.velocity,e.physics.z+=Math.sin(e.physics.angle3D)*e.physics.velocity,e.physics.wobble+=.1,e.physics.velocity*=n,e.physics.y+=3,e.physics.tiltAngle+=.1;const o=e.physics,i=o.x,r=o.y,a=o.tiltAngle,s=o.wobble,c=i+10*Math.cos(s),l=r+10*Math.sin(s),d=`translate3d(${c}px, ${l}px, 0) rotate3d(1, 1, 1, ${a}rad)`;e.element.style.transform=d,e.element.style.opacity=1-t}function je(e,t,n){const o=200;let i=0;function r(){t.forEach(e=>Pe(e,i/o,n)),i+=1,i<o?requestAnimationFrame(r):t.forEach(t=>{if(t.element.parentNode===e)return e.removeChild(t.element)})}requestAnimationFrame(r)}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.angle,o=void 0===n?90:n,i=t.decay,r=void 0===i?.9:i,a=t.spread,s=void 0===a?45:a,c=t.startVelocity,l=void 0===c?45:c,d=t.elementCount,p=void 0===d?50:d,u=t.colors,f=void 0===u?Ie:u,h=t.random,m=void 0===h?Math.random:h;const b=Ce(e,p,f),O=b.map(e=>({element:e,physics:Ee(o,s,l,m)}));je(e,O,r)}var xe={name:"OptInButton",props:{immediateOptIn:Boolean},data:()=>({btnClicked:!1,confettiTop:0}),mounted(){this.immediateOptIn&&this.optIn()},methods:{optIn(){var e=this;return Object(o["a"])((function*(){e.btnClicked=!0,e.confettiTop=e.$el.getBoundingClientRect().top,yield Object(d["k"])(250),Ne(e.$refs.confettiRoot,{spread:80,elementCount:55,startVelocity:28}),yield Object(d["k"])(2500),e.$emit("optIn")}))()}}},Te=xe,Se=(n("e916"),Object(ee["a"])(Te,_e,ke,!1,null,"d0cb0492",null)),Le=Se.exports;const $e=c["a"].HOMEPAGE_ORIGIN;var De={name:"AdblockPopper",data(){const e=Object(d["b"])(window.location.hostname);return{publisherName:e,clickedOptIn:!1,SIGN_UP_URL:`${$e}?ref=${e.toLowerCase()}#signUp`}},methods:{onOptIn(){this.clickedOptIn=!0}},components:{OptInButton:Le}},Ue=De,Be=(n("4945"),Object(ee["a"])(Ue,ye,Ae,!1,null,"42a67f3a",null)),Me=Be.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("\n        At Arc, we endeavor to replace online ads. We want to improve your\n        experience online and preserve your privacy. You can read more about how\n        Arc does this\n        "),n("a",{attrs:{href:e.$env.HOMEPAGE_ORIGIN+"/about",target:"_blank"}},[e._v("here")]),e._v(".\n    ")]),n("p",[e._v("\n        You previously elected to opt out of Arc. If you'd like to see fewer ads\n        and support your favorite websites, you can opt back into Arc below. You\n        can, of course, always elect to opt back out of Arc later.\n    ")]),n("p",[n("OptInButton",{on:{optIn:function(t){return e.$emit("optIn")}}})],1)])},He=[],Ge={name:"OptInPopper",components:{OptInButton:Le}},We=Ge,ze=(n("9e1d"),Object(ee["a"])(We,Re,He,!1,null,"54a5b406",null)),Fe=ze.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("\n        At Arc, we endeavor to replace online ads. We want to improve your\n        experience online and preserve your privacy. You can read more about how\n        Arc does this\n        "),n("a",{attrs:{href:e.$env.HOMEPAGE_ORIGIN+"/about",target:"_blank"}},[e._v("here")]),e._v(".\n    ")]),n("p",[e._v("\n        If you elect to opt out of Arc, websites may show you more ads to recoup\n        lost revenue. Of course, should you elect to opt out of Arc now, you can\n        always elect to opt back in later.\n    ")]),n("p",[n("button",{staticClass:"blue-button",attrs:{disabled:e.btnClicked},on:{click:e.onClick}},[e.btnClicked?[e._v("\n                You're now opted out ðŸ˜¢\n            ")]:[n("span",[e._v("Opt Out")]),e._v(" of Arc\n            ")]],2)])])},Ye=[],qe={name:"OptOutPopper",data:()=>({btnClicked:!1}),methods:{onClick(){this.btnClicked=!0,setTimeout(()=>this.$emit("optOut"),1250)}}},Je=qe,Ke=(n("81bb"),Object(ee["a"])(Je,Ve,Ye,!1,null,"39ba36f5",null)),Ze=Ke.exports,Qe=n("517b");function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const tt=n("34eb")("arc:p2p-client"),nt=(console.log,36e5),ot={DEFAULT:"DEFAULT",OPT_OUT:"OPT_OUT",OPT_IN:"OPT_IN",ADBLOCK:"ADBLOCK"};var it={name:"Widget",data(){return{isLauncherVisible:!0,isPopperOpen:!1,documentHeight:0,windowHasVerticalScrollbar:!1,hasAdblock:!1,widgetOpt:{},widgetConfig:{},viewState:ot.DEFAULT,VIEW_STATES:ot}},computed:{pageShadowStyle:e=>({opacity:e.isPopperOpen?1:0}),isWidgetEnabled:e=>e.widgetOpt.state!==m["h"].OPTED_OUT,isOptedIn:e=>e.widgetOpt.state===m["h"].OPTED_IN,isOptedOut:e=>e.widgetOpt.state===m["h"].OPTED_OUT,isOptUndecided:e=>e.widgetOpt.state===m["h"].UNDECIDED,showBackBtn:e=>{return[ot.OPT_OUT,ot.OPT_IN].includes(e.viewState)},popperComponent:e=>{switch(e.viewState){case ot.OPT_OUT:return Ze;case ot.OPT_IN:return Fe;case ot.ADBLOCK:return Me;case ot.DEFAULT:default:return ve}},requestOptIn(){const e=this.widgetConfig[u["a"]]===u["b"];return e&&this.hasAdblock&&!Object(p["f"])()},widgetOptDateStr(){const e={month:"long",year:"numeric",day:"numeric"},t=new Date(this.widgetOpt.date);return t.toLocaleString(this.$i18n.locale,e)}},watch:{isPopperOpen(){var e=this;return Object(o["a"])((function*(){if(e.isPopperOpen&&e.reporter&&e.reporter.reportWidgetOpened(),!e.isPopperOpen&&e.requestOptIn&&e.isOptUndecided){const t=et({},e.widgetOpt,{dismissedAt:Date.now()});tt("adblock user closed popper without decision, scheduling next popper auto appearance",t),yield e.broker.setWidgetOptState(t)}}))()}},mounted(){var e=this;return Object(o["a"])((function*(){const t=Object(Qe["a"])(()=>{e.documentHeight=document.documentElement.offsetHeight,e.windowHasVerticalScrollbar=e.documentHeight>window.innerHeight},100);for(let e=0;e<3;e++)setTimeout(t,0);window.addEventListener("resize",t),e.widgetConfig=Object(u["c"])();const n=yield Object(g["a"])(),o=p["h"].get("nodeId",yield n.getOrGenerateMyNodeId());e.broker=n,e.hasAdblock=yield Object(p["d"])(),O["a"].setClientId(o);const i=e.widgetConfig.propertyId;b["a"].setNodeId(o),b["a"].setPropertyId(i),e.reporter=b["a"],e.widgetOpt=yield e.broker.getWidgetOptState(),tt("widgetOpt",et({},e.widgetOpt)),e.checkWidgetStatus(n,b["a"],o),e.reportNodeInfo(n,b["a"],i),l["a"].configureScope(t=>{t.setTag("nodeId",o),t.setTag("arcClient",m["m"]),t.setTag("CDN",e.widgetConfig.CDN),t.setTag("locale",e.$i18n.locale)})}))()},methods:{transition(e){this.viewState=e},showLauncherIfWidgetIsInstalledCorrectly(){var e=this;return Object(o["a"])((function*(){var t;const n=yield window.__arc__.cdnConfigPromise,o=(null===n||void 0===n?void 0:null===(t=n.autoCdnConfig)||void 0===t?void 0:t.mappings)||{},i=Object.keys(o).length>0,r=yield window.__arc__.isSwAlivePromise;r&&i?e.isLauncherVisible=!0:(r||tt("INSTALLATION ERR: sw didnt respond to health check"),i||tt("INSTALLATION ERR: cdnConfig missing at least 1 domain"))}))()},onOptIn(){this.onOptDecision(this.broker.enableWidget)},onOptOut(){this.onOptDecision(this.broker.disableWidget)},onOptDecision(e){var t=this;return Object(o["a"])((function*(){t.isPopperOpen=!1,yield Object(d["k"])(500);const n=t.widgetConfig.propertyId,o=window.location.origin;yield e(n,o),t.widgetOpt=yield t.broker.getWidgetOptState();const i=t.isOptedOut?ot.OPT_IN:ot.DEFAULT;t.transition(i)}))()},implicitlyHidePopper(){this.isPopperOpen&&(this.requestOptIn&&this.isOptUndecided?tt("Refusing to close popper, adblock user must decide or click on launcher to close"):this.isPopperOpen=!1)},explicitlyTogglePopper(){this.isPopperOpen=!this.isPopperOpen},checkWidgetStatus(e,t,n){var i=this;return Object(o["a"])((function*(){const o=i.widgetOpt.dismissedAt,r=i.widgetConfig,a=r.propertyId,s=r.isReverseProxied,c=()=>T(e,t,n,a);if(i.isOptedIn)c();else if(i.isOptedOut)i.transition(ot.OPT_IN);else if(i.isOptUndecided)if(!i.hasAdblock||s)c();else if(i.transition(ot.ADBLOCK),i.requestOptIn){const e=Date.now()-new Date(o),t=e>24*nt;o&&!t||(i.isPopperOpen=!0,tt("showing adblockPopper. dismissedAt="+`${o}, showAgain=${t}`))}else tt("adblock user is undecided but doing nothing b/c requestOptIn=false.")}))()},reportNodeInfo(e,t,n){var i=this;return Object(o["a"])((function*(){const o="lastNodeInfoReportAt",r=localStorage.getItem(o);if(r&&Date.now()-Number(r)<nt)return;localStorage.setItem(o,Date.now());const a=yield e.getCustomStorageEstimate(),s=a.usage,c=a.quota,l=et({propertyId:n},i.widgetOpt,{},Object(p["b"])(),{usedStorage:s,totalStorage:c});t.reportNodeInfo(l)}))()},onLauncherLoad(){window.postMessage(m["i"].WIDGET_UI_LOAD,location.origin)}},components:{Launcher:ae,Popper:fe,DefaultPopper:ve,AdblockPopper:Me,OptInPopper:Fe,OptOutPopper:Ze}},rt=it,at=(n("0a87"),Object(ee["a"])(rt,f,h,!1,null,"8bf4a932",null)),st=at.exports;n("f04d");function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"initWidget",(function(){return Ot}));const dt=c["a"].STATIC_ORIGIN,pt=c["a"].COMMIT_HASH;function ut(){return ft.apply(this,arguments)}function ft(){return ft=Object(o["a"])((function*(){let e=Object(d["h"])(dt,"widget","widget","css");e+=`?${pt}`;let t=document.querySelector(`link[href="${e}"]`);if(t)return;t=document.createElement("link"),t.href=e,t.rel="stylesheet",t.type="text/css";const n=new Promise(e=>t.onload=e);return document.head.appendChild(t),n})),ft.apply(this,arguments)}function ht(){return new Promise(e=>{"complete"===document.readyState?e():window.addEventListener("load",e)})}function mt(){try{return window.self!==window.top}catch(e){return!0}}function bt(){const e=Object(u["c"])(),t=e.env;return"wp"!==t||!mt()}function Ot(){return gt.apply(this,arguments)}function gt(){return gt=Object(o["a"])((function*(){if(bt())try{F(),yield Promise.all([ht(),ut()])}finally{const e=Object(p["c"])(),t=document.createElement("div");e.appendChild(t),new r["a"]({i18n:H,render:e=>e(st)}).$mount(t)}})),gt.apply(this,arguments)}r["a"].use(s.a),r["a"].config.productionTip=!1,r["a"].config.errorHandler=function(e,t,n){console.log("Vue global error handler",e,t,n),l["a"].captureException(e)},r["a"].prototype.$env=Object.freeze(lt({},c["a"])),r["a"].prototype.$cl=console.log},"81bb":function(e,t,n){"use strict";var o=n("4602"),i=n.n(o);i.a},8648:function(e,t,n){"use strict";var o=n("5e0c"),i=n.n(o);i.a},"869a":function(e,t,n){"use strict";var o=n("8cd8"),i=n.n(o);i.a},"8cd8":function(e,t,n){},"9e1d":function(e,t,n){"use strict";var o=n("57d3"),i=n.n(o);i.a},ad78:function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg xmlns='http://www.w3.org/2000/svg' data-v-6bf02118='' aria-hidden='true' focusable='false' data-icon='lock' role='img' viewBox='0 0 448 512'%3E %3Cpath data-v-6bf02118='' fill='%23afafaf' d='M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z' class='' /%3E %3C/svg%3E"},cd0e:function(e,t,n){"use strict";var o=n("22a0"),i=n.n(o);i.a},e916:function(e,t,n){"use strict";var o=n("4b5a"),i=n.n(o);i.a},edb6:function(e,t,n){"use strict";var o=n("3c30"),i=n.n(o);i.a},f04d:function(e,t,n){},fc12:function(e,t,n){"use strict";var o=n("fdaa"),i=n.n(o);i.a},fdaa:function(e,t,n){}}]);